import{a as E,b as z,c as dy,d as ee,e as fy}from"./chunk-ZJUZRMCN.js";function Lf(e,n){return Object.is(e,n)}var je=null,Go=!1,Wo=1,un=Symbol("SIGNAL");function te(e){let n=je;return je=e,n}function Vf(){return je}var ji={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jl(e){if(Go)throw new Error("");if(je===null)return;je.consumerOnSignalRead(e);let n=je.nextProducerIndex++;if(Yo(je),n<je.producerNode.length&&je.producerNode[n]!==e&&Vi(je)){let t=je.producerNode[n];Qo(t,je.producerIndexOfThis[n])}je.producerNode[n]!==e&&(je.producerNode[n]=e,je.producerIndexOfThis[n]=Vi(je)?$f(e,je,n):0),je.producerLastReadVersion[n]=e.version}function py(){Wo++}function jf(e){if(!(Vi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Wo)){if(!e.producerMustRecompute(e)&&!Bl(e)){e.dirty=!1,e.lastCleanEpoch=Wo;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Wo}}function Uf(e){if(e.liveConsumerNode===void 0)return;let n=Go;Go=!0;try{for(let t of e.liveConsumerNode)t.dirty||hy(t)}finally{Go=n}}function Bf(){return je?.consumerAllowSignalWrites!==!1}function hy(e){e.dirty=!0,Uf(e),e.consumerMarkedDirty?.(e)}function Zo(e){return e&&(e.nextProducerIndex=0),te(e)}function Ul(e,n){if(te(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Vi(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Qo(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Bl(e){Yo(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(jf(t),r!==t.version))return!0}return!1}function $l(e){if(Yo(e),Vi(e))for(let n=0;n<e.producerNode.length;n++)Qo(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function $f(e,n,t){if(Hf(e),e.liveConsumerNode.length===0&&zf(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=$f(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Qo(e,n){if(Hf(e),e.liveConsumerNode.length===1&&zf(e))for(let r=0;r<e.producerNode.length;r++)Qo(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Yo(i),i.producerIndexOfThis[r]=n}}function Vi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Yo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Hf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function zf(e){return e.producerNode!==void 0}function Gf(e){let n=Object.create(my);n.computation=e;let t=()=>{if(jf(n),jl(n),n.value===qo)throw n.error;return n.value};return t[un]=n,t}var Ll=Symbol("UNSET"),Vl=Symbol("COMPUTING"),qo=Symbol("ERRORED"),my=z(E({},ji),{value:Ll,dirty:!0,error:null,equal:Lf,producerMustRecompute(e){return e.value===Ll||e.value===Vl},producerRecomputeValue(e){if(e.value===Vl)throw new Error("Detected cycle in computations.");let n=e.value;e.value=Vl;let t=Zo(e),r;try{r=e.computation()}catch(i){r=qo,e.error=i}finally{Ul(e,t)}if(n!==Ll&&n!==qo&&r!==qo&&e.equal(n,r)){e.value=n;return}e.value=r,e.version++}});function gy(){throw new Error}var Wf=gy;function qf(){Wf()}function Zf(e){Wf=e}var vy=null;function Qf(e){let n=Object.create(Kf);n.value=e;let t=()=>(jl(n),n.value);return t[un]=n,t}function Hl(e,n){Bf()||qf(),e.equal(e.value,n)||(e.value=n,yy(e))}function Yf(e,n){Bf()||qf(),Hl(e,n(e.value))}var Kf=z(E({},ji),{equal:Lf,value:void 0});function yy(e){e.version++,py(),Uf(e),vy?.()}function U(e){return typeof e=="function"}function Pr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ko=Pr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ui(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Ne=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(o){n=o instanceof Ko?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Jf(o)}catch(s){n=n??[],s instanceof Ko?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ko(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Jf(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ui(t,n)}remove(n){let{_finalizers:t}=this;t&&Ui(t,n),n instanceof e&&n._removeParent(this)}};Ne.EMPTY=(()=>{let e=new Ne;return e.closed=!0,e})();var zl=Ne.EMPTY;function Jo(e){return e instanceof Ne||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function Jf(e){U(e)?e():e.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fr={setTimeout(e,n,...t){let{delegate:r}=Fr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Fr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Xo(e){Fr.setTimeout(()=>{let{onUnhandledError:n}=Rt;if(n)n(e);else throw e})}function Bi(){}var Xf=Gl("C",void 0,void 0);function ep(e){return Gl("E",void 0,e)}function tp(e){return Gl("N",e,void 0)}function Gl(e,n,t){return{kind:e,value:n,error:t}}var or=null;function Lr(e){if(Rt.useDeprecatedSynchronousErrorHandling){let n=!or;if(n&&(or={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=or;if(or=null,t)throw r}}else e()}function np(e){Rt.useDeprecatedSynchronousErrorHandling&&or&&(or.errorThrown=!0,or.error=e)}var sr=class extends Ne{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Jo(n)&&n.add(this)):this.destination=wy}static create(n,t,r){return new In(n,t,r)}next(n){this.isStopped?ql(tp(n),this):this._next(n)}error(n){this.isStopped?ql(ep(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ql(Xf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},by=Function.prototype.bind;function Wl(e,n){return by.call(e,n)}var Zl=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){es(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){es(r)}else es(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){es(t)}}},In=class extends sr{constructor(n,t,r){super();let i;if(U(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Rt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Wl(n.next,o),error:n.error&&Wl(n.error,o),complete:n.complete&&Wl(n.complete,o)}):i=n}this.destination=new Zl(i)}};function es(e){Rt.useDeprecatedSynchronousErrorHandling?np(e):Xo(e)}function _y(e){throw e}function ql(e,n){let{onStoppedNotification:t}=Rt;t&&Fr.setTimeout(()=>t(e,n))}var wy={closed:!0,next:Bi,error:_y,complete:Bi};var Vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(e){return e}function Ql(...e){return Yl(e)}function Yl(e){return e.length===0?ft:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var Y=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Dy(t)?t:new In(t,r,i);return Lr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=rp(r),new r((i,o)=>{let s=new In({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Vr](){return this}pipe(...t){return Yl(t)(this)}toPromise(t){return t=rp(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function rp(e){var n;return(n=e??Rt.Promise)!==null&&n!==void 0?n:Promise}function Cy(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}function Dy(e){return e&&e instanceof sr||Cy(e)&&Jo(e)}function Kl(e){return U(e?.lift)}function K(e){return n=>{if(Kl(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(e,n,t,r,i){return new Jl(e,n,t,r,i)}var Jl=class extends sr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function jr(){return K((e,n)=>{let t=null;e._refCount++;let r=Z(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Ur=class extends Y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Kl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ne;let t=this.getSubject();n.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ne.EMPTY)}return n}refCount(){return jr()(this)}};var ip=Pr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ts(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ip}next(t){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zl:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,Ui(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return e.create=(n,t)=>new ts(n,t),e})(),ts=class extends Be{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:zl}};var Se=class extends Be{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var pt=new Y(e=>e.complete());function op(e){return e&&U(e.schedule)}function sp(e){return e[e.length-1]}function ns(e){return U(sp(e))?e.pop():void 0}function Sn(e){return op(sp(e))?e.pop():void 0}function lp(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(m){s(m)}}function l(h){try{d(r.throw(h))}catch(m){s(m)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(e,n||[])).next())})}function ap(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ar(e){return this instanceof ar?(this.v=e,this):new ar(e)}function cp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,m)}}function a(y,x){r[y]&&(i[y]=function(I){return new Promise(function(R,j){o.push([y,I,R,j])>1||l(y,I)})},x&&(i[y]=x(i[y])))}function l(y,x){try{d(r[y](x))}catch(I){b(o[0][3],I)}}function d(y){y.value instanceof ar?Promise.resolve(y.value.v).then(h,m):b(o[0][2],y)}function h(y){l("next",y)}function m(y){l("throw",y)}function b(y,x){y(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function up(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof ap=="function"?ap(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var rs=e=>e&&typeof e.length=="number"&&typeof e!="function";function is(e){return U(e?.then)}function os(e){return U(e[Vr])}function ss(e){return Symbol.asyncIterator&&U(e?.[Symbol.asyncIterator])}function as(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ls=xy();function cs(e){return U(e?.[ls])}function us(e){return cp(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield ar(t.read());if(i)return yield ar(void 0);yield yield ar(r)}}finally{t.releaseLock()}})}function ds(e){return U(e?.getReader)}function Re(e){if(e instanceof Y)return e;if(e!=null){if(os(e))return Ey(e);if(rs(e))return My(e);if(is(e))return Iy(e);if(ss(e))return dp(e);if(cs(e))return Sy(e);if(ds(e))return Ty(e)}throw as(e)}function Ey(e){return new Y(n=>{let t=e[Vr]();if(U(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function My(e){return new Y(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Iy(e){return new Y(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Xo)})}function Sy(e){return new Y(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function dp(e){return new Y(n=>{Ay(e,n).catch(t=>n.error(t))})}function Ty(e){return dp(us(e))}function Ay(e,n){var t,r,i,o;return lp(this,void 0,void 0,function*(){try{for(t=up(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function st(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function fs(e,n=0){return K((t,r)=>{t.subscribe(Z(r,i=>st(r,e,()=>r.next(i),n),()=>st(r,e,()=>r.complete(),n),i=>st(r,e,()=>r.error(i),n)))})}function ps(e,n=0){return K((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function fp(e,n){return Re(e).pipe(ps(n),fs(n))}function pp(e,n){return Re(e).pipe(ps(n),fs(n))}function hp(e,n){return new Y(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function mp(e,n){return new Y(t=>{let r;return st(t,n,()=>{r=e[ls](),st(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function hs(e,n){if(!e)throw new Error("Iterable cannot be null");return new Y(t=>{st(t,n,()=>{let r=e[Symbol.asyncIterator]();st(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function gp(e,n){return hs(us(e),n)}function vp(e,n){if(e!=null){if(os(e))return fp(e,n);if(rs(e))return hp(e,n);if(is(e))return pp(e,n);if(ss(e))return hs(e,n);if(cs(e))return mp(e,n);if(ds(e))return gp(e,n)}throw as(e)}function he(e,n){return n?vp(e,n):Re(e)}function L(...e){let n=Sn(e);return he(e,n)}function Te(e,n){let t=U(e)?e:()=>e,r=i=>i.error(t());return new Y(n?i=>n.schedule(r,0,i):r)}function Xl(e){return!!e&&(e instanceof Y||U(e.lift)&&U(e.subscribe))}var Ot=Pr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(e,n){let t=typeof n=="object";return new Promise((r,i)=>{let o=new In({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(n.defaultValue):i(new Ot)}});e.subscribe(o)})}function B(e,n){return K((t,r)=>{let i=0;t.subscribe(Z(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:Ny}=Array;function Ry(e,n){return Ny(n)?e(...n):e(n)}function ms(e){return B(n=>Ry(e,n))}var{isArray:Oy}=Array,{getPrototypeOf:ky,prototype:Py,keys:Fy}=Object;function gs(e){if(e.length===1){let n=e[0];if(Oy(n))return{args:n,keys:null};if(Ly(n)){let t=Fy(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Ly(e){return e&&typeof e=="object"&&ky(e)===Py}function vs(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function $i(...e){let n=Sn(e),t=ns(e),{args:r,keys:i}=gs(e);if(r.length===0)return he([],n);let o=new Y(Vy(r,n,i?s=>vs(i,s):ft));return t?o.pipe(ms(t)):o}function Vy(e,n,t=ft){return r=>{yp(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)yp(n,()=>{let d=he(e[l],n),h=!1;d.subscribe(Z(r,m=>{o[l]=m,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yp(e,n,t){e?st(t,e,n):n()}function bp(e,n,t,r,i,o,s,a){let l=[],d=0,h=0,m=!1,b=()=>{m&&!l.length&&!d&&n.complete()},y=I=>d<r?x(I):l.push(I),x=I=>{o&&n.next(I),d++;let R=!1;Re(t(I,h++)).subscribe(Z(n,j=>{i?.(j),o?y(j):n.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;l.length&&d<r;){let j=l.shift();s?st(n,s,()=>x(j)):x(j)}b()}catch(j){n.error(j)}}))};return e.subscribe(Z(n,y,()=>{m=!0,b()})),()=>{a?.()}}function Oe(e,n,t=1/0){return U(n)?Oe((r,i)=>B((o,s)=>n(r,o,i,s))(Re(e(r,i))),t):(typeof n=="number"&&(t=n),K((r,i)=>bp(r,i,e,t)))}function Tn(e=1/0){return Oe(ft,e)}function _p(){return Tn(1)}function Br(...e){return _p()(he(e,Sn(e)))}function ys(e){return new Y(n=>{Re(e()).subscribe(n)})}function ec(...e){let n=ns(e),{args:t,keys:r}=gs(e),i=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let h=0;h<s;h++){let m=!1;Re(t[h]).subscribe(Z(o,b=>{m||(m=!0,d--),a[h]=b},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?vs(r,a):a),o.complete())}))}});return n?i.pipe(ms(n)):i}function We(e,n){return K((t,r)=>{let i=0;t.subscribe(Z(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Ce(e){return K((n,t)=>{let r=null,i=!1,o;r=n.subscribe(Z(t,void 0,void 0,s=>{o=Re(e(s,Ce(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function wp(e,n,t,r,i){return(o,s)=>{let a=t,l=n,d=0;o.subscribe(Z(s,h=>{let m=d++;l=a?e(l,h,m):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function dn(e,n){return U(n)?Oe(e,n,1):Oe(e,1)}function An(e){return K((n,t)=>{let r=!1;n.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function bt(e){return e<=0?()=>pt:K((n,t)=>{let r=0;n.subscribe(Z(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function tc(e){return B(()=>e)}function bs(e=jy){return K((n,t)=>{let r=!1;n.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function jy(){return new Ot}function lr(e){return K((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Gt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?We((i,o)=>e(i,o,r)):ft,bt(1),t?An(n):bs(()=>new Ot))}function $r(e){return e<=0?()=>pt:K((n,t)=>{let r=[];n.subscribe(Z(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nc(e,n){let t=arguments.length>=2;return r=>r.pipe(e?We((i,o)=>e(i,o,r)):ft,$r(1),t?An(n):bs(()=>new Ot))}function rc(e,n){return K(wp(e,n,arguments.length>=2,!0))}function ic(...e){let n=Sn(e);return K((t,r)=>{(n?Br(e,t,n):Br(e,t)).subscribe(r)})}function $e(e,n){return K((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Z(r,l=>{i?.unsubscribe();let d=0,h=o++;Re(e(l,h)).subscribe(i=Z(r,m=>r.next(n?n(l,m,h,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function oc(e){return K((n,t)=>{Re(e).subscribe(Z(t,()=>t.complete(),Bi)),!t.closed&&n.subscribe(t)})}function ne(e,n,t){let r=U(e)||n||t?{next:e,error:n,complete:t}:e;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):ft}var oh="https://g.co/ng/security#xss",k=class extends Error{constructor(n,t){super(na(n,t)),this.code=n}};function na(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}function Ki(e){return{toString:e}.toString()}var _s="__parameters__";function Uy(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function sh(e,n,t){return Ki(()=>{let r=Uy(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,h){let m=l.hasOwnProperty(_s)?l[_s]:Object.defineProperty(l,_s,{value:[]})[_s];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var ur=globalThis;function fe(e){for(let n in e)if(e[n]===fe)return n;throw Error("Could not find renamed property on target object.")}function By(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function tt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(tt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function _c(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var $y=fe({__forward_ref__:fe});function Ue(e){return e.__forward_ref__=Ue,e.toString=function(){return tt(this())},e}function et(e){return ah(e)?e():e}function ah(e){return typeof e=="function"&&e.hasOwnProperty($y)&&e.__forward_ref__===Ue}function N(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Jt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ra(e){return Cp(e,ch)||Cp(e,uh)}function lh(e){return ra(e)!==null}function Cp(e,n){return e.hasOwnProperty(n)?e[n]:null}function Hy(e){let n=e&&(e[ch]||e[uh]);return n||null}function Dp(e){return e&&(e.hasOwnProperty(xp)||e.hasOwnProperty(zy))?e[xp]:null}var ch=fe({\u0275prov:fe}),xp=fe({\u0275inj:fe}),uh=fe({ngInjectableDef:fe}),zy=fe({ngInjectorDef:fe}),O=class{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dh(e){return e&&!!e.\u0275providers}var Gy=fe({\u0275cmp:fe}),Wy=fe({\u0275dir:fe}),qy=fe({\u0275pipe:fe}),Zy=fe({\u0275mod:fe}),Ns=fe({\u0275fac:fe}),zi=fe({__NG_ELEMENT_ID__:fe}),Ep=fe({__NG_ENV_ID__:fe});function Qr(e){return typeof e=="string"?e:e==null?"":String(e)}function Qy(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Qr(e)}function Yy(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new k(-200,e)}function yu(e,n){throw new k(-201,!1)}var q=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(q||{}),wc;function fh(){return wc}function at(e){let n=wc;return wc=e,n}function ph(e,n,t){let r=ra(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&q.Optional)return null;if(n!==void 0)return n;yu(e,"Injector")}var Ky={},Gi=Ky,Cc="__NG_DI_FLAG__",Rs="ngTempTokenPath",Jy="ngTokenPath",Xy=/\n/gm,eb="\u0275",Mp="__source",qr;function tb(){return qr}function Nn(e){let n=qr;return qr=e,n}function nb(e,n=q.Default){if(qr===void 0)throw new k(-203,!1);return qr===null?ph(e,void 0,n):qr.get(e,n&q.Optional?null:void 0,n)}function P(e,n=q.Default){return(fh()||nb)(et(e),n)}function D(e,n=q.Default){return P(e,ia(n))}function ia(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Dc(e){let n=[];for(let t=0;t<e.length;t++){let r=et(e[t]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=rb(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(P(i,o))}else n.push(P(r))}return n}function hh(e,n){return e[Cc]=n,e.prototype[Cc]=n,e}function rb(e){return e[Cc]}function ib(e,n,t,r){let i=e[Rs];throw n[Mp]&&i.unshift(n[Mp]),e.message=ob(`
`+e.message,i,t,r),e[Jy]=i,e[Rs]=null,e}function ob(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==eb?e.slice(2):e;let i=tt(n);if(Array.isArray(n))i=n.map(tt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):tt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Xy,`
  `)}`}var oa=hh(sh("Optional"),8);var bu=hh(sh("SkipSelf"),4);function fr(e,n){let t=e.hasOwnProperty(Ns);return t?e[Ns]:null}function sb(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function ab(e){return e.flat(Number.POSITIVE_INFINITY)}function _u(e,n){e.forEach(t=>Array.isArray(t)?_u(t,n):n(t))}function mh(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Os(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function lb(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function wu(e,n,t){let r=Ji(e,n);return r>=0?e[r|1]=t:(r=~r,lb(e,r,n,t)),r}function sc(e,n){let t=Ji(e,n);if(t>=0)return e[t|1]}function Ji(e,n){return cb(e,n,1)}function cb(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Yr={},lt=[],Kr=new O(""),gh=new O("",-1),vh=new O(""),ks=class{get(n,t=Gi){if(t===Gi){let r=new Error(`NullInjectorError: No provider for ${tt(n)}!`);throw r.name="NullInjectorError",r}return t}},yh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(yh||{}),Zt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zt||{}),kn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(kn||{});function ub(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function xc(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];db(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function bh(e){return e===3||e===4||e===6}function db(e){return e.charCodeAt(0)===64}function Wi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Ip(e,t,i,null,n[++r]):Ip(e,t,i,null,null))}}return e}function Ip(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var _h="ng-template";function fb(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&ub(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Cu(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Cu(e){return e.type===4&&e.value!==_h}function pb(e,n,t){let r=e.type===4&&!t?_h:e.value;return n===r}function hb(e,n,t){let r=4,i=e.attrs,o=i!==null?vb(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!kt(r)&&!kt(l))return!1;if(s&&kt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!pb(e,l,t)||l===""&&n.length===1){if(kt(r))return!1;s=!0}}else if(r&8){if(i===null||!fb(e,i,l,t)){if(kt(r))return!1;s=!0}}else{let d=n[++a],h=mb(l,i,Cu(e),t);if(h===-1){if(kt(r))return!1;s=!0;continue}if(d!==""){let m;if(h>o?m="":m=i[h+1].toLowerCase(),r&2&&d!==m){if(kt(r))return!1;s=!0}}}}return kt(r)||s}function kt(e){return(e&1)===0}function mb(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yb(n,e)}function gb(e,n,t=!1){for(let r=0;r<n.length;r++)if(hb(e,n[r],t))return!0;return!1}function vb(e){for(let n=0;n<e.length;n++){let t=e[n];if(bh(t))return n}return e.length}function yb(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Sp(e,n){return e?":not("+n.trim()+")":n}function bb(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!kt(s)&&(n+=Sp(o,i),i=""),r=s,o=o||!kt(r);t++}return i!==""&&(n+=Sp(o,i)),n}function _b(e){return e.map(bb).join(",")}function wb(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!kt(i))break;i=o}r++}return{attrs:n,classes:t}}function ge(e){return Ki(()=>{let n=Eh(e),t=z(E({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===yh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zt.Emulated,styles:e.styles||lt,_:null,schemas:e.schemas||null,tView:null,id:""});Mh(t);let r=e.dependencies;return t.directiveDefs=Ap(r,!1),t.pipeDefs=Ap(r,!0),t.id=xb(t),t})}function Cb(e){return Pn(e)||wh(e)}function Db(e){return e!==null}function Xt(e){return Ki(()=>({type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Tp(e,n){if(e==null)return Yr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=kn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(t[o]=a!==kn.None?[r,a]:r,n[o]=s):t[o]=r}return t}function X(e){return Ki(()=>{let n=Eh(e);return Mh(n),n})}function Du(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pn(e){return e[Gy]||null}function wh(e){return e[Wy]||null}function Ch(e){return e[qy]||null}function Dh(e){let n=Pn(e)||wh(e)||Ch(e);return n!==null?n.standalone:!1}function xh(e,n){let t=e[Zy]||null;if(!t&&n===!0)throw new Error(`Type ${tt(e)} does not have '\u0275mod' property.`);return t}function Eh(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Yr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tp(e.inputs,n),outputs:Tp(e.outputs),debugInfo:null}}function Mh(e){e.features?.forEach(n=>n(e))}function Ap(e,n){if(!e)return null;let t=n?Ch:Cb;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(Db)}function xb(e){let n=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function si(e){return{\u0275providers:e}}function Eb(...e){return{\u0275providers:Ih(!0,e),\u0275fromNgModule:!0}}function Ih(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return _u(n,s=>{let a=s;Ec(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Sh(i,o),t}function Sh(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];xu(i,o=>{n(o,r)})}}function Ec(e,n,t,r){if(e=et(e),!e)return!1;let i=null,o=Dp(e),s=!o&&Pn(e);if(!o&&!s){let l=e.ngModule;if(o=Dp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Ec(d,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{_u(o.imports,h=>{Ec(h,n,t,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&Sh(d,n)}if(!a){let d=fr(i)||(()=>new i);n({provide:i,useFactory:d,deps:lt},i),n({provide:vh,useValue:i,multi:!0},i),n({provide:Kr,useValue:()=>P(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=e;xu(l,h=>{n(h,d)})}}else return!1;return i!==e&&e.providers!==void 0}function xu(e,n){for(let t of e)dh(t)&&(t=t.\u0275providers),Array.isArray(t)?xu(t,n):n(t)}var Mb=fe({provide:String,useValue:fe});function Th(e){return e!==null&&typeof e=="object"&&Mb in e}function Ib(e){return!!(e&&e.useExisting)}function Sb(e){return!!(e&&e.useFactory)}function Jr(e){return typeof e=="function"}function Tb(e){return!!e.useClass}var sa=new O(""),Es={},Ab={},ac;function Eu(){return ac===void 0&&(ac=new ks),ac}var nt=class{},qi=class extends nt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ic(n,s=>this.processProvider(s)),this.records.set(gh,Hr(void 0,this)),i.has("environment")&&this.records.set(nt,Hr(void 0,this));let o=this.records.get(sa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vh,lt,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let t=Nn(this),r=at(void 0),i;try{return n()}finally{Nn(t),at(r)}}get(n,t=Gi,r=q.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ep))return n[Ep](this);r=ia(r);let i,o=Nn(this),s=at(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(n);if(l===void 0){let d=Pb(n)&&ra(n);d&&this.injectableDefInScope(d)?l=Hr(Mc(n),Es):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&q.Self?Eu():this.parent;return t=r&q.Optional&&t===Gi?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Rs]=a[Rs]||[]).unshift(tt(n)),o)throw a;return ib(a,n,"R3InjectorError",this.source)}else throw a}finally{at(s),Nn(o)}}resolveInjectorInitializers(){let n=te(null),t=Nn(this),r=at(void 0),i;try{let o=this.get(Kr,lt,q.Self);for(let s of o)s()}finally{Nn(t),at(r),te(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(tt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(n){n=et(n);let t=Jr(n)?n:et(n&&n.provide),r=Rb(n);if(!Jr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Hr(void 0,Es,!0),i.factory=()=>Dc(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=te(null);try{return t.value===Es&&(t.value=Ab,t.value=t.factory()),typeof t.value=="object"&&t.value&&kb(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{te(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=et(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Mc(e){let n=ra(e),t=n!==null?n.factory:fr(e);if(t!==null)return t;if(e instanceof O)throw new k(204,!1);if(e instanceof Function)return Nb(e);throw new k(204,!1)}function Nb(e){if(e.length>0)throw new k(204,!1);let t=Hy(e);return t!==null?()=>t.factory(e):()=>new e}function Rb(e){if(Th(e))return Hr(void 0,e.useValue);{let n=Ah(e);return Hr(n,Es)}}function Ah(e,n,t){let r;if(Jr(e)){let i=et(e);return fr(i)||Mc(i)}else if(Th(e))r=()=>et(e.useValue);else if(Sb(e))r=()=>e.useFactory(...Dc(e.deps||[]));else if(Ib(e))r=()=>P(et(e.useExisting));else{let i=et(e&&(e.useClass||e.provide));if(Ob(e))r=()=>new i(...Dc(e.deps));else return fr(i)||Mc(i)}return r}function Hr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ob(e){return!!e.deps}function kb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Pb(e){return typeof e=="function"||typeof e=="object"&&e instanceof O}function Ic(e,n){for(let t of e)Array.isArray(t)?Ic(t,n):t&&dh(t)?Ic(t.\u0275providers,n):n(t)}function Dt(e,n){e instanceof qi&&e.assertNotDestroyed();let t,r=Nn(e),i=at(void 0);try{return n()}finally{Nn(r),at(i)}}function Nh(){return fh()!==void 0||tb()!=null}function Fb(e){if(!Nh())throw new k(-203,!1)}function Lb(e){return typeof e=="function"}var gn=0,G=1,V=2,Qe=3,Ft=4,Vt=5,Ps=6,Fs=7,Lt=8,Xr=9,Qt=10,ke=11,Zi=12,Np=13,ai=14,Yt=15,pr=16,zr=17,fn=18,aa=19,Rh=20,Rn=21,lc=22,_t=23,wt=25,Oh=1;var hr=7,Ls=8,ei=9,ht=10,Vs=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Vs||{});function On(e){return Array.isArray(e)&&typeof e[Oh]=="object"}function vn(e){return Array.isArray(e)&&e[Oh]===!0}function kh(e){return(e.flags&4)!==0}function la(e){return e.componentOffset>-1}function Mu(e){return(e.flags&1)===1}function Fn(e){return!!e.template}function Sc(e){return(e[V]&512)!==0}var Tc=class{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ph(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}function jt(){return Fh}function Fh(e){return e.type.prototype.ngOnChanges&&(e.setInput=jb),Vb}jt.ngInherit=!0;function Vb(){let e=Vh(this),n=e?.current;if(n){let t=e.previous;if(t===Yr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function jb(e,n,t,r,i){let o=this.declaredInputs[r],s=Vh(e)||Ub(e,{previous:Yr,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Tc(d&&d.currentValue,t,l===Yr),Ph(e,n,i,t)}var Lh="__ngSimpleChanges__";function Vh(e){return e[Lh]||null}function Ub(e,n){return e[Lh]=n}var Rp=null;var Wt=function(e,n,t){Rp?.(e,n,t)},jh="svg",Bb="math";function Kt(e){for(;Array.isArray(e);)e=e[gn];return e}function Uh(e,n){return Kt(n[e])}function xt(e,n){return Kt(n[e.index])}function Bh(e,n){return e.data[n]}function Iu(e,n){return e[n]}function Vn(e,n){let t=n[e];return On(t)?t:t[gn]}function $b(e){return(e[V]&4)===4}function Su(e){return(e[V]&128)===128}function Hb(e){return vn(e[Qe])}function js(e,n){return n==null?null:e[n]}function $h(e){e[zr]=0}function Hh(e){e[V]&1024||(e[V]|=1024,Su(e)&&ua(e))}function zb(e,n){for(;e>0;)n=n[ai],e--;return n}function ca(e){return!!(e[V]&9216||e[_t]?.dirty)}function Ac(e){e[Qt].changeDetectionScheduler?.notify(8),e[V]&64&&(e[V]|=1024),ca(e)&&ua(e)}function ua(e){e[Qt].changeDetectionScheduler?.notify(0);let n=mr(e);for(;n!==null&&!(n[V]&8192||(n[V]|=8192,!Su(n)));)n=mr(n)}function zh(e,n){if((e[V]&256)===256)throw new k(911,!1);e[Rn]===null&&(e[Rn]=[]),e[Rn].push(n)}function Gb(e,n){if(e[Rn]===null)return;let t=e[Rn].indexOf(n);t!==-1&&e[Rn].splice(t,1)}function mr(e){let n=e[Qe];return vn(n)?n[Qe]:n}var $={lFrame:em(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gh=!1;function Wb(){return $.lFrame.elementDepthCount}function qb(){$.lFrame.elementDepthCount++}function Zb(){$.lFrame.elementDepthCount--}function Wh(){return $.bindingsEnabled}function Qb(){return $.skipHydrationRootTNode!==null}function Yb(e){return $.skipHydrationRootTNode===e}function Kb(){$.skipHydrationRootTNode=null}function J(){return $.lFrame.lView}function He(){return $.lFrame.tView}function S(e){return $.lFrame.contextLView=e,e[Lt]}function T(e){return $.lFrame.contextLView=null,e}function Ye(){let e=qh();for(;e!==null&&e.type===64;)e=e.parent;return e}function qh(){return $.lFrame.currentTNode}function Jb(){let e=$.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Xi(e,n){let t=$.lFrame;t.currentTNode=e,t.isParent=n}function Zh(){return $.lFrame.isParent}function Xb(){$.lFrame.isParent=!1}function e_(){return $.lFrame.contextLView}function Qh(){return Gh}function Op(e){Gh=e}function Yh(){let e=$.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function t_(){return $.lFrame.bindingIndex}function n_(e){return $.lFrame.bindingIndex=e}function da(){return $.lFrame.bindingIndex++}function Tu(e){let n=$.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function r_(){return $.lFrame.inI18n}function i_(e,n){let t=$.lFrame;t.bindingIndex=t.bindingRootIndex=e,Nc(n)}function o_(){return $.lFrame.currentDirectiveIndex}function Nc(e){$.lFrame.currentDirectiveIndex=e}function s_(e){let n=$.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Kh(){return $.lFrame.currentQueryIndex}function Au(e){$.lFrame.currentQueryIndex=e}function a_(e){let n=e[G];return n.type===2?n.declTNode:n.type===1?e[Vt]:null}function Jh(e,n,t){if(t&q.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&q.Host);)if(i=a_(o),i===null||(o=o[ai],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=$.lFrame=Xh();return r.currentTNode=n,r.lView=e,!0}function Nu(e){let n=Xh(),t=e[G];$.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Xh(){let e=$.lFrame,n=e===null?null:e.child;return n===null?em(e):n}function em(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function tm(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var nm=tm;function Ru(){let e=tm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function l_(e){return($.lFrame.contextLView=zb(e,$.lFrame.contextLView))[Lt]}function jn(){return $.lFrame.selectedIndex}function gr(e){$.lFrame.selectedIndex=e}function Ou(){let e=$.lFrame;return Bh(e.tView,e.selectedIndex)}function F(){$.lFrame.currentNamespace=jh}function H(){c_()}function c_(){$.lFrame.currentNamespace=null}function u_(){return $.lFrame.currentNamespace}var rm=!0;function ku(){return rm}function Pu(e){rm=e}function d_(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Fh(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Fu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),h!=null&&(e.destroyHooks??=[]).push(t,h)}}function Ms(e,n,t){im(e,n,3,t)}function Is(e,n,t,r){(e[V]&3)===t&&im(e,n,t,r)}function cc(e,n){let t=e[V];(t&3)===n&&(t&=16383,t+=1,e[V]=t)}function im(e,n,t,r){let i=r!==void 0?e[zr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[zr]+=65536),(a<o||o==-1)&&(f_(e,t,n,l),e[zr]=(e[zr]&4294901760)+l+2),l++}function kp(e,n){Wt(4,e,n);let t=te(null);try{n.call(e)}finally{te(t),Wt(5,e,n)}}function f_(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[V]>>14<e[zr]>>16&&(e[V]&3)===n&&(e[V]+=16384,kp(a,o)):kp(a,o)}var Zr=-1,vr=class{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function p_(e){return e instanceof vr}function h_(e){return(e.flags&8)!==0}function m_(e){return(e.flags&16)!==0}var uc={},Rc=class{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=ia(r);let i=this.injector.get(n,uc,r);return i!==uc||t===uc?i:this.parentInjector.get(n,t,r)}};function om(e){return e!==Zr}function Us(e){return e&32767}function g_(e){return e>>16}function Bs(e,n){let t=g_(e),r=n;for(;t>0;)r=r[ai],t--;return r}var Oc=!0;function $s(e){let n=Oc;return Oc=e,n}var v_=256,sm=v_-1,am=5,y_=0,qt={};function b_(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zi)&&(r=t[zi]),r==null&&(r=t[zi]=y_++);let i=r&sm,o=1<<i;n.data[e+(i>>am)]|=o}function Hs(e,n){let t=lm(e,n);if(t!==-1)return t;let r=n[G];r.firstCreatePass&&(e.injectorIndex=n.length,dc(r.data,e),dc(n,null),dc(r.blueprint,null));let i=Lu(e,n),o=e.injectorIndex;if(om(i)){let s=Us(i),a=Bs(i,n),l=a[G].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|l[s+d]}return n[o+8]=i,o}function dc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function lm(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Lu(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=pm(i),r===null)return Zr;if(t++,i=i[ai],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Zr}function kc(e,n,t){b_(e,n,t)}function __(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(bh(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function cm(e,n,t){if(t&q.Optional||e!==void 0)return e;yu(n,"NodeInjector")}function um(e,n,t,r){if(t&q.Optional&&r===void 0&&(r=null),!(t&(q.Self|q.Host))){let i=e[Xr],o=at(void 0);try{return i?i.get(n,r,t&q.Optional):ph(n,r,t&q.Optional)}finally{at(o)}}return cm(r,n,t)}function dm(e,n,t,r=q.Default,i){if(e!==null){if(n[V]&2048&&!(r&q.Self)){let s=x_(e,n,t,r,qt);if(s!==qt)return s}let o=fm(e,n,t,r,qt);if(o!==qt)return o}return um(n,t,r,i)}function fm(e,n,t,r,i){let o=C_(t);if(typeof o=="function"){if(!Jh(n,e,r))return r&q.Host?cm(i,t,r):um(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))yu(t);else return s}finally{nm()}}else if(typeof o=="number"){let s=null,a=lm(e,n),l=Zr,d=r&q.Host?n[Yt][Vt]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?Lu(e,n):n[a+8],l===Zr||!Fp(r,!1)?a=-1:(s=n[G],a=Us(l),n=Bs(l,n)));a!==-1;){let h=n[G];if(Pp(o,a,h.data)){let m=w_(a,n,t,s,r,d);if(m!==qt)return m}l=n[a+8],l!==Zr&&Fp(r,n[G].data[a+8]===d)&&Pp(o,a,n)?(s=h,a=Us(l),n=Bs(l,n)):a=-1}}return i}function w_(e,n,t,r,i,o){let s=n[G],a=s.data[e+8],l=r==null?la(a)&&Oc:r!=s&&(a.type&3)!==0,d=i&q.Host&&o===a,h=Ss(a,s,t,l,d);return h!==null?yr(n,s,h,a):qt}function Ss(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,h=o>>20,m=r?a:a+h,b=i?a+h:d;for(let y=m;y<b;y++){let x=s[y];if(y<l&&t===x||y>=l&&x.type===t)return y}if(i){let y=s[l];if(y&&Fn(y)&&y.type===t)return l}return null}function yr(e,n,t,r){let i=e[t],o=n.data;if(p_(i)){let s=i;s.resolving&&Yy(Qy(o[t]));let a=$s(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?at(s.injectImpl):null,h=Jh(e,r,q.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&d_(t,o[t],n)}finally{d!==null&&at(d),$s(a),s.resolving=!1,nm()}}return i}function C_(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(zi)?e[zi]:void 0;return typeof n=="number"?n>=0?n&sm:D_:n}function Pp(e,n,t){let r=1<<e;return!!(t[n+(e>>am)]&r)}function Fp(e,n){return!(e&q.Self)&&!(e&q.Host&&n)}var dr=class{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return dm(this._tNode,this._lView,n,ia(r),t)}};function D_(){return new dr(Ye(),J())}function ct(e){return Ki(()=>{let n=e.prototype.constructor,t=n[Ns]||Pc(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ns]||Pc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pc(e){return ah(e)?()=>{let n=Pc(et(e));return n&&n()}:fr(e)}function x_(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[V]&2048&&!(s[V]&512);){let a=fm(o,s,t,r|q.Self,qt);if(a!==qt)return a;let l=o.parent;if(!l){let d=s[Rh];if(d){let h=d.get(t,qt,r);if(h!==qt)return h}l=pm(s),s=s[ai]}o=l}return i}function pm(e){let n=e[G],t=n.type;return t===2?n.declTNode:t===1?e[Vt]:null}function Vu(e){return __(Ye(),e)}function Lp(e,n=null,t=null,r){let i=hm(e,n,t,r);return i.resolveInjectorInitializers(),i}function hm(e,n=null,t=null,r,i=new Set){let o=[t||lt,Eb(e)];return r=r||(typeof e=="object"?void 0:tt(e)),new qi(o,n||Eu(),r||null,i)}var Ct=class e{static{this.THROW_IF_NOT_FOUND=Gi}static{this.NULL=new ks}static create(n,t){if(Array.isArray(n))return Lp({name:""},t,n,"");{let r=n.name??"";return Lp({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=N({token:e,providedIn:"any",factory:()=>P(gh)})}static{this.__NG_ELEMENT_ID__=-1}};var E_=new O("");E_.__NG_ELEMENT_ID__=e=>{let n=Ye();if(n===null)throw new k(204,!1);if(n.type&2)return n.value;if(e&q.Optional)return null;throw new k(204,!1)};var M_="ngOriginalError";function fc(e){return e[M_]}var mm=!0,ju=(()=>{class e{static{this.__NG_ELEMENT_ID__=I_}static{this.__NG_ENV_ID__=t=>t}}return e})(),Fc=class extends ju{constructor(n){super(),this._lView=n}onDestroy(n){return zh(this._lView,n),()=>Gb(this._lView,n)}};function I_(){return new Fc(J())}var Un=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Lc=class extends Be{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Nh()&&(this.destroyRef=D(ju,{optional:!0})??void 0,this.pendingTasks=D(Un,{optional:!0})??void 0)}emit(n){let t=te(null);try{super.next(n)}finally{te(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ne&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},me=Lc;function zs(...e){}function gm(e){let n,t;function r(){e=zs;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Vp(e){return queueMicrotask(()=>e()),()=>{e=zs}}var Uu="isAngularZone",Gs=Uu+"_ID",S_=0,De=class e{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=mm}=n;if(typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,N_(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Uu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new k(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,T_,zs,zs);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},T_={};function Bu(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function A_(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){gm(()=>{e.callbackScheduled=!1,Vc(e),e.isCheckStableRunning=!0,Bu(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Vc(e)}function N_(e){let n=()=>{A_(e)},t=S_++;e._inner=e._inner.fork({name:"angular",properties:{[Uu]:!0,[Gs]:t,[Gs+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(R_(l))return r.invokeTask(o,s,a,l);try{return jp(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Up(e)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return jp(e),r.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!O_(l)&&n(),Up(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Vc(e),Bu(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Vc(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function jp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Up(e){e._nesting--,Bu(e)}var jc=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function R_(e){return vm(e,"__ignore_ng_zone__")}function O_(e){return vm(e,"__scheduler_tick__")}function vm(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var pn=class{constructor(){this._console=console}handleError(n){let t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&fc(n);for(;t&&fc(t);)t=fc(t);return t||null}},k_=new O("",{providedIn:"root",factory:()=>{let e=D(De),n=D(pn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function P_(){return li(Ye(),J())}function li(e,n){return new Ke(xt(e,n))}var Ke=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=P_}}return e})();function F_(e){return e instanceof Ke?e.nativeElement:e}function L_(){return this._results[Symbol.iterator]()}var Uc=class e{get changes(){return this._changes??=new me}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=L_)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=ab(n);(this._changesDetected=!sb(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function ym(e){return(e.flags&128)===128}var bm=new Map,V_=0;function j_(){return V_++}function U_(e){bm.set(e[aa],e)}function Bc(e){bm.delete(e[aa])}var Bp="__ngContext__";function br(e,n){On(n)?(e[Bp]=n[aa],U_(n)):e[Bp]=n}function _m(e){return Cm(e[Zi])}function wm(e){return Cm(e[Ft])}function Cm(e){for(;e!==null&&!vn(e);)e=e[Ft];return e}var $c;function Dm(e){$c=e}function B_(){if($c!==void 0)return $c;if(typeof document<"u")return document;throw new k(210,!1)}var $u=new O("",{providedIn:"root",factory:()=>$_}),$_="ng",Hu=new O(""),en=new O("",{providedIn:"platform",factory:()=>"unknown"});var zu=new O("",{providedIn:"root",factory:()=>B_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var H_="h",z_="b";var G_=()=>null;function Gu(e,n,t=!1){return G_(e,n,t)}var xm=!1,W_=new O("",{providedIn:"root",factory:()=>xm});var ws;function q_(){if(ws===void 0&&(ws=null,ur.trustedTypes))try{ws=ur.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ws}function $p(e){return q_()?.createScriptURL(e)||e}var Ws=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oh})`}};function ci(e){return e instanceof Ws?e.changingThisBreaksApplicationSecurity:e}function Wu(e,n){let t=Z_(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${oh})`)}return t===n}function Z_(e){return e instanceof Ws&&e.getTypeName()||null}var Q_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Em(e){return e=String(e),e.match(Q_)?e:"unsafe:"+e}var fa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(fa||{});function qu(e){let n=Im();return n?n.sanitize(fa.URL,e)||"":Wu(e,"URL")?ci(e):Em(Qr(e))}function Y_(e){let n=Im();if(n)return $p(n.sanitize(fa.RESOURCE_URL,e)||"");if(Wu(e,"ResourceURL"))return $p(ci(e));throw new k(904,!1)}function K_(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?Y_:qu}function Mm(e,n,t){return K_(n,t)(e)}function Im(){let e=J();return e&&e[Qt].sanitizer}function Sm(e){return e instanceof Function?e():e}function J_(e){return(e??D(Ct)).get(en)==="browser"}var hn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(hn||{}),X_;function Zu(e,n){return X_(e,n)}function Gr(e,n,t,r,i){if(r!=null){let o,s=!1;vn(r)?o=r:On(r)&&(s=!0,r=r[gn]);let a=Kt(r);e===0&&t!==null?i==null?Om(n,t,a):qs(n,t,a,i||null,!0):e===1&&t!==null?qs(n,t,a,i||null,!0):e===2?hw(n,a,s):e===3&&n.destroyNode(a),o!=null&&gw(n,e,o,t,i)}}function ew(e,n){return e.createText(n)}function tw(e,n,t){e.setValue(n,t)}function Tm(e,n,t){return e.createElement(n,t)}function nw(e,n){Am(e,n),n[gn]=null,n[Vt]=null}function rw(e,n,t,r,i,o){r[gn]=i,r[Vt]=n,pa(e,r,t,1,i,o)}function Am(e,n){n[Qt].changeDetectionScheduler?.notify(9),pa(e,n,n[ke],2,null,null)}function iw(e){let n=e[Zi];if(!n)return pc(e[G],e);for(;n;){let t=null;if(On(n))t=n[Zi];else{let r=n[ht];r&&(t=r)}if(!t){for(;n&&!n[Ft]&&n!==e;)On(n)&&pc(n[G],n),n=n[Qe];n===null&&(n=e),On(n)&&pc(n[G],n),t=n&&n[Ft]}n=t}}function ow(e,n,t,r){let i=ht+r,o=t.length;r>0&&(t[i-1][Ft]=n),r<o-ht?(n[Ft]=t[i],mh(t,ht+r,n)):(t.push(n),n[Ft]=null),n[Qe]=t;let s=n[pr];s!==null&&t!==s&&Nm(s,n);let a=n[fn];a!==null&&a.insertView(e),Ac(n),n[V]|=128}function Nm(e,n){let t=e[ei],r=n[Qe];if(On(r))e[V]|=Vs.HasTransplantedViews;else{let i=r[Qe][Yt];n[Yt]!==i&&(e[V]|=Vs.HasTransplantedViews)}t===null?e[ei]=[n]:t.push(n)}function Qu(e,n){let t=e[ei],r=t.indexOf(n);t.splice(r,1)}function Hc(e,n){if(e.length<=ht)return;let t=ht+n,r=e[t];if(r){let i=r[pr];i!==null&&i!==e&&Qu(i,r),n>0&&(e[t-1][Ft]=r[Ft]);let o=Os(e,ht+n);nw(r[G],r);let s=o[fn];s!==null&&s.detachView(o[G]),r[Qe]=null,r[Ft]=null,r[V]&=-129}return r}function Rm(e,n){if(!(n[V]&256)){let t=n[ke];t.destroyNode&&pa(e,n,t,3,null,null),iw(n)}}function pc(e,n){if(n[V]&256)return;let t=te(null);try{n[V]&=-129,n[V]|=256,n[_t]&&$l(n[_t]),aw(e,n),sw(e,n),n[G].type===1&&n[ke].destroy();let r=n[pr];if(r!==null&&vn(n[Qe])){r!==n[Qe]&&Qu(r,n);let i=n[fn];i!==null&&i.detachView(e)}Bc(n)}finally{te(t)}}function sw(e,n){let t=e.cleanup,r=n[Fs];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(n[Fs]=null);let i=n[Rn];if(i!==null){n[Rn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function aw(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof vr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Wt(4,a,l);try{l.call(a)}finally{Wt(5,a,l)}}else{Wt(4,i,o);try{o.call(i)}finally{Wt(5,i,o)}}}}}function lw(e,n,t){return cw(e,n.parent,t)}function cw(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[gn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Zt.None||o===Zt.Emulated)return null}return xt(r,t)}}function qs(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Om(e,n,t){e.appendChild(n,t)}function Hp(e,n,t,r,i){r!==null?qs(e,n,t,r,i):Om(e,n,t)}function km(e,n){return e.parentNode(n)}function uw(e,n){return e.nextSibling(n)}function dw(e,n,t){return pw(e,n,t)}function fw(e,n,t){return e.type&40?xt(e,t):null}var pw=fw,zp;function Yu(e,n,t,r){let i=lw(e,r,n),o=n[ke],s=r.parent||n[Vt],a=dw(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Hp(o,i,t[l],a,!1);else Hp(o,i,t,a,!1);zp!==void 0&&zp(o,r,n,t,i)}function Hi(e,n){if(n!==null){let t=n.type;if(t&3)return xt(n,e);if(t&4)return zc(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Hi(e,r);{let i=e[n.index];return vn(i)?zc(-1,i):Kt(i)}}else{if(t&128)return Hi(e,n.next);if(t&32)return Zu(n,e)()||Kt(e[n.index]);{let r=Pm(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=mr(e[Yt]);return Hi(i,r)}else return Hi(e,n.next)}}}return null}function Pm(e,n){if(n!==null){let r=e[Yt][Vt],i=n.projection;return r.projection[i]}return null}function zc(e,n){let t=ht+e+1;if(t<n.length){let r=n[t],i=r[G].firstChild;if(i!==null)return Hi(r,i)}return n[hr]}function hw(e,n,t){e.removeChild(null,n,t)}function Ku(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&br(Kt(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Ku(e,n,t.child,r,i,o,!1),Gr(n,e,i,a,o);else if(l&32){let d=Zu(t,r),h;for(;h=d();)Gr(n,e,i,h,o);Gr(n,e,i,a,o)}else l&16?mw(e,n,r,t,i,o):Gr(n,e,i,a,o);t=s?t.projectionNext:t.next}}function pa(e,n,t,r,i,o){Ku(t,r,e.firstChild,n,i,o,!1)}function mw(e,n,t,r,i,o){let s=t[Yt],l=s[Vt].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let h=l[d];Gr(n,e,i,h,o)}else{let d=l,h=s[Qe];ym(r)&&(d.flags|=128),Ku(e,n,d,h,i,o,!0)}}function gw(e,n,t,r,i){let o=t[hr],s=Kt(t);o!==s&&Gr(n,e,r,o,i);for(let a=ht;a<t.length;a++){let l=t[a];pa(l[G],l,e,n,r,o)}}function vw(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:hn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hn.Important),e.setStyle(t,r,i,o))}}function yw(e,n,t){e.setAttribute(n,"style",t)}function Fm(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Lm(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&xc(e,n,r),i!==null&&Fm(e,n,i),o!==null&&yw(e,n,o)}var Ut={};function p(e=1){Vm(He(),J(),jn()+e,!1)}function Vm(e,n,t,r){if(!r)if((n[V]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ms(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Is(n,o,0,t)}gr(t)}function _(e,n=q.Default){let t=J();if(t===null)return P(e,n);let r=Ye();return dm(r,t,et(e),n)}function jm(){let e="invalid";throw new Error(e)}function Um(e,n,t,r,i,o){let s=te(null);try{let a=null;i&kn.SignalBased&&(a=n[r][un]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&kn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,r):Ph(n,a,r,o)}finally{te(s)}}function bw(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gr(~i);else{let o=i,s=t[++r],a=t[++r];i_(s,o);let l=n[o];a(2,l)}}}finally{gr(-1)}}function ha(e,n,t,r,i,o,s,a,l,d,h){let m=n.blueprint.slice();return m[gn]=i,m[V]=r|4|128|8|64,(d!==null||e&&e[V]&2048)&&(m[V]|=2048),$h(m),m[Qe]=m[ai]=e,m[Lt]=t,m[Qt]=s||e&&e[Qt],m[ke]=a||e&&e[ke],m[Xr]=l||e&&e[Xr]||null,m[Vt]=o,m[aa]=j_(),m[Ps]=h,m[Rh]=d,m[Yt]=n.type==2?e[Yt]:m,m}function ma(e,n,t,r,i){let o=e.data[n];if(o===null)o=_w(e,n,t,r,i),r_()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Jb();o.injectorIndex=s===null?-1:s.injectorIndex}return Xi(o,!0),o}function _w(e,n,t,r,i){let o=qh(),s=Zh(),a=s?o:o&&o.parent,l=e.data[n]=Mw(e,a,t,n,r,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Bm(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function $m(e,n,t,r,i){let o=jn(),s=r&2;try{gr(-1),s&&n.length>wt&&Vm(e,n,wt,!1),Wt(s?2:0,i),t(r,i)}finally{gr(o),Wt(s?3:1,i)}}function Hm(e,n,t){if(kh(n)){let r=te(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{te(r)}}}function zm(e,n,t){Wh()&&(Rw(e,n,t,xt(t,n)),(t.flags&64)===64&&Ym(e,n,t))}function Gm(e,n,t=xt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function Wm(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Ju(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ju(e,n,t,r,i,o,s,a,l,d,h){let m=wt+r,b=m+i,y=ww(m,b),x=typeof d=="function"?d():d;return y[G]={type:e,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:n,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:h}}function ww(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ut);return t}function Cw(e,n,t,r){let o=r.get(W_,xm)||t===Zt.ShadowDom,s=e.selectRootElement(n,o);return Dw(s),s}function Dw(e){xw(e)}var xw=()=>null;function Ew(e,n,t,r){let i=Xm(n);i.push(t),e.firstCreatePass&&eg(e).push(r,i.length-1)}function Mw(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Qb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gp(e,n,t,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=kn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}e===0?Wp(r,t,d,a,l):Wp(r,t,d,a)}return r}function Wp(e,n,t,r,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,r):o=e[t]=[n,r],i!==void 0&&o.push(i)}function Iw(e,n,t){let r=n.directiveStart,i=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,d=null;for(let h=r;h<i;h++){let m=o[h],b=t?t.get(m):null,y=b?b.inputs:null,x=b?b.outputs:null;l=Gp(0,m.inputs,h,l,y),d=Gp(1,m.outputs,h,d,x);let I=l!==null&&s!==null&&!Cu(n)?Hw(l,h,s):null;a.push(I)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=d}function Sw(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function qm(e,n,t,r,i,o,s,a){let l=xt(n,t),d=n.inputs,h;!a&&d!=null&&(h=d[r])?(Xu(e,t,h,r,i),la(n)&&Tw(t,n.index)):n.type&3?(r=Sw(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function Tw(e,n){let t=Vn(n,e);t[V]&16||(t[V]|=64)}function Zm(e,n,t,r){if(Wh()){let i=r===null?null:{"":-1},o=kw(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Qm(e,n,t,s,i,a),i&&Pw(t,r,i)}t.mergedAttrs=Wi(t.mergedAttrs,t.attrs)}function Qm(e,n,t,r,i,o){for(let d=0;d<r.length;d++)kc(Hs(t,n),e,r[d].type);Lw(t,e.data.length,r.length);for(let d=0;d<r.length;d++){let h=r[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Bm(e,n,r.length,null);for(let d=0;d<r.length;d++){let h=r[d];t.mergedAttrs=Wi(t.mergedAttrs,h.hostAttrs),Vw(e,t,n,l,h),Fw(l,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}Iw(e,t,o)}function Aw(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;Nw(s)!=a&&s.push(a),s.push(t,r,o)}}function Nw(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function Rw(e,n,t,r){let i=t.directiveStart,o=t.directiveEnd;la(t)&&jw(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Hs(t,n),br(r,n);let s=t.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],d=yr(n,e,a,t);if(br(d,n),s!==null&&$w(n,a-i,d,l,t,s),Fn(l)){let h=Vn(t.index,n);h[Lt]=yr(n,e,a,t)}}}function Ym(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=o_();try{gr(o);for(let a=r;a<i;a++){let l=e.data[a],d=n[a];Nc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Ow(l,d)}}finally{gr(-1),Nc(s)}}function Ow(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function kw(e,n){let t=e.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(gb(n,s.selectors,!1))if(r||(r=[]),Fn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Gc(e,n,l)}else r.unshift(s),Gc(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Gc(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function Pw(e,n,t){if(n){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new k(-301,!1);r.push(n[i],o)}}}function Fw(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Fn(n)&&(t[""]=e)}}function Lw(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Vw(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=fr(i.type,!0)),s=new vr(o,Fn(i),_);e.blueprint[r]=s,t[r]=s,Aw(e,n,r,Bm(e,t,i.hostVars,Ut),i)}function jw(e,n,t){let r=xt(n,e),i=Wm(t),o=e[Qt].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=ga(e,ha(e,i,null,s,r,n,null,o.createRenderer(r,t),null,null,null));e[n.index]=a}function Uw(e,n,t,r,i,o){let s=xt(e,n);Bw(n[ke],s,o,e.value,t,r,i)}function Bw(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Qr(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function $w(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],h=s[a++],m=s[a++];Um(r,t,l,d,h,m)}}function Hw(e,n,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Km(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Jm(e,n){let t=e.contentQueries;if(t!==null){let r=te(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Au(o),a.contentQueries(2,n[s],s)}}}finally{te(r)}}}function ga(e,n){return e[Zi]?e[Np][Ft]=n:e[Zi]=n,e[Np]=n,n}function Wc(e,n,t){Au(0);let r=te(null);try{n(e,t)}finally{te(r)}}function Xm(e){return e[Fs]??=[]}function eg(e){return e.cleanup??=[]}function tg(e,n){let t=e[Xr],r=t?t.get(pn,null):null;r&&r.handleError(n)}function Xu(e,n,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],d=n[s],h=e.data[s];Um(h,d,r,a,l,i)}}function ng(e,n,t){let r=Uh(n,e);tw(e[ke],r,t)}function zw(e,n){let t=Vn(n,e),r=t[G];Gw(r,t);let i=t[gn];i!==null&&t[Ps]===null&&(t[Ps]=Gu(i,t[Xr])),ed(r,t,t[Lt])}function Gw(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function ed(e,n,t){Nu(n);try{let r=e.viewQuery;r!==null&&Wc(1,r,t);let i=e.template;i!==null&&$m(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[fn]?.finishViewCreation(e),e.staticContentQueries&&Jm(e,n),e.staticViewQueries&&Wc(2,e.viewQuery,t);let o=e.components;o!==null&&Ww(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[V]&=-5,Ru()}}function Ww(e,n){for(let t=0;t<n.length;t++)zw(e,n[t])}function qw(e,n,t,r){let i=te(null);try{let o=n.tView,a=e[V]&4096?4096:16,l=ha(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=e[n.index];l[pr]=d;let h=e[fn];return h!==null&&(l[fn]=h.createEmbeddedView(o)),ed(o,l,t),l}finally{te(i)}}function qp(e,n){return!n||n.firstChild===null||ym(e)}function Zw(e,n,t,r=!0){let i=n[G];if(ow(i,n,e,t),r){let s=zc(t,e),a=n[ke],l=km(a,e[hr]);l!==null&&rw(i,e[Vt],a,n,l,s)}let o=n[Ps];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zs(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Kt(o)),vn(o)&&Qw(o,r);let s=t.type;if(s&8)Zs(e,n,t.child,r);else if(s&32){let a=Zu(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Pm(n,t);if(Array.isArray(a))r.push(...a);else{let l=mr(n[Yt]);Zs(l[G],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Qw(e,n){for(let t=ht;t<e.length;t++){let r=e[t],i=r[G].firstChild;i!==null&&Zs(r[G],r,i,n)}e[hr]!==e[gn]&&n.push(e[hr])}var rg=[];function Yw(e){return e[_t]??Kw(e)}function Kw(e){let n=rg.pop()??Object.create(Xw);return n.lView=e,n}function Jw(e){e.lView[_t]!==e&&(e.lView=null,rg.push(e))}var Xw=z(E({},ji),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ua(e.lView)},consumerOnSignalRead(){this.lView[_t]=this}});function e1(e){let n=e[_t]??Object.create(t1);return n.lView=e,n}var t1=z(E({},ji),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=mr(e.lView);for(;n&&!ig(n[G]);)n=mr(n);n&&Hh(n)},consumerOnSignalRead(){this.lView[_t]=this}});function ig(e){return e.type!==2}var n1=100;function og(e,n=!0,t=0){let r=e[Qt],i=r.rendererFactory,o=!1;o||i.begin?.();try{r1(e,t)}catch(s){throw n&&tg(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function r1(e,n){let t=Qh();try{Op(!0),qc(e,n);let r=0;for(;ca(e);){if(r===n1)throw new k(103,!1);r++,qc(e,1)}}finally{Op(t)}}function i1(e,n,t,r){let i=n[V];if((i&256)===256)return;let o=!1,s=!1;!o&&n[Qt].inlineEffectRunner?.flush(),Nu(n);let a=!0,l=null,d=null;o||(ig(e)?(d=Yw(n),l=Zo(d)):Vf()===null?(a=!1,d=e1(n),l=Zo(d)):n[_t]&&($l(n[_t]),n[_t]=null));try{$h(n),n_(e.bindingStartIndex),t!==null&&$m(e,n,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=e.preOrderCheckHooks;y!==null&&Ms(n,y,null)}else{let y=e.preOrderHooks;y!==null&&Is(n,y,0,null),cc(n,0)}if(s||o1(n),sg(n,0),e.contentQueries!==null&&Jm(e,n),!o)if(h){let y=e.contentCheckHooks;y!==null&&Ms(n,y)}else{let y=e.contentHooks;y!==null&&Is(n,y,1),cc(n,1)}bw(e,n);let m=e.components;m!==null&&lg(n,m,0);let b=e.viewQuery;if(b!==null&&Wc(2,b,r),!o)if(h){let y=e.viewCheckHooks;y!==null&&Ms(n,y)}else{let y=e.viewHooks;y!==null&&Is(n,y,2),cc(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[lc]){for(let y of n[lc])y();n[lc]=null}o||(n[V]&=-73)}catch(h){throw o||ua(n),h}finally{d!==null&&(Ul(d,l),a&&Jw(d)),Ru()}}function sg(e,n){for(let t=_m(e);t!==null;t=wm(t))for(let r=ht;r<t.length;r++){let i=t[r];ag(i,n)}}function o1(e){for(let n=_m(e);n!==null;n=wm(n)){if(!(n[V]&Vs.HasTransplantedViews))continue;let t=n[ei];for(let r=0;r<t.length;r++){let i=t[r];Hh(i)}}}function s1(e,n,t){let r=Vn(n,e);ag(r,t)}function ag(e,n){Su(e)&&qc(e,n)}function qc(e,n){let r=e[G],i=e[V],o=e[_t],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bl(o)),s||=!1,o&&(o.dirty=!1),e[V]&=-9217,s)i1(r,e,r.template,e[Lt]);else if(i&8192){sg(e,1);let a=r.components;a!==null&&lg(e,a,1)}}function lg(e,n,t){for(let r=0;r<n.length;r++)s1(e,n[r],t)}function td(e,n){let t=Qh()?64:1088;for(e[Qt].changeDetectionScheduler?.notify(n);e;){e[V]|=t;let r=mr(e);if(Sc(e)&&!r)return e;e=r}return null}var _r=class{get rootNodes(){let n=this._lView,t=n[G];return Zs(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(n){this._lView[Lt]=n}get destroyed(){return(this._lView[V]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Qe];if(vn(n)){let t=n[Ls],r=t?t.indexOf(this):-1;r>-1&&(Hc(n,r),Os(t,r))}this._attachedToViewContainer=!1}Rm(this._lView[G],this._lView)}onDestroy(n){zh(this._lView,n)}markForCheck(){td(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){Ac(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,og(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Sc(this._lView),t=this._lView[pr];t!==null&&!n&&Qu(t,this._lView),Am(this._lView[G],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=n;let t=Sc(this._lView),r=this._lView[pr];r!==null&&!t&&Nm(r,this._lView),Ac(this._lView)}},wr=(()=>{class e{static{this.__NG_ELEMENT_ID__=c1}}return e})(),a1=wr,l1=class extends a1{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=qw(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new _r(i)}};function c1(){return va(Ye(),J())}function va(e,n){return e.type&4?new l1(n,e,li(e,n)):null}var Ik=new RegExp(`^(\\d+)*(${z_}|${H_})*(.*)`);var u1=()=>null;function Zp(e,n){return u1(e,n)}var ti=class{},ya=new O("",{providedIn:"root",factory:()=>!1});var cg=new O(""),ug=new O(""),Zc=class{},Qs=class{};function d1(e){let n=Error(`No component factory found for ${tt(e)}.`);return n[f1]=e,n}var f1="ngComponent";var Qc=class{resolveComponentFactory(n){throw d1(n)}},ni=class{static{this.NULL=new Qc}},ri=class{},Et=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>p1()}}return e})();function p1(){let e=J(),n=Ye(),t=Vn(n.index,e);return(On(t)?t:e)[ke]}var h1=(()=>{class e{static{this.\u0275prov=N({token:e,providedIn:"root",factory:()=>null})}}return e})();function Yc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=_c(i,a);else if(o==2){let l=a,d=n[++s];r=_c(r,l+": "+d+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var Ys=class extends ni{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Pn(n);return new ii(t,this.ngModule)}};function Qp(e,n){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:kn.None;n?t.push({propName:s,templateName:r,isSignal:(a&kn.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function m1(e){let n=e.toLowerCase();return n==="svg"?jh:n==="math"?Bb:null}var ii=class extends Qs{get inputs(){let n=this.componentDef,t=n.inputTransforms,r=Qp(n.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Qp(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=_b(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=te(null);try{i=i||this.ngModule;let s=i instanceof nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Rc(n,s):n,l=a.get(ri,null);if(l===null)throw new k(407,!1);let d=a.get(h1,null),h=a.get(ti,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:h},b=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",x=r?Cw(b,r,this.componentDef.encapsulation,a):Tm(b,y,m1(y)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let R=null;x!==null&&(R=Gu(x,a,!0));let j=Ju(0,null,null,1,0,null,null,null,null,null,null),we=ha(null,j,null,I,null,null,m,b,a,null,R);Nu(we);let re,Ge,ot=null;try{let Ve=this.componentDef,cn,Fl=null;Ve.findHostDirectiveDefs?(cn=[],Fl=new Map,Ve.findHostDirectiveDefs(Ve,cn,Fl),cn.push(Ve)):cn=[Ve];let uy=g1(we,x);ot=v1(uy,x,Ve,cn,we,m,b),Ge=Bh(j,wt),x&&_1(b,Ve,x,r),t!==void 0&&w1(Ge,this.ngContentSelectors,t),re=b1(ot,Ve,cn,Fl,we,[C1]),ed(j,we,null)}catch(Ve){throw ot!==null&&Bc(ot),Bc(we),Ve}finally{Ru()}return new Kc(this.componentType,re,li(Ge,we),we,Ge)}finally{te(o)}}},Kc=class extends Zc{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _r(i,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;Xu(o[G],o,i,n,t),this.previousInputValues.set(n,t);let s=Vn(this._tNode.index,o);td(s,1)}}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function g1(e,n){let t=e[G],r=wt;return e[r]=n,ma(t,r,2,"#host",null)}function v1(e,n,t,r,i,o,s){let a=i[G];y1(r,e,n,s);let l=null;n!==null&&(l=Gu(n,i[Xr]));let d=o.rendererFactory.createRenderer(n,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let m=ha(i,Wm(t),null,h,i[e.index],e,o,d,null,null,l);return a.firstCreatePass&&Gc(a,e,r.length-1),ga(i,m),i[e.index]=m}function y1(e,n,t,r){for(let i of e)n.mergedAttrs=Wi(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(Yc(n,n.mergedAttrs,!0),t!==null&&Lm(r,t,n))}function b1(e,n,t,r,i,o){let s=Ye(),a=i[G],l=xt(s,i);Qm(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let m=s.directiveStart+h,b=yr(i,a,m,s);br(b,i)}Ym(a,i,s),l&&br(l,i);let d=yr(i,a,s.directiveStart+s.componentOffset,s);if(e[Lt]=i[Lt]=d,o!==null)for(let h of o)h(d,n);return Hm(a,s,i),d}function _1(e,n,t,r){if(r)xc(e,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=wb(n.selectors[0]);i&&xc(e,t,i),o&&o.length>0&&Fm(e,t,o.join(" "))}}function w1(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function C1(){let e=Ye();Fu(J()[G],e)}var Bn=(()=>{class e{static{this.__NG_ELEMENT_ID__=D1}}return e})();function D1(){let e=Ye();return fg(e,J())}var x1=Bn,dg=class extends x1{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return li(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Lu(this._hostTNode,this._hostLView);if(om(n)){let t=Bs(n,this._hostLView),r=Us(n),i=t[G].data[r+8];return new dr(i,t)}else return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Yp(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Zp(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,qp(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!Lb(n),a;if(s)a=t;else{let x=t||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let l=s?n:new ii(Pn(n)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let I=(s?d:this.parentInjector).get(nt,null);I&&(o=I)}let h=Pn(l.componentType??{}),m=Zp(this._lContainer,h?.id??null),b=m?.firstChild??null,y=l.create(d,i,b,o);return this.insertImpl(y.hostView,a,qp(this._hostTNode,m)),y}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(Hb(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[Qe],d=new dg(l,l[Vt],l[Qe]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Zw(s,i,o,r),n.attachToViewContainerRef(),mh(hc(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Yp(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Hc(this._lContainer,t);r&&(Os(hc(this._lContainer),t),Rm(r[G],r))}detach(n){let t=this._adjustIndex(n,-1),r=Hc(this._lContainer,t);return r&&Os(hc(this._lContainer),t)!=null?new _r(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Yp(e){return e[Ls]}function hc(e){return e[Ls]||(e[Ls]=[])}function fg(e,n){let t,r=n[e.index];return vn(r)?t=r:(t=Km(r,n,null,e),n[e.index]=t,ga(n,t)),M1(t,n,e,r),new dg(t,e,n)}function E1(e,n){let t=e[ke],r=t.createComment(""),i=xt(n,e),o=km(t,i);return qs(t,o,r,uw(t,i),!1),r}var M1=T1,I1=()=>!1;function S1(e,n,t){return I1(e,n,t)}function T1(e,n,t,r){if(e[hr])return;let i;t.type&8?i=Kt(r):i=E1(n,t),e[hr]=i}var Jc=class e{constructor(n){this.queryList=n,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Xc=class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)nd(n,t).matches!==null&&this.queries[t].setDirty()}},Ks=class{constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=L1(n):this.predicate=n}},eu=class e{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},tu=class e{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,A1(t,o)),this.matchTNodeWithReadOption(n,t,Ss(t,n,o,!1,!1))}else r===wr?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Ss(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ke||i===Bn||i===wr&&t.type&4)this.addMatch(t.index,-2);else{let o=Ss(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function A1(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function N1(e,n){return e.type&11?li(e,n):e.type&4?va(e,n):null}function R1(e,n,t,r){return t===-1?N1(n,e):t===-2?O1(e,n,r):yr(e,e[G],t,n)}function O1(e,n,t){if(t===Ke)return li(n,e);if(t===wr)return va(n,e);if(t===Bn)return fg(n,e)}function pg(e,n,t,r){let i=n[fn].queries[r];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let h=o[d];a.push(R1(n,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function nu(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=pg(e,n,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let d=o[a+1],h=n[-l];for(let m=ht;m<h.length;m++){let b=h[m];b[pr]===b[Qe]&&nu(b[G],b,d,r)}if(h[ei]!==null){let m=h[ei];for(let b=0;b<m.length;b++){let y=m[b];nu(y[G],y,d,r)}}}}}return r}function k1(e,n){return e[fn].queries[n].queryList}function hg(e,n,t){let r=new Uc((t&4)===4);return Ew(e,n,r,r.destroy),(n[fn]??=new Xc).queries.push(new Jc(r))-1}function P1(e,n,t){let r=He();return r.firstCreatePass&&(mg(r,new Ks(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),hg(r,J(),n)}function F1(e,n,t,r){let i=He();if(i.firstCreatePass){let o=Ye();mg(i,new Ks(n,t,r),o.index),V1(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return hg(i,J(),t)}function L1(e){return e.split(",").map(n=>n.trim())}function mg(e,n,t){e.queries===null&&(e.queries=new eu),e.queries.track(new tu(n,t))}function V1(e,n){let t=e.contentQueries||(e.contentQueries=[]),r=t.length?t[t.length-1]:-1;n!==r&&t.push(e.queries.length-1,n)}function nd(e,n){return e.queries.getByIndex(n)}function j1(e,n){let t=e[G],r=nd(t,n);return r.crossesNgTemplate?nu(t,e,n,[]):pg(t,e,r,n)}var Kp=new Set;function Dr(e){Kp.has(e)||(Kp.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function U1(e){return typeof e=="function"&&e[un]!==void 0}function ui(e,n){Dr("NgSignals");let t=Qf(e),r=t[un];return n?.equal&&(r.equal=n.equal),t.set=i=>Hl(r,i),t.update=i=>Yf(r,i),t.asReadonly=B1.bind(t),t}function B1(){let e=this[un];if(e.readonlyFn===void 0){let n=()=>this();n[un]=e,e.readonlyFn=n}return e.readonlyFn}function gg(e){return U1(e)&&typeof e.set=="function"}function $1(e){return Object.getPrototypeOf(e.prototype).constructor}function Me(e){let n=$1(e.type),t=!0,r=[e];for(;n;){let i;if(Fn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new k(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Cs(e.inputs),s.inputTransforms=Cs(e.inputTransforms),s.declaredInputs=Cs(e.declaredInputs),s.outputs=Cs(e.outputs);let a=i.hostBindings;a&&q1(e,a);let l=i.viewQuery,d=i.contentQueries;if(l&&G1(e,l),d&&W1(e,d),H1(e,i),By(e.outputs,i.outputs),Fn(i)&&i.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Me&&(t=!1)}}n=Object.getPrototypeOf(n)}z1(r)}function H1(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];if(r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=n.inputTransforms[i]}}}function z1(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Wi(i.hostAttrs,t=Wi(t,i.hostAttrs))}}function Cs(e){return e===Yr?{}:e===lt?[]:e}function G1(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function W1(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function q1(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function rd(e){let n=e.inputConfig,t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}e.inputTransforms=t}var Ln=class{},Qi=class{};var ru=class extends Ln{constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ys(this);let o=xh(n);this._bootstrapComponents=Sm(o.bootstrap),this._r3Injector=hm(n,t,[{provide:Ln,useValue:this},{provide:ni,useValue:this.componentFactoryResolver},...r],tt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},iu=class extends Qi{constructor(n){super(),this.moduleType=n}create(n){return new ru(this.moduleType,n,[])}};var Js=class extends Ln{constructor(n){super(),this.componentFactoryResolver=new Ys(this),this.instance=null;let t=new qi([...n.providers,{provide:Ln,useValue:this},{provide:ni,useValue:this.componentFactoryResolver}],n.parent||Eu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ba(e,n,t=null){return new Js({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}function vg(e){return Q1(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Z1(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function Q1(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function yg(e,n,t){return e[n]=t}function mn(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function id(e,n,t,r){let i=mn(e,n,t);return mn(e,n+1,r)||i}function Y1(e,n,t,r,i){let o=id(e,n,t,r);return mn(e,n+2,i)||o}function K1(e){return(e.flags&32)===32}function J1(e,n,t,r,i,o,s,a,l){let d=n.consts,h=ma(n,e,4,s||null,a||null);Zm(n,t,h,js(d,l)),Fu(n,h);let m=h.tView=Ju(2,h,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,h),m.queries=n.queries.embeddedTView(h)),h}function X1(e,n,t,r,i,o,s,a,l,d){let h=t+wt,m=n.firstCreatePass?J1(h,n,e,r,i,o,s,a,l):n.data[h];Xi(m,!1);let b=eC(n,e,m,t);ku()&&Yu(n,e,b,m),br(b,e);let y=Km(b,e,b,m);return e[h]=y,ga(e,y),S1(y,m,e),Mu(m)&&zm(n,e,m),l!=null&&Gm(e,m,d),m}function w(e,n,t,r,i,o,s,a){let l=J(),d=He(),h=js(d.consts,o);return X1(l,d,e,n,t,r,i,h,s,a),w}var eC=tC;function tC(e,n,t,r){return Pu(!0),n[ke].createComment("")}var Wr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Wr||{}),bg=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}}return e})(),ou=class e{constructor(){this.ngZone=D(De),this.scheduler=D(ti),this.errorHandler=D(pn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Wr.EarlyRead,Wr.Write,Wr.MixedReadWrite,Wr.Read]}execute(){this.executing=!0;for(let n of e.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[n]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[n](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}},su=class{constructor(n,t,r,i){this.impl=n,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function od(e,n){!n?.injector&&Fb(od);let t=n?.injector??D(Ct);return J_(t)?(Dr("NgAfterNextRender"),rC(e,t,n,!0)):iC}function nC(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function rC(e,n,t,r){let i=n.get(bg);i.impl??=n.get(ou);let o=t?.phase??Wr.MixedReadWrite,s=t?.manualCleanup!==!0?n.get(ju):null,a=new su(i.impl,nC(e,o),r,s);return i.impl.register(a),a}var iC={destroy(){}};function tn(e,n,t,r){let i=J(),o=da();if(mn(i,o,n)){let s=He(),a=Ou();Uw(a,i,e,n,t,r)}return tn}function oC(e,n,t,r){return mn(e,da(),t)?n+Qr(t)+r:Ut}function sC(e,n,t,r,i,o){let s=t_(),a=id(e,s,t,i);return Tu(2),a?n+Qr(t)+r+Qr(i)+o:Ut}function Ds(e,n){return e<<17|n<<2}function Cr(e){return e>>17&32767}function aC(e){return(e&2)==2}function lC(e,n){return e&131071|n<<17}function au(e){return e|2}function oi(e){return(e&131068)>>2}function mc(e,n){return e&-131069|n<<2}function cC(e){return(e&1)===1}function lu(e){return e|1}function uC(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Cr(s),l=oi(s);e[r]=t;let d=!1,h;if(Array.isArray(t)){let m=t;h=m[1],(h===null||Ji(m,h)>0)&&(d=!0)}else h=t;if(i)if(l!==0){let b=Cr(e[a+1]);e[r+1]=Ds(b,a),b!==0&&(e[b+1]=mc(e[b+1],r)),e[a+1]=lC(e[a+1],r)}else e[r+1]=Ds(a,0),a!==0&&(e[a+1]=mc(e[a+1],r)),a=r;else e[r+1]=Ds(l,0),a===0?a=r:e[l+1]=mc(e[l+1],r),l=r;d&&(e[r+1]=au(e[r+1])),Jp(e,h,r,!0),Jp(e,h,r,!1),dC(n,h,e,r,o),s=Ds(a,l),o?n.classBindings=s:n.styleBindings=s}function dC(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Ji(o,n)>=0&&(t[r+1]=lu(t[r+1]))}function Jp(e,n,t,r){let i=e[t+1],o=n===null,s=r?Cr(i):oi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];fC(l,n)&&(a=!0,e[s+1]=r?lu(d):au(d)),s=r?Cr(d):oi(d)}a&&(e[t+1]=r?au(i):lu(i))}function fC(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Ji(e,n)>=0:!1}var Pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pC(e){return e.substring(Pt.key,Pt.keyEnd)}function hC(e){return mC(e),_g(e,wg(e,0,Pt.textEnd))}function _g(e,n){let t=Pt.textEnd;return t===n?-1:(n=Pt.keyEnd=gC(e,Pt.key=n,t),wg(e,n,t))}function mC(e){Pt.key=0,Pt.keyEnd=0,Pt.value=0,Pt.valueEnd=0,Pt.textEnd=e.length}function wg(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function gC(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function g(e,n,t){let r=J(),i=da();if(mn(r,i,n)){let o=He(),s=Ou();qm(o,s,r,e,n,r[ke],t,!1)}return g}function cu(e,n,t,r,i){let o=n.inputs,s=i?"class":"style";Xu(e,t,o[s],s,r)}function mt(e,n){return yC(e,n,null,!0),mt}function xr(e){bC(EC,vC,e,!0)}function vC(e,n){for(let t=hC(n);t>=0;t=_g(n,t))wu(e,pC(n),!0)}function yC(e,n,t,r){let i=J(),o=He(),s=Tu(2);if(o.firstUpdatePass&&Dg(o,e,s,r),n!==Ut&&mn(i,s,n)){let a=o.data[jn()];xg(o,a,i,i[ke],e,i[s+1]=IC(n,t),r,s)}}function bC(e,n,t,r){let i=He(),o=Tu(2);i.firstUpdatePass&&Dg(i,null,o,r);let s=J();if(t!==Ut&&mn(s,o,t)){let a=i.data[jn()];if(Eg(a,r)&&!Cg(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=_c(l,t||"")),cu(i,a,s,t,r)}else MC(i,a,s,s[ke],s[o+1],s[o+1]=xC(e,n,t),r,o)}}function Cg(e,n){return n>=e.expandoStartIndex}function Dg(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[jn()],s=Cg(e,t);Eg(o,r)&&n===null&&!s&&(n=!1),n=_C(i,o,n,r),uC(i,o,n,t,s,r)}}function _C(e,n,t,r){let i=s_(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=gc(null,e,n,t,r),t=Yi(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=gc(i,e,n,t,r),o===null){let l=wC(e,n,r);l!==void 0&&Array.isArray(l)&&(l=gc(null,e,n,l[1],r),l=Yi(l,n.attrs,r),CC(e,n,r,l))}else o=DC(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function wC(e,n,t){let r=t?n.classBindings:n.styleBindings;if(oi(r)!==0)return e[Cr(r)]}function CC(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Cr(i)]=r}function DC(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Yi(r,s,t)}return Yi(r,n.attrs,t)}function gc(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Yi(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Yi(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),wu(e,s,t?!0:n[++o]))}return e===void 0?null:e}function xC(e,n,t){if(t==null||t==="")return lt;let r=[],i=ci(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function EC(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&wu(e,r,t)}function MC(e,n,t,r,i,o,s,a){i===Ut&&(i=lt);let l=0,d=0,h=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;h!==null||m!==null;){let b=l<i.length?i[l+1]:void 0,y=d<o.length?o[d+1]:void 0,x=null,I;h===m?(l+=2,d+=2,b!==y&&(x=m,I=y)):m===null||h!==null&&h<m?(l+=2,x=h):(d+=2,x=m,I=y),x!==null&&xg(e,n,t,r,x,I,s,a),h=l<i.length?i[l]:null,m=d<o.length?o[d]:null}}function xg(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,d=l[a+1],h=cC(d)?Xp(l,n,t,i,oi(d),s):void 0;if(!Xs(h)){Xs(o)||aC(d)&&(o=Xp(l,null,t,i,a,s));let m=Uh(jn(),t);vw(r,s,m,i,o)}}function Xp(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],d=Array.isArray(l),h=d?l[1]:l,m=h===null,b=t[i+1];b===Ut&&(b=m?lt:void 0);let y=m?sc(b,r):h===r?b:void 0;if(d&&!Xs(y)&&(y=sc(l,r)),Xs(y)&&(a=y,s))return a;let x=e[i+1];i=s?Cr(x):oi(x)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=sc(l,r))}return a}function Xs(e){return e!==void 0}function IC(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=tt(ci(e)))),e}function Eg(e,n){return(e.flags&(n?8:16))!==0}function SC(e,n,t,r,i,o){let s=n.consts,a=js(s,i),l=ma(n,e,2,r,a);return Zm(n,t,l,js(s,o)),l.attrs!==null&&Yc(l,l.attrs,!1),l.mergedAttrs!==null&&Yc(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function u(e,n,t,r){let i=J(),o=He(),s=wt+e,a=i[ke],l=o.firstCreatePass?SC(s,o,i,n,t,r):o.data[s],d=TC(o,i,l,a,n,e);i[s]=d;let h=Mu(l);return Xi(l,!0),Lm(a,d,l),!K1(l)&&ku()&&Yu(o,i,d,l),Wb()===0&&br(d,i),qb(),h&&(zm(o,i,l),Hm(o,l,i)),r!==null&&Gm(i,l),u}function c(){let e=Ye();Zh()?Xb():(e=e.parent,Xi(e,!1));let n=e;Yb(n)&&Kb(),Zb();let t=He();return t.firstCreatePass&&(Fu(t,e),kh(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&h_(n)&&cu(t,n,J(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&m_(n)&&cu(t,n,J(),n.stylesWithoutHost,!1),c}function C(e,n,t,r){return u(e,n,t,r),c(),C}var TC=(e,n,t,r,i,o)=>(Pu(!0),Tm(r,i,u_()));function Q(){return J()}var cr=void 0;function AC(e){let n=e,t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var NC=["en",[["a","p"],["AM","PM"],cr],[["AM","PM"],cr,cr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cr,"{1} 'at' {0}",cr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AC],vc={};function Mt(e){let n=RC(e),t=eh(n);if(t)return t;let r=n.split("-")[0];if(t=eh(r),t)return t;if(r==="en")return NC;throw new k(701,!1)}function eh(e){return e in vc||(vc[e]=ur.ng&&ur.ng.common&&ur.ng.common.locales&&ur.ng.common.locales[e]),vc[e]}var Ae=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ae||{});function RC(e){return e.toLowerCase().replace(/_/g,"-")}var ea="en-US";var OC=ea;function kC(e){typeof e=="string"&&(OC=e.toLowerCase().replace(/_/g,"-"))}var PC=(e,n,t)=>{};function M(e,n,t,r){let i=J(),o=He(),s=Ye();return Mg(o,i,i[ke],s,e,n,r),M}function FC(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[Fs],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Mg(e,n,t,r,i,o,s){let a=Mu(r),d=e.firstCreatePass&&eg(e),h=n[Lt],m=Xm(n),b=!0;if(r.type&3||s){let I=xt(r,n),R=s?s(I):I,j=m.length,we=s?Ge=>s(Kt(Ge[r.index])):r.index,re=null;if(!s&&a&&(re=FC(e,n,i,r.index)),re!==null){let Ge=re.__ngLastListenerFn__||re;Ge.__ngNextListenerFn__=o,re.__ngLastListenerFn__=o,b=!1}else{o=nh(r,n,h,o),PC(I,i,o);let Ge=t.listen(R,i,o);m.push(o,Ge),d&&d.push(i,we,j,j+1)}}else o=nh(r,n,h,o);let y=r.outputs,x;if(b&&y!==null&&(x=y[i])){let I=x.length;if(I)for(let R=0;R<I;R+=2){let j=x[R],we=x[R+1],ot=n[j][we].subscribe(o),Ve=m.length;m.push(o,ot),d&&d.push(i,r.index,Ve,-(Ve+1))}}}function th(e,n,t,r){let i=te(null);try{return Wt(6,n,t),t(r)!==!1}catch(o){return tg(e,o),!1}finally{Wt(7,n,t),te(i)}}function nh(e,n,t,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?Vn(e.index,n):n;td(s,5);let a=th(n,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=th(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function v(e=1){return l_(e)}function Ig(e,n,t,r){F1(e,n,t,r)}function _a(e,n,t){P1(e,n,t)}function di(e){let n=J(),t=He(),r=Kh();Au(r+1);let i=nd(t,r);if(e.dirty&&$b(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=j1(n,r);e.reset(o,F_),e.notifyOnChanges()}return!0}return!1}function fi(){return k1(J(),Kh())}function LC(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Sg(e){let n=e_();return Iu(n,wt+e)}function f(e,n=""){let t=J(),r=He(),i=e+wt,o=r.firstCreatePass?ma(r,i,1,n,null):r.data[i],s=VC(r,t,o,n,e);t[i]=s,ku()&&Yu(r,t,s,o),Xi(o,!1)}var VC=(e,n,t,r,i)=>(Pu(!0),ew(n[ke],r));function ie(e){return A("",e,""),ie}function A(e,n,t){let r=J(),i=oC(r,e,n,t);return i!==Ut&&ng(r,jn(),i),A}function Ee(e,n,t,r,i){let o=J(),s=sC(o,e,n,t,r,i);return s!==Ut&&ng(o,jn(),s),Ee}function oe(e,n,t){gg(n)&&(n=n());let r=J(),i=da();if(mn(r,i,n)){let o=He(),s=Ou();qm(o,s,r,e,n,r[ke],t,!1)}return oe}function ae(e,n){let t=gg(e);return t&&e.set(n),t}function se(e,n){let t=J(),r=He(),i=Ye();return Mg(r,t,t[ke],i,e,n),se}function jC(e,n,t){let r=He();if(r.firstCreatePass){let i=Fn(e);uu(t,r.data,r.blueprint,i,!0),uu(n,r.data,r.blueprint,i,!1)}}function uu(e,n,t,r,i){if(e=et(e),Array.isArray(e))for(let o=0;o<e.length;o++)uu(e[o],n,t,r,i);else{let o=He(),s=J(),a=Ye(),l=Jr(e)?e:et(e.provide),d=Ah(e),h=a.providerIndexes&1048575,m=a.directiveStart,b=a.providerIndexes>>20;if(Jr(e)||!e.multi){let y=new vr(d,i,_),x=bc(l,n,i?h:h+b,m);x===-1?(kc(Hs(a,s),o,l),yc(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[x]=y,s[x]=y)}else{let y=bc(l,n,h+b,m),x=bc(l,n,h,h+b),I=y>=0&&t[y],R=x>=0&&t[x];if(i&&!R||!i&&!I){kc(Hs(a,s),o,l);let j=$C(i?BC:UC,t.length,i,r,d);!i&&R&&(t[x].providerFactory=j),yc(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=Tg(t[i?x:y],d,!i&&r);yc(o,e,y>-1?y:x,j)}!i&&r&&R&&t[x].componentProviders++}}}function yc(e,n,t,r){let i=Jr(n),o=Tb(n);if(i||o){let l=(o?et(n.useClass):n).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let h=d.indexOf(t);h===-1?d.push(t,[r,l]):d[h+1].push(r,l)}else d.push(t,l)}}}function Tg(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function bc(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function UC(e,n,t,r){return du(this.multi,[])}function BC(e,n,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=yr(t,t[G],this.providerFactory.index,r);o=a.slice(0,s),du(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],du(i,o);return o}function du(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function $C(e,n,t,r,i){let o=new vr(e,t,_);return o.multi=[],o.index=n,o.componentProviders=0,Tg(o,i,r&&!t),o}function qe(e,n=[]){return t=>{t.providersResolver=(r,i)=>jC(r,i?i(e):e,n)}}var HC=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ih(!1,t.type),i=r.length>0?ba([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(P(nt))})}}return e})();function ve(e){Dr("NgStandalone"),e.getStandaloneInjector=n=>n.get(HC).getOrCreateStandaloneInjector(e)}function Ag(e,n){let t=e[n];return t===Ut?void 0:t}function zC(e,n,t,r,i,o,s){let a=n+t;return id(e,a,i,o)?yg(e,a+2,s?r.call(s,i,o):r(i,o)):Ag(e,a+2)}function GC(e,n,t,r,i,o,s,a){let l=n+t;return Y1(e,l,i,o,s)?yg(e,l+3,a?r.call(a,i,o,s):r(i,o,s)):Ag(e,l+3)}function Er(e,n){let t=He(),r,i=e+wt;t.firstCreatePass?(r=WC(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=fr(r.type,!0)),s,a=at(_);try{let l=$s(!1),d=o();return $s(l),LC(t,J(),i,d),d}finally{at(a)}}function WC(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function eo(e,n,t,r){let i=e+wt,o=J(),s=Iu(o,i);return Rg(o,i)?zC(o,Yh(),n,s.transform,t,r,s):s.transform(t,r)}function Ng(e,n,t,r,i){let o=e+wt,s=J(),a=Iu(s,o);return Rg(s,o)?GC(s,Yh(),n,a.transform,t,r,i,a):a.transform(t,r,i)}function Rg(e,n){return e[G].data[n].pure}function Og(e,n){return va(e,n)}var wa=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var kg=new O("");function Mr(e){return!!e&&typeof e.then=="function"}function Pg(e){return!!e&&typeof e.subscribe=="function"}var Ca=new O(""),Fg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=D(Ca,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Mr(o))t.push(o);else if(Pg(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),to=new O("");function qC(){Zf(()=>{throw new k(600,!1)})}function ZC(e){return e.isBoundToModule}var QC=10;function YC(e,n,t){try{let r=t();return Mr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var $n=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(k_),this.afterRenderManager=D(bg),this.zonelessEnabled=D(ya),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=D(Un).hasPendingTasks.pipe(B(t=>!t)),this._injector=D(nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Qs;if(!this._injector.get(Fg).done){let b=!i&&Dh(t),y=!1;throw new k(405,y)}let s;i?s=t:s=this._injector.get(ni).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=ZC(s)?void 0:this._injector.get(Ln),l=r||s.selector,d=s.create(Ct.NULL,[],l,a),h=d.location.nativeElement,m=d.injector.get(kg,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Ts(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new k(101,!1);let t=te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,te(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ri,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<QC;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)KC(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ca(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ts(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(to,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ts(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ts(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function KC(e,n,t,r){if(!t&&!ca(e))return;og(e,n,t&&!r?0:1)}var fu=class{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Da=(()=>{class e{compileModuleSync(t){return new iu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=xh(t),o=Sm(i.declarations).reduce((s,a)=>{let l=Pn(a);return l&&s.push(new ii(l)),s},[]);return new fu(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var JC=(()=>{class e{constructor(){this.zone=D(De),this.changeDetectionScheduler=D(ti),this.applicationRef=D($n)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XC=new O("",{factory:()=>!1});function Lg({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new De(z(E({},jg()),{scheduleInRootZone:t})),[{provide:De,useFactory:e},{provide:Kr,multi:!0,useFactory:()=>{let r=D(JC,{optional:!0});return()=>r.initialize()}},{provide:Kr,multi:!0,useFactory:()=>{let r=D(eD);return()=>{r.initialize()}}},n===!0?{provide:cg,useValue:!0}:[],{provide:ug,useValue:t??mm}]}function Vg(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Lg({ngZoneFactory:()=>{let i=jg(e);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Dr("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return si([{provide:XC,useValue:!0},{provide:ya,useValue:!1},r])}function jg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var eD=(()=>{class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=D(De),this.pendingTasks=D(Un)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var tD=(()=>{class e{constructor(){this.appRef=D($n),this.taskService=D(Un),this.ngZone=D(De),this.zonelessEnabled=D(ya),this.disableScheduling=D(cg,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gs):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(ug,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Vp:gm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Vp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nD(){return typeof $localize<"u"&&$localize.locale||ea}var xa=new O("",{providedIn:"root",factory:()=>D(xa,q.Optional|q.SkipSelf)||nD()});var pu=new O("");function xs(e){return!e.moduleRef}function rD(e){let n=xs(e)?e.r3Injector:e.moduleRef.injector,t=n.get(De);return t.run(()=>{xs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(pn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),xs(e)){let o=()=>n.destroy(),s=e.platformInjector.get(pu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(pu);s.add(o),e.moduleRef.onDestroy(()=>{Ts(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return YC(r,t,()=>{let o=n.get(Fg);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(xa,ea);if(kC(s||ea),xs(e)){let a=n.get($n);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return iD(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function iD(e,n){let t=e.injector.get($n);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new k(-403,!1);n.push(e)}var As=null;function oD(e=[],n){return Ct.create({name:n,providers:[{provide:sa,useValue:"platform"},{provide:pu,useValue:new Set([()=>As=null])},...e]})}function sD(e=[]){if(As)return As;let n=oD(e);return As=n,qC(),aD(n),n}function aD(e){e.get(Hu,null)?.forEach(t=>t())}var Hn=(()=>{class e{static{this.__NG_ELEMENT_ID__=lD}}return e})();function lD(e){return cD(Ye(),J(),(e&16)===16)}function cD(e,n,t){if(la(e)&&!t){let r=Vn(e.index,n);return new _r(r,r)}else if(e.type&175){let r=n[Yt];return new _r(r,n)}return null}var hu=class{constructor(){}supports(n){return vg(n)}create(n){return new mu(n)}},uD=(e,n)=>n,mu=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||uD}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<rh(r,i,o)?t:r,a=rh(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,h=l-i;if(d!=h){for(let b=0;b<d;b++){let y=b<o.length?o[b]:o[b]=0,x=y+b;h<=x&&x<d&&(o[b]=y+1)}let m=s.previousIndex;o[m]=h-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!vg(n))throw new k(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Z1(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new gu(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new ta),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},gu=class{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},vu=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ta=class{constructor(){this.map=new Map}put(n){let t=n.trackById,r=this.map.get(t);r||(r=new vu,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rh(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function ih(){return new sd([new hu])}var sd=(()=>{class e{static{this.\u0275prov=N({token:e,providedIn:"root",factory:ih})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||ih()),deps:[[e,new bu,new oa]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new k(901,!1)}}return e})();function Ug(e){try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=sD(r),o=[Lg({}),{provide:ti,useExisting:tD},...t||[]],s=new Js({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return rD({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function zn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function pi(e,n){Dr("NgSignals");let t=Gf(e);return n?.equal&&(t[un].equal=n.equal),t}function nn(e){let n=te(null);try{return e()}finally{te(n)}}function Bg(e){let n=Pn(e);if(!n)return null;let t=new ii(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Zg=null;function wn(){return Zg}function Qg(e){Zg??=e}var Oa=class{};var Je=new O(""),gd=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>D(fD),providedIn:"platform"})}}return e})(),Yg=new O(""),fD=(()=>{class e extends gd{constructor(){super(),this._doc=D(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wn().getBaseHref(this._doc)}onPopState(t){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function vd(e,n){if(e.length==0)return n;if(n.length==0)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,t==2?e+n.substring(1):t==1?e+n:e+"/"+n}function $g(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,r=t-(e[t-1]==="/"?1:0);return e.slice(0,r)+e.slice(t)}function bn(e){return e&&e[0]!=="?"?"?"+e:e}var Cn=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>D(yd),providedIn:"root"})}}return e})(),Kg=new O(""),yd=(()=>{class e extends Cn{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+bn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+bn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+bn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(P(gd),P(Kg,8))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jg=(()=>{class e extends Cn{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=vd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+bn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+bn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(P(gd),P(Kg,8))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),mi=(()=>{class e{constructor(t){this._subject=new me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=mD($g(Hg(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+bn(r))}normalize(t){return e.stripTrailingSlash(hD(this._basePath,Hg(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=bn}static{this.joinWithSlash=vd}static{this.stripTrailingSlash=$g}static{this.\u0275fac=function(r){return new(r||e)(P(Cn))}}static{this.\u0275prov=N({token:e,factory:()=>pD(),providedIn:"root"})}}return e})();function pD(){return new mi(P(Cn))}function hD(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Hg(e){return e.replace(/\/index.html$/,"")}function mD(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var rt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(rt||{}),pe=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(pe||{}),gt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(gt||{}),Gn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gD(e){return Mt(e)[Ae.LocaleId]}function vD(e,n,t){let r=Mt(e),i=[r[Ae.DayPeriodsFormat],r[Ae.DayPeriodsStandalone]],o=It(i,n);return It(o,t)}function yD(e,n,t){let r=Mt(e),i=[r[Ae.DaysFormat],r[Ae.DaysStandalone]],o=It(i,n);return It(o,t)}function bD(e,n,t){let r=Mt(e),i=[r[Ae.MonthsFormat],r[Ae.MonthsStandalone]],o=It(i,n);return It(o,t)}function _D(e,n){let r=Mt(e)[Ae.Eras];return It(r,n)}function Ea(e,n){let t=Mt(e);return It(t[Ae.DateFormat],n)}function Ma(e,n){let t=Mt(e);return It(t[Ae.TimeFormat],n)}function Ia(e,n){let r=Mt(e)[Ae.DateTimeFormat];return It(r,n)}function Pa(e,n){let t=Mt(e),r=t[Ae.NumberSymbols][n];if(typeof r>"u"){if(n===Gn.CurrencyDecimal)return t[Ae.NumberSymbols][Gn.Decimal];if(n===Gn.CurrencyGroup)return t[Ae.NumberSymbols][Gn.Group]}return r}function Xg(e){if(!e[Ae.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ae.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wD(e){let n=Mt(e);return Xg(n),(n[Ae.ExtraData][2]||[]).map(r=>typeof r=="string"?ad(r):[ad(r[0]),ad(r[1])])}function CD(e,n,t){let r=Mt(e);Xg(r);let i=[r[Ae.ExtraData][0],r[Ae.ExtraData][1]],o=It(i,n)||[];return It(o,t)||[]}function It(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function ad(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var DD=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sa={},xD=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_n=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(_n||{}),ce=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ce||{}),le=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(le||{});function ED(e,n,t,r){let i=kD(e);n=yn(t,n)||n;let s=[],a;for(;n;)if(a=xD.exec(n),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;n=h}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=t0(r,l),i=OD(i,r,!0));let d="";return s.forEach(h=>{let m=ND(h);d+=m?m(i,t,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function ka(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function yn(e,n){let t=gD(e);if(Sa[t]??={},Sa[t][n])return Sa[t][n];let r="";switch(n){case"shortDate":r=Ea(e,gt.Short);break;case"mediumDate":r=Ea(e,gt.Medium);break;case"longDate":r=Ea(e,gt.Long);break;case"fullDate":r=Ea(e,gt.Full);break;case"shortTime":r=Ma(e,gt.Short);break;case"mediumTime":r=Ma(e,gt.Medium);break;case"longTime":r=Ma(e,gt.Long);break;case"fullTime":r=Ma(e,gt.Full);break;case"short":let i=yn(e,"shortTime"),o=yn(e,"shortDate");r=Ta(Ia(e,gt.Short),[i,o]);break;case"medium":let s=yn(e,"mediumTime"),a=yn(e,"mediumDate");r=Ta(Ia(e,gt.Medium),[s,a]);break;case"long":let l=yn(e,"longTime"),d=yn(e,"longDate");r=Ta(Ia(e,gt.Long),[l,d]);break;case"full":let h=yn(e,"fullTime"),m=yn(e,"fullDate");r=Ta(Ia(e,gt.Full),[h,m]);break}return r&&(Sa[t][n]=r),r}function Ta(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function Bt(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function MD(e,n){return Bt(e,3).substring(0,n)}function Fe(e,n,t=0,r=!1,i=!1){return function(o,s){let a=ID(e,o);if((t>0||a>-t)&&(a+=t),e===ce.Hours)a===0&&t===-12&&(a=12);else if(e===ce.FractionalSeconds)return MD(a,n);let l=Pa(s,Gn.MinusSign);return Bt(a,n,l,r,i)}}function ID(e,n){switch(e){case ce.FullYear:return n.getFullYear();case ce.Month:return n.getMonth();case ce.Date:return n.getDate();case ce.Hours:return n.getHours();case ce.Minutes:return n.getMinutes();case ce.Seconds:return n.getSeconds();case ce.FractionalSeconds:return n.getMilliseconds();case ce.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ye(e,n,t=rt.Format,r=!1){return function(i,o){return SD(i,o,e,n,t,r)}}function SD(e,n,t,r,i,o){switch(t){case le.Months:return bD(n,i,r)[e.getMonth()];case le.Days:return yD(n,i,r)[e.getDay()];case le.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let d=wD(n),h=CD(n,i,r),m=d.findIndex(b=>{if(Array.isArray(b)){let[y,x]=b,I=s>=y.hours&&a>=y.minutes,R=s<x.hours||s===x.hours&&a<x.minutes;if(y.hours<x.hours){if(I&&R)return!0}else if(I||R)return!0}else if(b.hours===s&&b.minutes===a)return!0;return!1});if(m!==-1)return h[m]}return vD(n,i,r)[s<12?0:1];case le.Eras:return _D(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Aa(e){return function(n,t,r){let i=-1*r,o=Pa(t,Gn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case _n.Short:return(i>=0?"+":"")+Bt(s,2,o)+Bt(Math.abs(i%60),2,o);case _n.ShortGMT:return"GMT"+(i>=0?"+":"")+Bt(s,1,o);case _n.Long:return"GMT"+(i>=0?"+":"")+Bt(s,2,o)+":"+Bt(Math.abs(i%60),2,o);case _n.Extended:return r===0?"Z":(i>=0?"+":"")+Bt(s,2,o)+":"+Bt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var TD=0,Ra=4;function AD(e){let n=ka(e,TD,1).getDay();return ka(e,0,1+(n<=Ra?Ra:Ra+7)-n)}function e0(e){let n=e.getDay(),t=n===0?-3:Ra-n;return ka(e.getFullYear(),e.getMonth(),e.getDate()+t)}function ld(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=e0(t),s=AD(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Bt(i,e,Pa(r,Gn.MinusSign))}}function Na(e,n=!1){return function(t,r){let o=e0(t).getFullYear();return Bt(o,e,Pa(r,Gn.MinusSign),n)}}var cd={};function ND(e){if(cd[e])return cd[e];let n;switch(e){case"G":case"GG":case"GGG":n=ye(le.Eras,pe.Abbreviated);break;case"GGGG":n=ye(le.Eras,pe.Wide);break;case"GGGGG":n=ye(le.Eras,pe.Narrow);break;case"y":n=Fe(ce.FullYear,1,0,!1,!0);break;case"yy":n=Fe(ce.FullYear,2,0,!0,!0);break;case"yyy":n=Fe(ce.FullYear,3,0,!1,!0);break;case"yyyy":n=Fe(ce.FullYear,4,0,!1,!0);break;case"Y":n=Na(1);break;case"YY":n=Na(2,!0);break;case"YYY":n=Na(3);break;case"YYYY":n=Na(4);break;case"M":case"L":n=Fe(ce.Month,1,1);break;case"MM":case"LL":n=Fe(ce.Month,2,1);break;case"MMM":n=ye(le.Months,pe.Abbreviated);break;case"MMMM":n=ye(le.Months,pe.Wide);break;case"MMMMM":n=ye(le.Months,pe.Narrow);break;case"LLL":n=ye(le.Months,pe.Abbreviated,rt.Standalone);break;case"LLLL":n=ye(le.Months,pe.Wide,rt.Standalone);break;case"LLLLL":n=ye(le.Months,pe.Narrow,rt.Standalone);break;case"w":n=ld(1);break;case"ww":n=ld(2);break;case"W":n=ld(1,!0);break;case"d":n=Fe(ce.Date,1);break;case"dd":n=Fe(ce.Date,2);break;case"c":case"cc":n=Fe(ce.Day,1);break;case"ccc":n=ye(le.Days,pe.Abbreviated,rt.Standalone);break;case"cccc":n=ye(le.Days,pe.Wide,rt.Standalone);break;case"ccccc":n=ye(le.Days,pe.Narrow,rt.Standalone);break;case"cccccc":n=ye(le.Days,pe.Short,rt.Standalone);break;case"E":case"EE":case"EEE":n=ye(le.Days,pe.Abbreviated);break;case"EEEE":n=ye(le.Days,pe.Wide);break;case"EEEEE":n=ye(le.Days,pe.Narrow);break;case"EEEEEE":n=ye(le.Days,pe.Short);break;case"a":case"aa":case"aaa":n=ye(le.DayPeriods,pe.Abbreviated);break;case"aaaa":n=ye(le.DayPeriods,pe.Wide);break;case"aaaaa":n=ye(le.DayPeriods,pe.Narrow);break;case"b":case"bb":case"bbb":n=ye(le.DayPeriods,pe.Abbreviated,rt.Standalone,!0);break;case"bbbb":n=ye(le.DayPeriods,pe.Wide,rt.Standalone,!0);break;case"bbbbb":n=ye(le.DayPeriods,pe.Narrow,rt.Standalone,!0);break;case"B":case"BB":case"BBB":n=ye(le.DayPeriods,pe.Abbreviated,rt.Format,!0);break;case"BBBB":n=ye(le.DayPeriods,pe.Wide,rt.Format,!0);break;case"BBBBB":n=ye(le.DayPeriods,pe.Narrow,rt.Format,!0);break;case"h":n=Fe(ce.Hours,1,-12);break;case"hh":n=Fe(ce.Hours,2,-12);break;case"H":n=Fe(ce.Hours,1);break;case"HH":n=Fe(ce.Hours,2);break;case"m":n=Fe(ce.Minutes,1);break;case"mm":n=Fe(ce.Minutes,2);break;case"s":n=Fe(ce.Seconds,1);break;case"ss":n=Fe(ce.Seconds,2);break;case"S":n=Fe(ce.FractionalSeconds,1);break;case"SS":n=Fe(ce.FractionalSeconds,2);break;case"SSS":n=Fe(ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Aa(_n.Short);break;case"ZZZZZ":n=Aa(_n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Aa(_n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Aa(_n.Long);break;default:return null}return cd[e]=n,n}function t0(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function RD(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function OD(e,n,t){let r=t?-1:1,i=e.getTimezoneOffset(),o=t0(n,i);return RD(e,r*(o-i))}function kD(e){if(zg(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return ka(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(DD))return PD(r)}let n=new Date(e);if(!zg(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function PD(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,d),n}function zg(e){return e instanceof Date&&!isNaN(e.valueOf())}function Fa(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ud=/\s+/,Gg=[],La=(()=>{class e{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Gg,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(ud):Gg}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ud):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ud).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(_(Ke),_(Et))}}static{this.\u0275dir=X({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var dd=class{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ut=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new dd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Wg(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Wg(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(_(Bn),_(wr),_(sd))}}static{this.\u0275dir=X({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Wg(e,n){e.context.$implicit=n.item}var Le=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new fd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qg("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qg("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(_(Bn),_(wr))}}static{this.\u0275dir=X({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),fd=class{constructor(){this.$implicit=null,this.ngIf=null}};function qg(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${tt(n)}'.`)}function n0(e,n){return new k(2100,!1)}var FD="mediumDate",LD=new O(""),VD=new O(""),Va=(()=>{class e{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??FD,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ED(t,s,o||this.locale,a)}catch(s){throw n0(e,s.message)}}static{this.\u0275fac=function(r){return new(r||e)(_(xa,16),_(LD,24),_(VD,24))}}static{this.\u0275pipe=Du({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var r0=(()=>{class e{transform(t,r,i){if(t==null)return null;if(!this.supports(t))throw n0(e,t);return t.slice(r,i)}supports(t){return typeof t=="string"||Array.isArray(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=Du({name:"slice",type:e,pure:!1,standalone:!0})}}return e})();var _e=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Jt({})}}return e})(),bd="browser",jD="server";function UD(e){return e===bd}function ja(e){return e===jD}var i0=(()=>{class e{static{this.\u0275prov=N({token:e,providedIn:"root",factory:()=>UD(D(en))?new pd(D(Je),window):new hd})}}return e})(),pd=class{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=BD(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function BD(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var hd=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},hi=class{};var ro=class{},io=class{},Tt=class e{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var wd=class{encodeKey(n){return o0(n)}encodeValue(n){return o0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function $D(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var HD=/%(\d[a-f0-9])/gi,zD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function o0(e){return encodeURIComponent(e).replace(HD,(n,t)=>zD[t]??n)}function Ua(e){return`${e}`}var Xe=class e{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new wd,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=$D(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(Ua):[Ua(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Ua(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Ua(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Cd=class{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function GD(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function s0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function a0(e){return typeof Blob<"u"&&e instanceof Blob}function l0(e){return typeof FormData<"u"&&e instanceof FormData}function WD(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var no=class e{constructor(n,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(GD(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Tt,this.context??=new Cd,!this.params)this.params=new Xe,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||s0(this.body)||a0(this.body)||l0(this.body)||WD(this.body)?this.body:this.body instanceof Xe?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||l0(this.body)?null:a0(this.body)?this.body.type||null:s0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,d=n.headers||this.headers,h=n.params||this.params,m=n.context??this.context;return n.setHeaders!==void 0&&(d=Object.keys(n.setHeaders).reduce((b,y)=>b.set(y,n.setHeaders[y]),d)),n.setParams&&(h=Object.keys(n.setParams).reduce((b,y)=>b.set(y,n.setParams[y]),h)),new e(t,r,s,{params:h,headers:d,context:m,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},qn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(qn||{}),oo=class{constructor(n,t=200,r="OK"){this.headers=n.headers||new Tt,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Ba=class e extends oo{constructor(n={}){super(n),this.type=qn.ResponseHeader}clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},so=class e extends oo{constructor(n={}){super(n),this.type=qn.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Wn=class extends oo{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},f0=200,qD=204;function _d(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Ir=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof no)o=t;else{let l;i.headers instanceof Tt?l=i.headers:l=new Tt(i.headers);let d;i.params&&(i.params instanceof Xe?d=i.params:d=new Xe({fromObject:i.params})),o=new no(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=L(o).pipe(dn(l=>this.handler.handle(l)));if(t instanceof no||i.observe==="events")return s;let a=s.pipe(We(l=>l instanceof so));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(B(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(B(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Xe().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_d(i,r))}post(t,r,i={}){return this.request("POST",t,_d(i,r))}put(t,r,i={}){return this.request("PUT",t,_d(i,r))}static{this.\u0275fac=function(r){return new(r||e)(P(ro))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),ZD=/^\)\]\}',?\n/,QD="X-Request-URL";function c0(e){if(e.url)return e.url;let n=QD.toLocaleLowerCase();return e.headers.get(n)}var Dd=(()=>{class e{constructor(){this.fetchImpl=D(xd,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=D(De)}handle(t){return new Y(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Ed,o=>r.error(new Wn({error:o}))),()=>i.abort()})}doRequest(t,r,i){return ee(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));YD(y),i.next({type:qn.Sent}),s=yield y}catch(y){i.error(new Wn({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new Tt(s.headers),l=s.statusText,d=c0(s)??t.urlWithParams,h=s.status,m=null;if(t.reportProgress&&i.next(new Ba({headers:a,status:h,statusText:l,url:d})),s.body){let y=s.headers.get("content-length"),x=[],I=s.body.getReader(),R=0,j,we,re=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ee(this,null,function*(){for(;;){let{done:ot,value:Ve}=yield I.read();if(ot)break;if(x.push(Ve),R+=Ve.length,t.reportProgress){we=t.responseType==="text"?(we??"")+(j??=new TextDecoder).decode(Ve,{stream:!0}):void 0;let cn=()=>i.next({type:qn.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:we});re?re.run(cn):cn()}}}));let Ge=this.concatChunks(x,R);try{let ot=s.headers.get("Content-Type")??"";m=this.parseBody(t,Ge,ot)}catch(ot){i.error(new Wn({error:ot,headers:new Tt(s.headers),status:s.status,statusText:s.statusText,url:c0(s)??t.urlWithParams}));return}}h===0&&(h=m?f0:0),h>=200&&h<300?(i.next(new so({body:m,headers:a,status:h,statusText:l,url:d})),i.complete()):i.error(new Wn({error:m,headers:a,status:h,statusText:l,url:d}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(ZD,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),xd=class{};function Ed(){}function YD(e){e.then(Ed,Ed)}function KD(e,n){return n(e)}function JD(e,n,t){return(r,i)=>Dt(t,()=>n(r,o=>e(o,i)))}var Md=new O(""),XD=new O(""),ex=new O("",{providedIn:"root",factory:()=>!0});var u0=(()=>{class e extends ro{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=D(Un),this.contributeToStability=D(ex)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Md),...this.injector.get(XD,[])]));this.chain=r.reduceRight((i,o)=>JD(i,o,this.injector),KD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(lr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(P(io),P(nt))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})();var tx=/^\)\]\}',?\n/;function nx(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var d0=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new k(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?he(r.\u0275loadImpl()):L(null)).pipe($e(()=>new Y(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,R)=>s.setRequestHeader(I,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let I=t.detectContentTypeHeader();I!==null&&s.setRequestHeader("Content-Type",I)}if(t.responseType){let I=t.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let I=s.statusText||"OK",R=new Tt(s.getAllResponseHeaders()),j=nx(s)||t.url;return l=new Ba({headers:R,status:s.status,statusText:I,url:j}),l},h=()=>{let{headers:I,status:R,statusText:j,url:we}=d(),re=null;R!==qD&&(re=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=re?f0:0);let Ge=R>=200&&R<300;if(t.responseType==="json"&&typeof re=="string"){let ot=re;re=re.replace(tx,"");try{re=re!==""?JSON.parse(re):null}catch(Ve){re=ot,Ge&&(Ge=!1,re={error:Ve,text:re})}}Ge?(o.next(new so({body:re,headers:I,status:R,statusText:j,url:we||void 0})),o.complete()):o.error(new Wn({error:re,headers:I,status:R,statusText:j,url:we||void 0}))},m=I=>{let{url:R}=d(),j=new Wn({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(j)},b=!1,y=I=>{b||(o.next(d()),b=!0);let R={type:qn.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(R.total=I.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},x=I=>{let R={type:qn.UploadProgress,loaded:I.loaded};I.lengthComputable&&(R.total=I.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:qn.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(P(hi))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),p0=new O(""),rx="XSRF-TOKEN",ix=new O("",{providedIn:"root",factory:()=>rx}),ox="X-XSRF-TOKEN",sx=new O("",{providedIn:"root",factory:()=>ox}),$a=class{},ax=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fa(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(P(Je),P(en),P(ix))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})();function lx(e,n){let t=e.url.toLowerCase();if(!D(p0)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=D($a).getToken(),i=D(sx);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Id=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Id||{});function h0(e,n){return{\u0275kind:e,\u0275providers:n}}function m0(...e){let n=[Ir,d0,u0,{provide:ro,useExisting:u0},{provide:io,useFactory:()=>D(Dd,{optional:!0})??D(d0)},{provide:Md,useValue:lx,multi:!0},{provide:p0,useValue:!0},{provide:$a,useClass:ax}];for(let t of e)n.push(...t.\u0275providers);return si(n)}function g0(e){return h0(Id.Interceptors,e.map(n=>({provide:Md,useValue:n,multi:!0})))}function v0(){return h0(Id.Fetch,[Dd,{provide:io,useExisting:Dd}])}var Nd=class extends Oa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rd=class e extends Nd{static makeCurrent(){Qg(new e)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=cx();return t==null?null:ux(t)}resetBaseElement(){ao=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Fa(document.cookie,n)}},ao=null;function cx(){return ao=ao||document.querySelector("base"),ao?ao.getAttribute("href"):null}function ux(e){return new URL(e,document.baseURI).pathname}var dx=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),Od=new O(""),w0=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(P(Od),P(De))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),Ha=class{constructor(n){this._doc=n}},Td="ng-app-id",C0=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ja(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Td}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Td),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Td,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(P(Je),P($u),P(zu,8),P(en))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),Ad={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pd=/%COMP%/g,D0="%COMP%",fx=`_nghost-${D0}`,px=`_ngcontent-${D0}`,hx=!0,mx=new O("",{providedIn:"root",factory:()=>hx});function gx(e){return px.replace(Pd,e)}function vx(e){return fx.replace(Pd,e)}function x0(e,n){return n.map(t=>t.replace(Pd,e))}var y0=(()=>{class e{constructor(t,r,i,o,s,a,l,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=ja(a),this.defaultRenderer=new lo(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zt.ShadowDom&&(r=z(E({},r),{encapsulation:Zt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof za?i.applyToHost(t):i instanceof co&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Zt.Emulated:o=new za(l,d,r,this.appId,h,s,a,m);break;case Zt.ShadowDom:return new kd(l,d,t,r,s,a,this.nonce,m);default:o=new co(l,d,r,h,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(P(w0),P(C0),P($u),P(mx),P(Je),P(en),P(De),P(zu))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),lo=class{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Ad[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(b0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(b0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new k(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Ad[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Ad[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(hn.DashCase|hn.Important)?n.style.setProperty(t,r,i&hn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&hn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if(typeof n=="string"&&(n=wn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function b0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var kd=class extends lo{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=x0(i.id,i.styles);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},co=class extends lo{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?x0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},za=class extends co{constructor(n,t,r,i,o,s,a,l){let d=i+"-"+r.id;super(n,t,r,o,s,a,l,d),this.contentAttr=gx(d),this.hostAttr=vx(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}},yx=(()=>{class e extends Ha{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(P(Je))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})(),_0=["alt","control","meta","shift"],bx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_x={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},wx=(()=>{class e extends Ha{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_0.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=bx[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_0.forEach(s=>{if(s!==i){let a=_x[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(P(Je))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})();function E0(e,n){return Ug(E({rootComponent:e},Cx(n)))}function Cx(e){return{appProviders:[...Ix,...e?.providers??[]],platformProviders:Mx}}function Dx(){Rd.makeCurrent()}function xx(){return new pn}function Ex(){return Dm(document),document}var Mx=[{provide:en,useValue:bd},{provide:Hu,useValue:Dx,multi:!0},{provide:Je,useFactory:Ex,deps:[]}];var Ix=[{provide:sa,useValue:"root"},{provide:pn,useFactory:xx,deps:[]},{provide:Od,useClass:yx,multi:!0,deps:[Je,De,en]},{provide:Od,useClass:wx,multi:!0,deps:[Je]},y0,C0,w0,{provide:ri,useExisting:y0},{provide:hi,useClass:dx,deps:[]},[]];var M0=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(P(Je))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var W="primary",Eo=Symbol("RouteTitle"),Ud=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function wi(e){return new Ud(e)}function Tx(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ax(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!rn(e[t],n[t]))return!1;return!0}function rn(e,n){let t=e?Bd(e):void 0,r=n?Bd(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!L0(e[i],n[i]))return!1;return!0}function Bd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function L0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function V0(e){return e.length>0?e[e.length-1]:null}function Qn(e){return Xl(e)?e:Mr(e)?he(Promise.resolve(e)):L(e)}var Nx={exact:U0,subset:B0},j0={exact:Rx,subset:Ox,ignored:()=>!0};function I0(e,n,t){return Nx[t.paths](e.root,n.root,t.matrixParams)&&j0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function Rx(e,n){return rn(e,n)}function U0(e,n,t){if(!Tr(e.segments,n.segments)||!qa(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!U0(e.children[r],n.children[r],t))return!1;return!0}function Ox(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>L0(e[t],n[t]))}function B0(e,n,t){return $0(e,n,n.segments,t)}function $0(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Tr(i,t)||n.hasChildren()||!qa(i,t,r))}else if(e.segments.length===t.length){if(!Tr(e.segments,t)||!qa(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!B0(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Tr(e.segments,i)||!qa(e.segments,i,r)||!e.children[W]?!1:$0(e.children[W],n,o,r)}}function qa(e,n,t){return n.every((r,i)=>j0[t](e[i].parameters,r.parameters))}var xn=class{constructor(n=new ue([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return Fx.serialize(this)}},ue=class{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Za(this)}},Sr=class{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return z0(this)}};function kx(e,n){return Tr(e,n)&&e.every((t,r)=>rn(t.parameters,n[r].parameters))}function Tr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function Px(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===W&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==W&&(t=t.concat(n(i,r)))}),t}var Mo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>new Ci,providedIn:"root"})}}return e})(),Ci=class{parse(n){let t=new Hd(n);return new xn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${uo(n.root,!0)}`,r=jx(n.queryParams),i=typeof n.fragment=="string"?`#${Lx(n.fragment)}`:"";return`${t}${r}${i}`}},Fx=new Ci;function Za(e){return e.segments.map(n=>z0(n)).join("/")}function uo(e,n){if(!e.hasChildren())return Za(e);if(n){let t=e.children[W]?uo(e.children[W],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==W&&r.push(`${i}:${uo(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Px(e,(r,i)=>i===W?[uo(e.children[W],!1)]:[`${i}:${uo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[W]!=null?`${Za(e)}/${t[0]}`:`${Za(e)}/(${t.join("//")})`}}function H0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ga(e){return H0(e).replace(/%3B/gi,";")}function Lx(e){return encodeURI(e)}function $d(e){return H0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qa(e){return decodeURIComponent(e)}function S0(e){return Qa(e.replace(/\+/g,"%20"))}function z0(e){return`${$d(e.path)}${Vx(e.parameters)}`}function Vx(e){return Object.entries(e).map(([n,t])=>`;${$d(n)}=${$d(t)}`).join("")}function jx(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ga(t)}=${Ga(i)}`).join("&"):`${Ga(t)}=${Ga(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var Ux=/^[^\/()?;#]+/;function Fd(e){let n=e.match(Ux);return n?n[0]:""}var Bx=/^[^\/()?;=#]+/;function $x(e){let n=e.match(Bx);return n?n[0]:""}var Hx=/^[^=?&#]+/;function zx(e){let n=e.match(Hx);return n?n[0]:""}var Gx=/^[^&#]+/;function Wx(e){let n=e.match(Gx);return n?n[0]:""}var Hd=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[W]=new ue(n,t)),r}parseSegment(){let n=Fd(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(n),new Sr(Qa(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=$x(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Fd(this.remaining);i&&(r=i,this.capture(r))}n[Qa(t)]=Qa(r)}parseQueryParam(n){let t=zx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Wx(this.remaining);s&&(r=s,this.capture(r))}let i=S0(t),o=S0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=W);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[W]:new ue([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new k(4011,!1)}};function G0(e){return e.segments.length>0?new ue([],{[W]:e}):e}function W0(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=W0(i);if(r===W&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ue(e.segments,n);return qx(t)}function qx(e){if(e.numberOfChildren===1&&e.children[W]){let n=e.children[W];return new ue(e.segments.concat(n.segments),n.children)}return e}function Ar(e){return e instanceof xn}function Zx(e,n,t=null,r=null){let i=q0(e);return Z0(i,n,t,r)}function q0(e){let n;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new ue(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=G0(r);return n??i}function Z0(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return Ld(i,i,i,t,r);let o=Qx(n);if(o.toRoot())return Ld(i,i,new ue([],{}),t,r);let s=Yx(o,i,e),a=s.processChildren?ho(s.segmentGroup,s.index,o.commands):Y0(s.segmentGroup,s.index,o.commands);return Ld(i,s.segmentGroup,a,t,r)}function Ya(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function vo(e){return typeof e=="object"&&e!=null&&e.outlets}function Ld(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;e===n?s=t:s=Q0(e,n,t);let a=G0(W0(s));return new xn(a,o,i)}function Q0(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Q0(o,n,t)}),new ue(e.segments,r)}var Ka=class{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ya(r[0]))throw new k(4003,!1);let i=r.find(vo);if(i&&i!==V0(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ka(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ka(t,n,r)}var yi=class{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function Yx(e,n,t){if(e.isAbsolute)return new yi(n,!0,0);if(!t)return new yi(n,!1,NaN);if(t.parent===null)return new yi(t,!0,0);let r=Ya(e.commands[0])?0:1,i=t.segments.length-1+r;return Kx(t,i,e.numberOfDoubleDots)}function Kx(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new yi(r,!1,i-o)}function Jx(e){return vo(e[0])?e[0].outlets:{[W]:e}}function Y0(e,n,t){if(e??=new ue([],{}),e.segments.length===0&&e.hasChildren())return ho(e,n,t);let r=Xx(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ue(e.segments.slice(0,r.pathIndex),{});return o.children[W]=new ue(e.segments.slice(r.pathIndex),e.children),ho(o,0,i)}else return r.match&&i.length===0?new ue(e.segments,{}):r.match&&!e.hasChildren()?zd(e,n,t):r.match?ho(e,0,i):zd(e,n,t)}function ho(e,n,t){if(t.length===0)return new ue(e.segments,{});{let r=Jx(t),i={};if(Object.keys(r).some(o=>o!==W)&&e.children[W]&&e.numberOfChildren===1&&e.children[W].segments.length===0){let o=ho(e.children[W],n,t);return new ue(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Y0(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(e.segments,i)}}function Xx(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(vo(a))break;let l=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!A0(l,d,s))return o;r+=2}else{if(!A0(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zd(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(vo(o)){let l=eE(o.outlets);return new ue(r,l)}if(i===0&&Ya(t[0])){let l=e.segments[n];r.push(new Sr(l.path,T0(t[0]))),i++;continue}let s=vo(o)?o.outlets[W]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ya(a)?(r.push(new Sr(s,T0(a))),i+=2):(r.push(new Sr(s,{})),i++)}return new ue(r,{})}function eE(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=zd(new ue([],{}),0,r))}),n}function T0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function A0(e,n,t){return e==t.path&&rn(n,t.parameters)}var mo="imperative",ze=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ze||{}),At=class{constructor(n,t){this.id=n,this.url=t}},Di=class extends At{constructor(n,t,r="imperative",i=null){super(n,t),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ht=class extends At{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(yt||{}),Ja=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ja||{}),Dn=class extends At{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends At{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=ze.NavigationSkipped}},yo=class extends At{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xa=class extends At{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class extends At{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends At{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qd=class extends At{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zd=class extends At{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class{constructor(n){this.route=n,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yd=class{constructor(n){this.route=n,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kd=class{constructor(n){this.snapshot=n,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jd=class{constructor(n){this.snapshot=n,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{constructor(n){this.snapshot=n,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{constructor(n){this.snapshot=n,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},el=class{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=ze.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},bo=class{},xi=class{constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function tE(e,n){return e.providers&&!e._injector&&(e._injector=ba(e.providers,n,`Route: ${e.path}`)),e._injector??n}function $t(e){return e.outlet||W}function nE(e,n){let t=e.filter(r=>$t(r)===n);return t.push(...e.filter(r=>$t(r)!==n)),t}function Io(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var tf=class{get injector(){return Io(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new So(this.rootInjector),this.attachRef=null}},So=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new tf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)(P(nt))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tl=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=nf(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=nf(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=rf(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return rf(n,this._root).map(t=>t.value)}};function nf(e,n){if(e===n.value)return n;for(let t of n.children){let r=nf(e,t);if(r)return r}return null}function rf(e,n){if(e===n.value)return[n];for(let t of n.children){let r=rf(e,t);if(r.length)return r.unshift(n),r}return[]}var vt=class{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function vi(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var nl=class extends tl{constructor(n,t){super(n),this.snapshot=t,pf(this,n)}toString(){return this.snapshot.toString()}};function K0(e){let n=rE(e),t=new Se([new Sr("",{})]),r=new Se({}),i=new Se({}),o=new Se({}),s=new Se(""),a=new dt(t,r,o,s,i,W,e,n.root);return a.snapshot=n.root,new nl(new vt(a,[]),n)}function rE(e){let n={},t={},r={},i="",o=new bi([],n,r,i,t,W,e,null,{});return new il("",new vt(o,[]))}var dt=class{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(d=>d[Eo]))??L(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(n=>wi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(n=>wi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rl(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:E(E({},n.params),e.params),data:E(E({},n.data),e.data),resolve:E(E(E(E({},e.data),n.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&X0(i)&&(r.resolve[Eo]=i.title),r}var bi=class{get title(){return this.data?.[Eo]}constructor(n,t,r,i,o,s,a,l,d){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},il=class extends tl{constructor(n,t){super(t),this.url=n,pf(this,t)}toString(){return J0(this._root)}};function pf(e,n){n.value._routerState=e,n.children.forEach(t=>pf(e,t))}function J0(e){let n=e.children.length>0?` { ${e.children.map(J0).join(", ")} } `:"";return`${e.value}${n}`}function Vd(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,rn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),rn(n.params,t.params)||e.paramsSubject.next(t.params),Ax(n.url,t.url)||e.urlSubject.next(t.url),rn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function of(e,n){let t=rn(e.params,n.params)&&kx(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||of(e.parent,n.parent))}function X0(e){return typeof e.title=="string"||e.title===null}var hf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=W,this.activateEvents=new me,this.deactivateEvents=new me,this.attachEvents=new me,this.detachEvents=new me,this.parentContexts=D(So),this.location=D(Bn),this.changeDetector=D(Hn),this.inputBinder=D(ll,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new sf(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=X({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jt]})}}return e})(),sf=class e{__ngOutletInjector(n){return new e(this.route,this.childContexts,n)}constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===dt?this.route:n===So?this.childContexts:this.parent.get(n,t)}},ll=new O(""),N0=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=$i([r.queryParams,r.params,r.data]).pipe($e(([o,s,a],l)=>(a=E(E(E({},o),s),a),l===0?L(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Bg(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})();function iE(e,n,t){let r=_o(e,n._root,t?t._root:void 0);return new nl(r,n)}function _o(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=oE(e,n,t);return new vt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>_o(e,a)),s}}let r=sE(n.value),i=n.children.map(o=>_o(e,o));return new vt(r,i)}}function oE(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return _o(e,r,i);return _o(e,r)})}function sE(e){return new dt(new Se(e.url),new Se(e.params),new Se(e.queryParams),new Se(e.fragment),new Se(e.data),e.outlet,e.component,e)}var wo=class{constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},ev="ngNavigationCancelingError";function ol(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Ar(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=tv(!1,yt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function tv(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[ev]=!0,t.cancellationCode=n,t}function aE(e){return nv(e)&&Ar(e.url)}function nv(e){return!!e&&e[ev]}var lE=(e,n,t,r)=>B(i=>(new af(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),af=class{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Vd(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=vi(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=vi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=vi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=vi(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ef(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Jd(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Vd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vd(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},sl=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},_i=class{constructor(n,t){this.component=n,this.route=t}};function cE(e,n,t){let r=e._root,i=n?n._root:null;return fo(r,i,t,[r.value])}function uE(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Ii(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!lh(e)?e:n.get(e):r}function fo(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=vi(n);return e.children.forEach(s=>{dE(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>go(a,t.getContext(s),i)),i}function dE(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=fE(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new sl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fo(e,n,a?a.children:null,r,i):fo(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _i(a.outlet.component,s))}else s&&go(n,a,i),i.canActivateChecks.push(new sl(r)),o.component?fo(e,null,a?a.children:null,r,i):fo(e,null,t,r,i);return i}function fE(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Tr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Tr(e.url,n.url)||!rn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!of(e,n)||!rn(e.queryParams,n.queryParams);case"paramsChange":default:return!of(e,n)}}function go(e,n,t){let r=vi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?go(s,n.children.getContext(o),t):go(s,null,t):go(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new _i(n.outlet.component,i)):t.canDeactivateChecks.push(new _i(null,i)):t.canDeactivateChecks.push(new _i(null,i))}function To(e){return typeof e=="function"}function pE(e){return typeof e=="boolean"}function hE(e){return e&&To(e.canLoad)}function mE(e){return e&&To(e.canActivate)}function gE(e){return e&&To(e.canActivateChild)}function vE(e){return e&&To(e.canDeactivate)}function yE(e){return e&&To(e.canMatch)}function rv(e){return e instanceof Ot||e?.name==="EmptyError"}var Wa=Symbol("INITIAL_VALUE");function Ei(){return $e(e=>$i(e.map(n=>n.pipe(bt(1),ic(Wa)))).pipe(B(n=>{for(let t of n)if(t!==!0){if(t===Wa)return Wa;if(t===!1||bE(t))return t}return!0}),We(n=>n!==Wa),bt(1)))}function bE(e){return Ar(e)||e instanceof wo}function _E(e,n){return Oe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?L(z(E({},t),{guardsResult:!0})):wE(s,r,i,e).pipe(Oe(a=>a&&pE(a)?CE(r,o,e,n):L(a)),B(a=>z(E({},t),{guardsResult:a})))})}function wE(e,n,t,r){return he(e).pipe(Oe(i=>IE(i.component,i.route,t,n,r)),Gt(i=>i!==!0,!0))}function CE(e,n,t,r){return he(n).pipe(dn(i=>Br(xE(i.route.parent,r),DE(i.route,r),ME(e,i.path,t),EE(e,i.route,t))),Gt(i=>i!==!0,!0))}function DE(e,n){return e!==null&&n&&n(new Xd(e)),L(!0)}function xE(e,n){return e!==null&&n&&n(new Kd(e)),L(!0)}function EE(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let i=r.map(o=>ys(()=>{let s=Io(n)??t,a=Ii(o,s),l=mE(a)?a.canActivate(n,e):Dt(s,()=>a(n,e));return Qn(l).pipe(Gt())}));return L(i).pipe(Ei())}function ME(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>uE(s)).filter(s=>s!==null).map(s=>ys(()=>{let a=s.guards.map(l=>{let d=Io(s.node)??t,h=Ii(l,d),m=gE(h)?h.canActivateChild(r,e):Dt(d,()=>h(r,e));return Qn(m).pipe(Gt())});return L(a).pipe(Ei())}));return L(o).pipe(Ei())}function IE(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let s=o.map(a=>{let l=Io(n)??i,d=Ii(a,l),h=vE(d)?d.canDeactivate(e,n,t,r):Dt(l,()=>d(e,n,t,r));return Qn(h).pipe(Gt())});return L(s).pipe(Ei())}function SE(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return L(!0);let o=i.map(s=>{let a=Ii(s,e),l=hE(a)?a.canLoad(n,t):Dt(e,()=>a(n,t));return Qn(l)});return L(o).pipe(Ei(),iv(r))}function iv(e){return Ql(ne(n=>{if(typeof n!="boolean")throw ol(e,n)}),B(n=>n===!0))}function TE(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return L(!0);let o=i.map(s=>{let a=Ii(s,e),l=yE(a)?a.canMatch(n,t):Dt(e,()=>a(n,t));return Qn(l)});return L(o).pipe(Ei(),iv(r))}var Co=class{constructor(n){this.segmentGroup=n||null}},Do=class extends Error{constructor(n){super(),this.urlTree=n}};function gi(e){return Te(new Co(e))}function AE(e){return Te(new k(4e3,!1))}function NE(e){return Te(tv(!1,yt.GuardRejected))}var lf=class{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return L(r);if(i.numberOfChildren>1||!i.children[W])return AE(`${n.redirectTo}`);i=i.children[W]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:h,url:m,outlet:b,params:y,data:x,title:I}=i,R=Dt(o,()=>a({params:y,data:x,queryParams:l,fragment:d,routeConfig:h,url:m,outlet:b,title:I}));if(R instanceof xn)throw new Do(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Do(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new xn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ue(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},cf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RE(e,n,t,r,i){let o=ov(e,n,t);return o.matched?(r=tE(n,r),TE(r,n,t,i).pipe(B(s=>s===!0?o:E({},cf)))):L(o)}function ov(e,n,t){if(n.path==="**")return OE(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?E({},cf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||Tx)(t,e,n);if(!i)return E({},cf);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function OE(e){return{matched:!0,parameters:e.length>0?V0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function R0(e,n,t,r){return t.length>0&&FE(e,t,r)?{segmentGroup:new ue(n,PE(r,new ue(t,e.children))),slicedSegments:[]}:t.length===0&&LE(e,t,r)?{segmentGroup:new ue(e.segments,kE(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ue(e.segments,e.children),slicedSegments:t}}function kE(e,n,t,r){let i={};for(let o of t)if(cl(e,n,o)&&!r[$t(o)]){let s=new ue([],{});i[$t(o)]=s}return E(E({},r),i)}function PE(e,n){let t={};t[W]=n;for(let r of e)if(r.path===""&&$t(r)!==W){let i=new ue([],{});t[$t(r)]=i}return t}function FE(e,n,t){return t.some(r=>cl(e,n,r)&&$t(r)!==W)}function LE(e,n,t){return t.some(r=>cl(e,n,r))}function cl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function VE(e,n,t){return n.length===0&&!e.children[t]}var uf=class{};function jE(e,n,t,r,i,o,s="emptyOnly"){return new df(e,n,t,r,i,s,o).recognize()}var UE=31,df=class{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new k(4002,`'${n.segmentGroup}'`)}recognize(){let n=R0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(B(({children:t,rootSnapshot:r})=>{let i=new vt(r,t),o=new il("",i),s=Zx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new bi([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),W,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,W,t).pipe(B(r=>({children:r,rootSnapshot:t})),Ce(r=>{if(r instanceof Do)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Co?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(B(s=>s instanceof vt?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return he(o).pipe(dn(s=>{let a=r.children[s],l=nE(t,s);return this.processSegmentGroup(n,l,a,s,i)}),rc((s,a)=>(s.push(...a),s)),An(null),nc(),Oe(s=>{if(s===null)return gi(r);let a=sv(s);return BE(a),L(a)}))}processSegment(n,t,r,i,o,s,a){return he(t).pipe(dn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(Ce(d=>{if(d instanceof Co)return L(null);throw d}))),Gt(l=>!!l),Ce(l=>{if(rv(l))return VE(r,i,o)?L(new uf):gi(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return $t(r)!==s&&(s===W||!cl(i,o,r))?gi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):gi(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:m,remainingSegments:b}=ov(t,i,o);if(!l)return gi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UE&&(this.allowRedirects=!1));let y=new bi(o,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,O0(i),$t(i),i.component??i._loadedComponent??null,i,k0(i)),x=rl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(x.params),y.data=Object.freeze(x.data);let I=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,m,y,n);return this.applyRedirects.lineralizeSegments(i,I).pipe(Oe(R=>this.processSegment(n,r,t,R.concat(b),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=RE(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe($e(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe($e(({routes:d})=>{let h=r._loadedInjector??n,{parameters:m,consumedSegments:b,remainingSegments:y}=l,x=new bi(b,m,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,O0(r),$t(r),r.component??r._loadedComponent??null,r,k0(r)),I=rl(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(I.params),x.data=Object.freeze(I.data);let{segmentGroup:R,slicedSegments:j}=R0(t,b,y,d);if(j.length===0&&R.hasChildren())return this.processChildren(h,d,R,x).pipe(B(re=>new vt(x,re)));if(d.length===0&&j.length===0)return L(new vt(x,[]));let we=$t(r)===o;return this.processSegment(h,d,R,j,we?W:o,!0,x).pipe(B(re=>new vt(x,re instanceof vt?[re]:[])))}))):gi(t)))}getChildConfig(n,t,r){return t.children?L({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?L({routes:t._loadedRoutes,injector:t._loadedInjector}):SE(n,t,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(n,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):NE(t))):L({routes:[],injector:n})}};function BE(e){e.sort((n,t)=>n.value.outlet===W?-1:t.value.outlet===W?1:n.value.outlet.localeCompare(t.value.outlet))}function $E(e){let n=e.value.routeConfig;return n&&n.path===""}function sv(e){let n=[],t=new Set;for(let r of e){if(!$E(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=sv(r.children);n.push(new vt(r.value,i))}return n.filter(r=>!t.has(r))}function O0(e){return e.data||{}}function k0(e){return e.resolve||{}}function HE(e,n,t,r,i,o){return Oe(s=>jE(e,n,t,r,s.extractedUrl,i,o).pipe(B(({state:a,tree:l})=>z(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function zE(e,n){return Oe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return L(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of av(l))s.add(d);let a=0;return he(s).pipe(dn(l=>o.has(l)?GE(l,r,e,n):(l.data=rl(l,l.parent,e).resolve,L(void 0))),ne(()=>a++),$r(1),Oe(l=>a===s.size?L(t):pt))})}function av(e){let n=e.children.map(t=>av(t)).flat();return[e,...n]}function GE(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!X0(i)&&(o[Eo]=i.title),WE(o,e,n,r).pipe(B(s=>(e._resolvedData=s,e.data=rl(e,e.parent,t).resolve,null)))}function WE(e,n,t,r){let i=Bd(e);if(i.length===0)return L({});let o={};return he(i).pipe(Oe(s=>qE(e[s],n,t,r).pipe(Gt(),ne(a=>{if(a instanceof wo)throw ol(new Ci,a);o[s]=a}))),$r(1),tc(o),Ce(s=>rv(s)?pt:Te(s)))}function qE(e,n,t,r){let i=Io(n)??r,o=Ii(e,i),s=o.resolve?o.resolve(n,t):Dt(i,()=>o(n,t));return Qn(s)}function jd(e){return $e(n=>{let t=e(n);return t?he(t).pipe(B(()=>n)):L(n)})}var lv=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===W);return r}getResolvedTitleForRoute(t){return t.data[Eo]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>D(ZE),providedIn:"root"})}}return e})(),ZE=(()=>{class e extends lv{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(P(M0))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ao=new O("",{providedIn:"root",factory:()=>({})}),QE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[ve],decls:1,vars:0,template:function(r,i){r&1&&C(0,"router-outlet")},dependencies:[hf],encapsulation:2})}}return e})();function mf(e){let n=e.children&&e.children.map(mf),t=n?z(E({},e),{children:n}):E({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==W&&(t.component=QE),t}var xo=new O(""),gf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(Da)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return L(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Qn(t.loadComponent()).pipe(B(cv),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),lr(()=>{this.componentLoaders.delete(t)})),i=new Ur(r,()=>new Be).pipe(jr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=YE(r,this.compiler,t,this.onLoadEndListener).pipe(lr(()=>{this.childrenLoaders.delete(r)})),s=new Ur(o,()=>new Be).pipe(jr());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YE(e,n,t,r){return Qn(e.loadChildren()).pipe(B(cv),Oe(i=>i instanceof Qi||Array.isArray(i)?L(i):he(n.compileModuleAsync(i))),B(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(xo,[],{optional:!0,self:!0}).flat()),{routes:s.map(mf),injector:o}}))}function KE(e){return e&&typeof e=="object"&&"default"in e}function cv(e){return KE(e)?e.default:e}var vf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>D(JE),providedIn:"root"})}}return e})(),JE=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),uv=new O(""),dv=new O("");function XE(e,n,t){let r=e.get(dv),i=e.get(Je);return e.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),eM(e))),{onViewTransitionCreated:l}=r;return l&&Dt(e,()=>l({transition:a,from:n,to:t})),s})}function eM(e){return new Promise(n=>{od({read:()=>setTimeout(n)},{injector:e})})}var tM=new O(""),yf=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=D(gf),this.environmentInjector=D(nt),this.urlSerializer=D(Mo),this.rootContexts=D(So),this.location=D(mi),this.inputBindingEnabled=D(ll,{optional:!0})!==null,this.titleStrategy=D(lv),this.options=D(Ao,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(vf),this.createViewTransition=D(uv,{optional:!0}),this.navigationErrorHandler=D(tM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Qd(i)),r=i=>this.events.next(new Yd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(z(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Se({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:mo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(o=>o.id!==0),B(o=>z(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$e(o=>{let s=!1,a=!1;return L(o).pipe($e(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",yt.SupersededByNewNavigation),pt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new Zn(l.id,this.urlSerializer.serialize(l.rawUrl),m,Ja.IgnoredSameUrlNavigation)),l.resolve(!1),pt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return L(l).pipe($e(m=>{let b=this.transitions?.getValue();return this.events.next(new Di(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),b!==this.transitions?.getValue()?pt:Promise.resolve(m)}),HE(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=z(E({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let b=new Xa(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:b,source:y,restoredState:x,extras:I}=l,R=new Di(m,this.urlSerializer.serialize(b),y,x);this.events.next(R);let j=K0(this.rootComponentType).snapshot;return this.currentTransition=o=z(E({},l),{targetSnapshot:j,urlAfterRedirects:b,extras:z(E({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,L(o)}else{let m="";return this.events.next(new Zn(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Ja.IgnoredByUrlHandlingStrategy)),l.resolve(!1),pt}}),ne(l=>{let d=new Gd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),B(l=>(this.currentTransition=o=z(E({},l),{guards:cE(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),_E(this.environmentInjector,l=>this.events.next(l)),ne(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ol(this.urlSerializer,l.guardsResult);let d=new Wd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),We(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",yt.GuardRejected),!1)),jd(l=>{if(l.guards.canActivateChecks.length)return L(l).pipe(ne(d=>{let h=new qd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),$e(d=>{let h=!1;return L(d).pipe(zE(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",yt.NoDataFromResolver)}}))}),ne(d=>{let h=new Zd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),jd(l=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(ne(b=>{h.component=b}),B(()=>{})));for(let b of h.children)m.push(...d(b));return m};return $i(d(l.targetSnapshot.root)).pipe(An(null),bt(1))}),jd(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?he(h).pipe(B(()=>o)):L(o)}),B(l=>{let d=iE(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(E({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),ne(()=>{this.events.next(new bo)}),lE(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),bt(1),ne({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ht(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),oc(this.transitionAbortSubject.pipe(ne(l=>{throw l}))),lr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",yt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ce(l=>{if(a=!0,nv(l))this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),aE(l)?this.events.next(new xi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new yo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Dt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof wo){let{message:m,cancellationCode:b}=ol(this.urlSerializer,h);this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,b)),this.events.next(new xi(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=t.errorHandler(l);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return pt}))}))}cancelNavigationTransition(t,r,i){let o=new Dn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nM(e){return e!==mo}var rM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>D(iM),providedIn:"root"})}}return e})(),ff=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},iM=(()=>{class e extends ff{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fv=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:()=>D(oM),providedIn:"root"})}}return e})(),oM=(()=>{class e extends fv{constructor(){super(...arguments),this.location=D(mi),this.urlSerializer=D(Mo),this.options=D(Ao,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(vf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=K0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Di)this.stateMemento=this.createStateMemento();else if(t instanceof Zn)this.rawUrlTree=r.initialUrl;else if(t instanceof Xa){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof bo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Dn&&(t.code===yt.GuardRejected||t.code===yt.NoDataFromResolver)?this.restoreHistory(r):t instanceof yo?this.restoreHistory(r,!0):t instanceof Ht&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof xn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),po=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(po||{});function pv(e,n){e.events.pipe(We(t=>t instanceof Ht||t instanceof Dn||t instanceof yo||t instanceof Zn),B(t=>t instanceof Ht||t instanceof Zn?po.COMPLETE:(t instanceof Dn?t.code===yt.Redirect||t.code===yt.SupersededByNewNavigation:!1)?po.REDIRECTING:po.FAILED),We(t=>t!==po.REDIRECTING),bt(1)).subscribe(()=>{n()})}function sM(e){throw e}var aM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},de=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=D(wa),this.stateManager=D(fv),this.options=D(Ao,{optional:!0})||{},this.pendingTasks=D(Un),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(yf),this.urlSerializer=D(Mo),this.location=D(mi),this.urlHandlingStrategy=D(vf),this._events=new Be,this.errorHandler=this.options.errorHandler||sM,this.navigated=!1,this.routeReuseStrategy=D(rM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(xo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(ll,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Dn&&r.code!==yt.Redirect&&r.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ht)this.navigated=!0;else if(r instanceof xi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nM(i.source)},s);this.scheduleNavigation(a,mo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let b=i?i.snapshot:this.routerState.snapshot.root;m=q0(b)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return Z0(m,t,h,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ar(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,mo,null,r)}navigate(t,r={skipLocationChange:!1}){return cM(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},aM):r===!1?i=E({},lM):i=r,Ar(t))return I0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return I0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,b)=>{a=m,l=b});let h=this.pendingTasks.add();return pv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cM(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new k(4008,!1)}function uM(e){return!(e instanceof bo)&&!(e instanceof xi)}var Mi=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Ht&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ar(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Mm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ar(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(_(de),_(dt),Vu("tabindex"),_(Et),_(Ke),_(Cn))}}static{this.\u0275dir=X({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&M("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&tn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zn],replaceUrl:[2,"replaceUrl","replaceUrl",zn],routerLink:"routerLink"},standalone:!0,features:[rd,jt]})}}return e})(),hv=(()=>{class e{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new me,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ht&&this.update()})}ngAfterContentInit(){L(this.links.changes,L(null)).pipe(Tn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=he(t).pipe(Tn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=dM(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||e)(_(de),_(Ke),_(Et),_(Hn),_(Mi,8))}}static{this.\u0275dir=X({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Ig(o,Mi,5),r&2){let s;di(s=fi())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[jt]})}}return e})();function dM(e){return!!e.paths}var al=class{};var fM=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(We(t=>t instanceof Ht),dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ba(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return he(i).pipe(Tn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=L(null);let o=i.pipe(Oe(s=>s===null?L(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return he([o,s]).pipe(Tn())}else return o})}static{this.\u0275fac=function(r){return new(r||e)(P(de),P(Da),P(nt),P(al),P(gf))}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mv=new O(""),pM=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ht?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Zn&&t.code===Ja.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof el&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new el(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){jm()}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac})}}return e})();function gv(e,...n){return si([{provide:xo,multi:!0,useValue:e},[],{provide:dt,useFactory:vv,deps:[de]},{provide:to,multi:!0,useFactory:yv},n.map(t=>t.\u0275providers)])}function vv(e){return e.routerState.root}function No(e,n){return{\u0275kind:e,\u0275providers:n}}function yv(){let e=D(Ct);return n=>{let t=e.get($n);if(n!==t.components[0])return;let r=e.get(de),i=e.get(bv);e.get(bf)===1&&r.initialNavigation(),e.get(_v,null,q.Optional)?.setUpPreloading(),e.get(mv,null,q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bv=new O("",{factory:()=>new Be}),bf=new O("",{providedIn:"root",factory:()=>1});function hM(){return No(2,[{provide:bf,useValue:0},{provide:Ca,multi:!0,deps:[Ct],useFactory:n=>{let t=n.get(Yg,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=n.get(de),o=n.get(bv);pv(i,()=>{r(!0)}),n.get(yf).afterPreactivation=()=>(r(!0),o.closed?L(void 0):o),i.initialNavigation()}))}}])}function mM(){return No(3,[{provide:Ca,multi:!0,useFactory:()=>{let n=D(de);return()=>{n.setUpLocationChangeListener()}}},{provide:bf,useValue:2}])}var _v=new O("");function gM(e){return No(0,[{provide:_v,useExisting:fM},{provide:al,useExisting:e}])}function vM(){return No(8,[N0,{provide:ll,useExisting:N0}])}function yM(e){let n=[{provide:uv,useValue:XE},{provide:dv,useValue:E({skipNextTransition:!!e?.skipInitialTransition},e)}];return No(9,n)}var P0=new O("ROUTER_FORROOT_GUARD"),bM=[mi,{provide:Mo,useClass:Ci},de,So,{provide:dt,useFactory:vv,deps:[de]},gf,[]],ul=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[bM,[],{provide:xo,multi:!0,useValue:t},{provide:P0,useFactory:DM,deps:[[de,new oa,new bu]]},{provide:Ao,useValue:r||{}},r?.useHash?wM():CM(),_M(),r?.preloadingStrategy?gM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xM(r):[],r?.bindToComponentInputs?vM().\u0275providers:[],r?.enableViewTransitions?yM().\u0275providers:[],EM()]}}static forChild(t){return{ngModule:e,providers:[{provide:xo,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(P(P0,8))}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Jt({})}}return e})();function _M(){return{provide:mv,useFactory:()=>{let e=D(i0),n=D(De),t=D(Ao),r=D(yf),i=D(Mo);return t.scrollOffset&&e.setOffset(t.scrollOffset),new pM(i,r,e,n,t)}}}function wM(){return{provide:Cn,useClass:Jg}}function CM(){return{provide:Cn,useClass:yd}}function DM(e){return"guarded"}function xM(e){return[e.initialNavigation==="disabled"?mM().\u0275providers:[],e.initialNavigation==="enabledBlocking"?hM().\u0275providers:[]]}var F0=new O("");function EM(){return[{provide:F0,useFactory:yv},{provide:to,multi:!0,useExisting:F0}]}var Ie=class e{constructor(n){this.http=n;this.loadStoredUser()}baseUrl="/api/auth";currentUserSubject=new Se(null);tokenKey="maraude_token";currentUser$=this.currentUserSubject.asObservable();login(n){return this.http.post(`${this.baseUrl}/login`,n).pipe(ne(t=>{this.setCurrentUser(t.user,t.token)}))}register(n){return this.http.post(`${this.baseUrl}/register`,n).pipe(ne(t=>{this.setCurrentUser(t.user,t.token)}))}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem("maraude_user"),this.currentUserSubject.next(null)}getCurrentUser(){return this.currentUserSubject.value}getToken(){return localStorage.getItem("maraude_token")}isLoggedIn(){return!!this.getToken()&&!!this.getCurrentUser()}isCoordinatorOrAdmin(){let n=this.getCurrentUser();return n?["coordinator","admin"].includes(n.role):!1}setCurrentUser(n,t){let r=t.trim();localStorage.setItem(this.tokenKey,r),localStorage.setItem("maraude_user",JSON.stringify(n)),this.currentUserSubject.next(n)}updateToken(n){let t=this.getCurrentUser();t&&(localStorage.setItem(this.tokenKey,n),this.currentUserSubject.next(t))}refreshToken(){let n=localStorage.getItem("maraude_refresh_token");return console.log("\u{1F504} Attempting token refresh"),this.http.post(`${this.baseUrl}/auth/refresh`,{refreshToken:n}).pipe(ne(t=>{console.log("\u2705 Token refreshed successfully"),this.setCurrentUser(t.user,t.token)}),Ce(t=>(console.error("\u274C Token refresh failed:",t),this.logout(),Te(()=>t))))}loadStoredUser(){let n=this.getToken(),t=localStorage.getItem("maraude_user");if(n&&t)try{let r=JSON.parse(t);this.currentUserSubject.next(r)}catch(r){console.error("Error parsing stored user:",r),this.logout()}}static \u0275fac=function(t){return new(t||e)(P(Ir))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})};function MM(e,n){e&1&&(u(0,"nav",12)(1,"div",13)(2,"a",14),f(3," Carte "),c(),u(4,"a",15),f(5," Dashboard "),c()()())}function IM(e,n){e&1&&(u(0,"div")(1,"a",16),f(2," Connexion Association "),c()())}function SM(e,n){if(e&1){let t=Q();u(0,"div",8)(1,"div",17)(2,"div",18)(3,"div",19)(4,"span",20),f(5),c()(),u(6,"div",21)(7,"p",22),f(8),c(),u(9,"p",23),f(10),c()()()(),u(11,"button",24),M("click",function(){S(t);let i=v();return T(i.logout())}),F(),u(12,"svg",25),C(13,"path",26),c(),H(),u(14,"span",27),f(15,"D\xE9connexion"),c()()()}if(e&2){let t=v();p(5),A(" ",t.getUserInitials()," "),p(3),Ee(" ",t.currentUser==null?null:t.currentUser.firstName," ",t.currentUser==null?null:t.currentUser.lastName," "),p(2),Ee(" ",t.getRoleLabel(),"",!(t.currentUser==null||t.currentUser.association==null)&&t.currentUser.association.name?" - "+(t.currentUser==null||t.currentUser.association==null?null:t.currentUser.association.name):""," ")}}function TM(e,n){if(e&1){let t=Q();u(0,"div",28)(1,"button",29),M("click",function(){S(t);let i=v();return T(i.toggleMobileMenu())}),F(),u(2,"svg",30),C(3,"path",31),c()()()}}function AM(e,n){if(e&1){let t=Q();u(0,"div",28)(1,"div",32)(2,"a",33),M("click",function(){S(t);let i=v();return T(i.closeMobileMenu())}),f(3," Carte "),c(),u(4,"a",34),M("click",function(){S(t);let i=v();return T(i.closeMobileMenu())}),f(5," Dashboard "),c(),u(6,"div",35)(7,"div",36)(8,"p",22),f(9),c(),u(10,"p",23),f(11),c()(),u(12,"button",37),M("click",function(){S(t);let i=v();return T(i.logout())}),f(13," D\xE9connexion "),c()()()()}if(e&2){let t=v();p(9),Ee(" ",t.currentUser==null?null:t.currentUser.firstName," ",t.currentUser==null?null:t.currentUser.lastName," "),p(2),Ee(" ",t.getRoleLabel(),"",!(t.currentUser==null||t.currentUser.association==null)&&t.currentUser.association.name?" - "+(t.currentUser==null||t.currentUser.association==null?null:t.currentUser.association.name):""," ")}}var dl=class e{constructor(n,t){this.authService=n;this.router=t}isLoggedIn=!1;currentUser=null;showMobileMenu=!1;ngOnInit(){this.authService.currentUser$.subscribe(n=>{this.currentUser=n,this.isLoggedIn=this.authService.isLoggedIn()})}getUserInitials(){if(!this.currentUser)return"";let n=this.currentUser.firstName?.charAt(0).toUpperCase()||"",t=this.currentUser.lastName?.charAt(0).toUpperCase()||"";return n+t}getRoleLabel(){return this.currentUser?{admin:"Administrateur",coordinator:"Coordinateur",volunteer:"B\xE9n\xE9vole"}[this.currentUser.role]||this.currentUser.role:""}logout(){this.authService.logout(),this.router.navigate(["/map"]),this.closeMobileMenu()}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}closeMobileMenu(){this.showMobileMenu=!1}static \u0275fac=function(t){return new(t||e)(_(Ie),_(de))};static \u0275cmp=ge({type:e,selectors:[["app-header"]],standalone:!0,features:[ve],decls:14,vars:5,consts:[[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"text-2xl","font-bold","text-primary-600"],["routerLink","/map"],["class","hidden md:block",4,"ngIf"],[1,"flex","items-center","space-x-4"],[4,"ngIf"],["class","flex items-center space-x-4",4,"ngIf"],["class","md:hidden",4,"ngIf"],[1,"hidden","md:block"],[1,"ml-10","flex","items-baseline","space-x-4"],["routerLink","/map","routerLinkActive","text-primary-600 font-semibold",1,"text-gray-600","hover:text-primary-600","px-3","py-2","rounded-md","text-sm","font-medium"],["routerLink","/dashboard","routerLinkActive","text-primary-600 font-semibold",1,"text-gray-600","hover:text-primary-600","px-3","py-2","rounded-md","text-sm","font-medium"],["routerLink","/login",1,"btn","btn-primary"],[1,"flex","items-center","space-x-3"],[1,"flex","items-center","space-x-2"],[1,"w-8","h-8","bg-primary-600","rounded-full","flex","items-center","justify-center"],[1,"text-white","text-sm","font-semibold"],[1,"hidden","sm:block"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-xs","text-gray-500"],["title","Se d\xE9connecter",1,"btn","btn-secondary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"hidden","sm:inline"],[1,"md:hidden"],[1,"text-gray-600","hover:text-primary-600","p-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"px-2","pt-2","pb-3","space-y-1","sm:px-3","border-t","border-gray-200"],["routerLink","/map","routerLinkActive","text-primary-600 font-semibold",1,"block","px-3","py-2","text-base","font-medium","text-gray-600","hover:text-primary-600",3,"click"],["routerLink","/dashboard","routerLinkActive","text-primary-600 font-semibold",1,"block","px-3","py-2","text-base","font-medium","text-gray-600","hover:text-primary-600",3,"click"],[1,"border-t","border-gray-200","pt-3","mt-3"],[1,"px-3","py-2"],[1,"w-full","text-left","px-3","py-2","text-base","font-medium","text-red-600","hover:text-red-700",3,"click"]],template:function(t,r){t&1&&(u(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5)(6,"a",6),f(7," Mapraude "),c()()()(),w(8,MM,6,0,"nav",7),u(9,"div",8),w(10,IM,3,0,"div",9)(11,SM,16,5,"div",10),c(),w(12,TM,4,0,"div",11),c(),w(13,AM,14,4,"div",11),c()()),t&2&&(p(8),g("ngIf",r.isLoggedIn),p(2),g("ngIf",!r.isLoggedIn),p(),g("ngIf",r.isLoggedIn),p(),g("ngIf",r.isLoggedIn),p(),g("ngIf",r.isLoggedIn&&r.showMobileMenu))},dependencies:[_e,Le,ul,Mi,hv],styles:[".btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:.375rem;border-width:1px;border-color:transparent;padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px }.btn-secondary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(107 114 128 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px }"]})};var fl=class e{title="maraude-tracker-frontend";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-root"]],standalone:!0,features:[ve],decls:3,vars:0,consts:[[1,"min-h-screen","bg-gray-50"]],template:function(t,r){t&1&&(u(0,"div",0),C(1,"app-header")(2,"router-outlet"),c())},dependencies:[_e,hf,dl]})};var Av=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(_(Et),_(Ke))}}static{this.\u0275dir=X({type:e})}}return e})(),Ri=(()=>{class e extends Av{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,features:[Me]})}}return e})(),er=new O(""),NM={provide:er,useExisting:Ue(()=>Rr),multi:!0},Rr=(()=>{class e extends Ri{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[qe([NM]),Me]})}}return e})(),RM={provide:er,useExisting:Ue(()=>on),multi:!0};function OM(){let e=wn()?wn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var kM=new O(""),on=(()=>{class e extends Av{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!OM())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(_(Et),_(Ke),_(kM,8))}}static{this.\u0275dir=X({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&M("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[qe([RM]),Me]})}}return e})();function Kn(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function Nv(e){return e!=null&&typeof e.length=="number"}var sn=new O(""),Oi=new O(""),PM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ze=class{static min(n){return Rv(n)}static max(n){return Ov(n)}static required(n){return kv(n)}static requiredTrue(n){return FM(n)}static email(n){return LM(n)}static minLength(n){return VM(n)}static maxLength(n){return Pv(n)}static pattern(n){return jM(n)}static nullValidator(n){return hl(n)}static compose(n){return Bv(n)}static composeAsync(n){return $v(n)}};function Rv(e){return n=>{if(Kn(n.value)||Kn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function Ov(e){return n=>{if(Kn(n.value)||Kn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function kv(e){return Kn(e.value)?{required:!0}:null}function FM(e){return e.value===!0?null:{required:!0}}function LM(e){return Kn(e.value)||PM.test(e.value)?null:{email:!0}}function VM(e){return n=>Kn(n.value)||!Nv(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function Pv(e){return n=>Nv(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function jM(e){if(!e)return hl;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Kn(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function hl(e){return null}function Fv(e){return e!=null}function Lv(e){return Mr(e)?he(e):e}function Vv(e){let n={};return e.forEach(t=>{n=t!=null?E(E({},n),t):n}),Object.keys(n).length===0?null:n}function jv(e,n){return n.map(t=>t(e))}function UM(e){return!e.validate}function Uv(e){return e.map(n=>UM(n)?n:t=>n.validate(t))}function Bv(e){if(!e)return null;let n=e.filter(Fv);return n.length==0?null:function(t){return Vv(jv(t,n))}}function Ef(e){return e!=null?Bv(Uv(e)):null}function $v(e){if(!e)return null;let n=e.filter(Fv);return n.length==0?null:function(t){let r=jv(t,n).map(Lv);return ec(r).pipe(B(Vv))}}function Mf(e){return e!=null?$v(Uv(e)):null}function wv(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Hv(e){return e._rawValidators}function zv(e){return e._rawAsyncValidators}function _f(e){return e?Array.isArray(e)?e:[e]:[]}function ml(e,n){return Array.isArray(e)?e.includes(n):e===n}function Cv(e,n){let t=_f(n);return _f(e).forEach(i=>{ml(t,i)||t.push(i)}),t}function Dv(e,n){return _f(n).filter(t=>!ml(e,t))}var gl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ef(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Mf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},it=class extends gl{get formDirective(){return null}get path(){return null}},Jn=class extends gl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},vl=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},BM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xF=z(E({},BM),{"[class.ng-submitted]":"isSubmitted"}),an=(()=>{class e extends vl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(_(Jn,2))}}static{this.\u0275dir=X({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Me]})}}return e})(),tr=(()=>{class e extends vl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(_(it,10))}}static{this.\u0275dir=X({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Me]})}}return e})();var Ro="VALID",pl="INVALID",Si="PENDING",Oo="DISABLED",Xn=class{},yl=class extends Xn{constructor(n,t){super(),this.value=n,this.source=t}},Po=class extends Xn{constructor(n,t){super(),this.pristine=n,this.source=t}},Fo=class extends Xn{constructor(n,t){super(),this.touched=n,this.source=t}},Ti=class extends Xn{constructor(n,t){super(),this.status=n,this.source=t}},wf=class extends Xn{constructor(n){super(),this.source=n}},Cf=class extends Xn{constructor(n){super(),this.source=n}};function If(e){return(Cl(e)?e.validators:e)||null}function $M(e){return Array.isArray(e)?Ef(e):e||null}function Sf(e,n){return(Cl(n)?n.asyncValidators:e)||null}function HM(e){return Array.isArray(e)?Mf(e):e||null}function Cl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Gv(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")}function Wv(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new k(1002,"")})}var Ai=class{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pi(()=>this.statusReactive()),this.statusReactive=ui(void 0),this._pristine=pi(()=>this.pristineReactive()),this.pristineReactive=ui(!0),this._touched=pi(()=>this.touchedReactive()),this.touchedReactive=ui(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return nn(this.statusReactive)}set status(n){nn(()=>this.statusReactive.set(n))}get valid(){return this.status===Ro}get invalid(){return this.status===pl}get pending(){return this.status==Si}get disabled(){return this.status===Oo}get enabled(){return this.status!==Oo}get pristine(){return nn(this.pristineReactive)}set pristine(n){nn(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return nn(this.touchedReactive)}set touched(n){nn(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Cv(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Cv(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Dv(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Dv(n,this._rawAsyncValidators))}hasValidator(n){return ml(this._rawValidators,n)}hasAsyncValidator(n){return ml(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(z(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Fo(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Fo(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(z(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Po(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Po(!0,r))}markAsPending(n={}){this.status=Si;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ti(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(z(E({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Oo,this.errors=null,this._forEachChild(i=>{i.disable(z(E({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yl(this.value,r)),this._events.next(new Ti(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ro,this._forEachChild(r=>{r.enable(z(E({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(z(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ro||this.status===Si)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yl(this.value,t)),this._events.next(new Ti(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(z(E({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oo:Ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Si,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Lv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Ti(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?Oo:this.errors?pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Si)?Si:this._anyControlsHaveStatus(pl)?pl:Ro}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Po(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Fo(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Cl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=$M(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=HM(this._rawAsyncValidators)}},Ni=class extends Ai{constructor(n,t,r){super(If(t),Sf(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){Wv(this,!0,n),Object.keys(n).forEach(r=>{Gv(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Df=class extends Ni{};var ki=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Vo}),Vo="always";function Dl(e,n){return[...n.path,e]}function bl(e,n,t=Vo){Tf(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),GM(e,n),qM(e,n),WM(e,n),zM(e,n)}function xv(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),wl(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function _l(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function zM(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Tf(e,n){let t=Hv(e);n.validator!==null?e.setValidators(wv(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=zv(e);n.asyncValidator!==null?e.setAsyncValidators(wv(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();_l(n._rawValidators,i),_l(n._rawAsyncValidators,i)}function wl(e,n){let t=!1;if(e!==null){if(n.validator!==null){let i=Hv(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let i=zv(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}let r=()=>{};return _l(n._rawValidators,r),_l(n._rawAsyncValidators,r),t}function GM(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&qv(e,n)})}function WM(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&qv(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function qv(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function qM(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Zv(e,n){e==null,Tf(e,n)}function ZM(e,n){return wl(e,n)}function Qv(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function QM(e){return Object.getPrototypeOf(e.constructor)===Ri}function Yv(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Kv(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===on?t=o:QM(o)?r=o:i=o}),i||r||t||null}function YM(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var KM={provide:it,useExisting:Ue(()=>Or)},ko=Promise.resolve(),Or=(()=>{class e extends it{get submitted(){return nn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=pi(()=>this.submittedReactive()),this.submittedReactive=ui(!1),this._directives=new Set,this.ngSubmit=new me,this.form=new Ni({},Ef(t),Mf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ko.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),bl(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ko.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ko.then(()=>{let r=this._findContainer(t.path),i=new Ni({});Zv(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ko.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ko.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Yv(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||e)(_(sn,10),_(Oi,10),_(ki,8))}}static{this.\u0275dir=X({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&M("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([KM]),Me]})}}return e})();function Ev(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Mv(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Lo=class extends Ai{constructor(n=null,t,r){super(If(t),Sf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Mv(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ev(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ev(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Mv(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var JM=e=>e instanceof Lo,XM=(()=>{class e extends it{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Dl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,features:[Me]})}}return e})();var eI={provide:Jn,useExisting:Ue(()=>En)},Iv=Promise.resolve(),En=(()=>{class e extends Jn{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Lo,this._registered=!1,this.name="",this.update=new me,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Kv(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Qv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Iv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&zn(r);Iv.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Dl(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||e)(_(it,9),_(sn,10),_(Oi,10),_(er,10),_(Hn,8),_(ki,8))}}static{this.\u0275dir=X({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([eI]),Me,jt]})}}return e})(),nr=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=X({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),tI={provide:er,useExisting:Ue(()=>jo),multi:!0},jo=(()=>{class e extends Ri{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&M("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[qe([tI]),Me]})}}return e})(),nI={provide:er,useExisting:Ue(()=>Af),multi:!0};var rI=(()=>{class e{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Af=(()=>{class e extends Ri{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=D(ki,{optional:!0})??Vo}ngOnInit(){this._control=this._injector.get(Jn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||e)(_(Et),_(Ke),_(rI),_(Ct))}}static{this.\u0275dir=X({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[qe([nI]),Me]})}}return e})();var Jv=new O("");var iI={provide:it,useExisting:Ue(()=>xl)},xl=(()=>{class e extends it{get submitted(){return nn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=pi(()=>this._submittedReactive()),this._submittedReactive=ui(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new me,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return bl(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xv(t.control||null,t,!1),YM(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Yv(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new wf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Cf(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(xv(r||null,t),JM(i)&&(bl(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Zv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&ZM(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tf(this.form,this),this._oldForm&&wl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||e)(_(sn,10),_(Oi,10),_(ki,8))}}static{this.\u0275dir=X({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&M("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([iI]),Me,jt]})}}return e})(),oI={provide:it,useExisting:Ue(()=>El)},El=(()=>{class e extends XM{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Xv(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(_(it,13),_(sn,10),_(Oi,10))}}static{this.\u0275dir=X({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[qe([oI]),Me]})}}return e})(),sI={provide:it,useExisting:Ue(()=>Ml)},Ml=(()=>{class e extends it{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Dl(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Xv(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(_(it,13),_(sn,10),_(Oi,10))}}static{this.\u0275dir=X({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[qe([sI]),Me]})}}return e})();function Xv(e){return!(e instanceof El)&&!(e instanceof xl)&&!(e instanceof Ml)}var aI={provide:Jn,useExisting:Ue(()=>Nf)},Nf=(()=>{class e extends Jn{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new me,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Kv(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Qv(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(_(it,13),_(sn,10),_(Oi,10),_(er,10),_(Jv,8))}}static{this.\u0275dir=X({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([aI]),Me,jt]})}}return e})(),lI={provide:er,useExisting:Ue(()=>rr),multi:!0};function ey(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function cI(e){return e.split(":")[0]}var rr=(()=>{class e extends Ri{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=ey(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=cI(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([lI]),Me]})}}return e})(),Pi=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ey(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(_(Ke),_(Et),_(rr,9))}}static{this.\u0275dir=X({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),uI={provide:er,useExisting:Ue(()=>ty),multi:!0};function Sv(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function dI(e){return e.split(":")[0]}var ty=(()=>{class e extends Ri{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=dI(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([uI]),Me]})}}return e})(),Fi=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Sv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Sv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(_(Ke),_(Et),_(ty,9))}}static{this.\u0275dir=X({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function fI(e){return typeof e=="number"?e:parseInt(e,10)}function ny(e){return typeof e=="number"?e:parseFloat(e)}var Il=(()=>{class e{constructor(){this._validator=hl}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=X({type:e,features:[jt]})}}return e})(),pI={provide:sn,useExisting:Ue(()=>Rf),multi:!0},Rf=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>ny(t),this.createValidator=t=>Ov(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&tn("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[qe([pI]),Me]})}}return e})(),hI={provide:sn,useExisting:Ue(()=>Uo),multi:!0},Uo=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>ny(t),this.createValidator=t=>Rv(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&tn("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[qe([hI]),Me]})}}return e})(),mI={provide:sn,useExisting:Ue(()=>kr),multi:!0};var kr=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=zn,this.createValidator=t=>kv}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&tn("required",i._enabled?"":null)},inputs:{required:"required"},features:[qe([mI]),Me]})}}return e})();var gI={provide:sn,useExisting:Ue(()=>Of),multi:!0},Of=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>fI(t),this.createValidator=t=>Pv(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(e)))(i||e)}})()}static{this.\u0275dir=X({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&tn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qe([gI]),Me]})}}return e})();var ry=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Jt({})}}return e})(),xf=class extends Ai{constructor(n,t,r){super(If(t),Sf(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){Wv(this,!1,n),n.forEach((r,i)=>{Gv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function Tv(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var iy=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Tv(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ni(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Df(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Tv(r)?o=r:(o.validators=r,o.asyncValidators=i),new Lo(t,z(E({},o),{nonNullable:!0}))):new Lo(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new xf(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Lo)return t;if(t instanceof Ai)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ln=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ki,useValue:t.callSetDisabledState??Vo}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Jt({imports:[ry]})}}return e})(),oy=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Jv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ki,useValue:t.callSetDisabledState??Vo}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Jt({imports:[ry]})}}return e})();function vI(e,n){if(e&1&&(u(0,"div",18)(1,"div",19)(2,"div",20),F(),u(3,"svg",21),C(4,"path",22),c()(),H(),u(5,"div",23)(6,"h3",24),f(7),c()()()()),e&2){let t=v();p(7),A(" ",t.error," ")}}function yI(e,n){e&1&&(u(0,"span",25),C(1,"div",26),c())}function bI(e,n){e&1&&(u(0,"span",25),F(),u(1,"svg",27),C(2,"path",28),c()())}var Sl=class e{constructor(n,t,r){this.authService=n;this.router=t;this.route=r;this.authService.isLoggedIn()&&this.router.navigate(["/dashboard"])}credentials={email:"",password:""};loading=!1;error="";onSubmit(){if(!this.credentials.email||!this.credentials.password){this.error="Veuillez remplir tous les champs";return}this.loading=!0,this.error="",this.authService.login(this.credentials).subscribe({next:n=>{console.log("Connexion r\xE9ussie:",n),this.router.navigate(["/dashboard"])},error:n=>{console.error("Erreur de connexion:",n),this.error=n.error?.error||"Erreur de connexion",this.loading=!1},complete:()=>{this.loading=!1}})}static \u0275fac=function(t){return new(t||e)(_(Ie),_(de),_(dt))};static \u0275cmp=ge({type:e,selectors:[["app-login"]],standalone:!0,features:[ve],decls:30,vars:7,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"mx-auto","h-12","w-auto","flex","justify-center"],[1,"text-3xl","font-bold","text-primary-600"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],[1,"rounded-md","shadow-sm","-space-y-px"],["for","email",1,"sr-only"],["id","email","name","email","type","email","autocomplete","email","required","","placeholder","Adresse email",1,"relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-t-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","password",1,"sr-only"],["id","password","name","password","type","password","autocomplete","current-password","required","","placeholder","Mot de passe",1,"relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-b-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-primary-600","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"text-center"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-primary-600"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-white"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-primary-500","group-hover:text-primary-400"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"h1",3),f(5,"Mapraude"),c()(),u(6,"h2",4),f(7," Connexion Association "),c(),u(8,"p",5),f(9," Acc\xE9dez \xE0 votre espace de gestion des maraudes "),c()(),u(10,"form",6),M("ngSubmit",function(){return r.onSubmit()}),w(11,vI,8,1,"div",7),u(12,"div",8)(13,"div")(14,"label",9),f(15,"Adresse email"),c(),u(16,"input",10),se("ngModelChange",function(o){return ae(r.credentials.email,o)||(r.credentials.email=o),o}),c()(),u(17,"div")(18,"label",11),f(19,"Mot de passe"),c(),u(20,"input",12),se("ngModelChange",function(o){return ae(r.credentials.password,o)||(r.credentials.password=o),o}),c()()(),u(21,"div")(22,"button",13),w(23,yI,2,0,"span",14)(24,bI,3,0,"span",14),f(25),c()(),u(26,"div",15)(27,"p",16),f(28," Pas encore inscrit ? "),C(29,"span",17),c()()()()()),t&2&&(p(11),g("ngIf",r.error),p(5),oe("ngModel",r.credentials.email),p(4),oe("ngModel",r.credentials.password),p(2),g("disabled",r.loading),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading),p(),A(" ",r.loading?"Connexion...":"Se connecter"," "))},dependencies:[_e,Le,ln,nr,on,an,tr,kr,En,Or],styles:[".primary-600[_ngcontent-%COMP%]{color:#2563eb}.bg-primary-600[_ngcontent-%COMP%]{background-color:#2563eb}.bg-primary-700[_ngcontent-%COMP%], .hover\\:bg-primary-700[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.text-primary-500[_ngcontent-%COMP%]{color:#3b82f6}.text-primary-600[_ngcontent-%COMP%]{color:#2563eb}.hover\\:text-primary-400[_ngcontent-%COMP%]:hover{color:#60a5fa}.hover\\:text-primary-500[_ngcontent-%COMP%]:hover{color:#3b82f6}.focus\\:ring-primary-500[_ngcontent-%COMP%]:focus{--tw-ring-color: #3b82f6}.focus\\:border-primary-500[_ngcontent-%COMP%]:focus{border-color:#3b82f6}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}"]})};var Nt=class e{constructor(n,t){this.http=n;this.authService=t}baseUrl="/api";getAssociations(n){let t=new Xe;return n&&(n.page&&(t=t.set("page",n.page.toString())),n.limit&&(t=t.set("limit",n.limit.toString())),n.active&&(t=t.set("active",n.active)),n.search&&(t=t.set("search",n.search))),this.http.get(`${this.baseUrl}/associations`,{params:t}).pipe(ne(r=>{console.log("\u{1F4CB} Associations loaded:",r)}),Ce(r=>(console.error("\u274C Error loading associations:",r),Te(()=>r))))}getAssociationById(n){return this.http.get(`${this.baseUrl}/associations/${n}`).pipe(ne(t=>{console.log("\u{1F3E2} Association detail loaded:",t)}),Ce(t=>(console.error("\u274C Error loading association:",t),Te(()=>t))))}createAssociation(n){return console.log("\u2795 Creating association:",n),this.http.post(`${this.baseUrl}/associations`,n).pipe(ne(t=>{console.log("\u2705 Association created:",t)}),Ce(t=>(console.error("\u274C Error creating association:",t),Te(()=>t))))}updateAssociation(n,t){return console.log("\u{1F504} Updating association:",n,t),this.http.put(`${this.baseUrl}/associations/${n}`,t).pipe(ne(r=>{console.log("\u2705 Association updated:",r)}),Ce(r=>(console.error("\u274C Error updating association:",r),Te(()=>r))))}deleteAssociation(n){return console.log("\u{1F5D1}\uFE0F Deleting association:",n),this.http.delete(`${this.baseUrl}/associations/${n}`).pipe(ne(t=>{console.log("\u2705 Association deleted:",t)}),Ce(t=>(console.error("\u274C Error deleting association:",t),Te(()=>t))))}getAssociationStats(n){return this.http.get(`${this.baseUrl}/associations/${n}/stats`).pipe(ne(t=>{console.log("\u{1F4CA} Association stats loaded:",t)}),Ce(t=>(console.error("\u274C Error loading association stats:",t),Te(()=>t))))}getMaraudes(n){let t=`${this.baseUrl}/maraudes`,r=new Xe;return n&&Object.keys(n).forEach(i=>{let o=n[i];o!=null&&o!==""&&(r=r.set(i,o.toString()))}),this.http.get(t,{params:r})}getMaraude(n){return this.http.get(`${this.baseUrl}/maraudes/${n}`)}createMaraude(n){return console.log("\u{1F510} Cr\xE9ation maraude avec waypoints"),console.log("\u{1F4CA} Donn\xE9es maraude envoy\xE9es:",n),this.http.post(`${this.baseUrl}/maraudes`,n).pipe(ne(t=>{console.log("\u{1F4E6} R\xE9ponse cr\xE9ation maraude:",t)}),Ce(t=>(console.error("\u274C Erreur cr\xE9ation maraude:",t),Te(()=>t))))}updateMaraude(n,t){return console.log("\u{1F504} API Service - Updating maraude ID:",n),this.http.put(`${this.baseUrl}/maraudes/${n}`,t).pipe(ne(r=>{console.log("\u2705 API Service - Update successful:",r)}),Ce(r=>(console.error("\u274C API Service - Update error:",r),Te(()=>r))))}deleteMaraude(n){return this.http.delete(`${this.baseUrl}/maraudes/${n}`)}toggleMaraudeActive(n){return this.http.patch(`${this.baseUrl}/maraudes/${n}/toggle`,{})}getTodayActiveMaraudes(){return this.http.get(`${this.baseUrl}/maraudes/today/active`)}getWeeklySchedule(){return this.http.get(`${this.baseUrl}/maraudes/weekly-schedule`)}getMerchants(n){let t=`${this.baseUrl}/merchants`,r=new Xe;return n&&Object.keys(n).forEach(i=>{let o=n[i];o!=null&&o!==""&&(r=r.set(i,o.toString()))}),this.http.get(t,{params:r})}getNearbyMerchants(n,t,r=5){return this.http.get(`${this.baseUrl}/merchants/nearby/${n}/${t}?radius=${r}`)}getDashboardStats(){return this.http.get(`${this.baseUrl}/reports/dashboard/stats`).pipe(ne(n=>{console.log("\u{1F4CA} Dashboard stats loaded:",n)}),Ce(n=>(console.error("\u274C Dashboard stats error:",n),Te(()=>n))))}static \u0275fac=function(t){return new(t||e)(P(Ir),P(Ie))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})};var ir=class e{constructor(n){this.http=n}baseUrl="/api/reports";getAuthHeaders(){let n=localStorage.getItem("maraude_token");return console.log("\u{1F510} Token r\xE9cup\xE9r\xE9:",n?"pr\xE9sent":"absent"),n?new Tt({Authorization:`Bearer ${n}`,"Content-Type":"application/json"}):new Tt({"Content-Type":"application/json"})}getDistributionTypes(){return this.http.get(`${this.baseUrl}/distribution-types`)}getReports(n){let t=new Xe;return n&&Object.keys(n).forEach(r=>{let i=n[r];i!=null&&i!==""&&(t=t.set(r,i.toString()))}),this.http.get(this.baseUrl,{params:t,headers:this.getAuthHeaders()})}getReport(n){return this.http.get(`${this.baseUrl}/${n}`,{headers:this.getAuthHeaders()})}createReport(n){let t=localStorage.getItem("maraude_token");if(console.log("\u{1F510} Cr\xE9ation rapport - Token pr\xE9sent:",!!t),console.log("\u{1F4CA} Donn\xE9es envoy\xE9es:",n),!t)throw new Error("Token d'authentification manquant");return this.http.post(this.baseUrl,n,{headers:this.getAuthHeaders()})}updateReport(n,t){return this.http.put(`${this.baseUrl}/${n}`,t,{headers:this.getAuthHeaders()})}deleteReport(n){return this.http.delete(`${this.baseUrl}/${n}`,{headers:this.getAuthHeaders()})}submitReport(n){return this.http.patch(`${this.baseUrl}/${n}/submit`,{},{headers:this.getAuthHeaders()})}validateReport(n){return this.http.patch(`${this.baseUrl}/${n}/validate`,{},{headers:this.getAuthHeaders()})}sendReportEmail(n,t){return this.http.post(`${this.baseUrl}/${n}/send-email`,t,{headers:this.getAuthHeaders()})}getReportStats(n){let t=new Xe;return n&&Object.keys(n).forEach(r=>{let i=n[r];i!=null&&i!==""&&(t=t.set(r,i.toString()))}),this.http.get(`${this.baseUrl}/stats/summary`,{params:t,headers:this.getAuthHeaders()})}checkDuplicateReport(n,t){let r=new Xe().set("maraudeActionId",n).set("reportDate",t);return this.http.get(`${this.baseUrl}/check-duplicate`,{params:r,headers:this.getAuthHeaders()})}static \u0275fac=function(t){return new(t||e)(P(Ir))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})};function _I(e,n){e&1&&(u(0,"div",3),C(1,"div",4),u(2,"p",5),f(3,"Chargement des donn\xE9es..."),c()())}function wI(e,n){if(e&1){let t=Q();u(0,"button",61),M("click",function(){S(t);let i=v(2);return T(i.navigateToAssociations())}),u(1,"div",27)(2,"div",28),F(),u(3,"svg",29),C(4,"path",62),c()(),H(),u(5,"div",31)(6,"h3",32),f(7,"G\xE9rer les associations"),c(),u(8,"p",63),f(9,"Administrer les organisations"),c()()()()}}function CI(e,n){e&1&&(u(0,"span",64),f(1,"(toutes associations)"),c())}function DI(e,n){if(e&1){let t=Q();u(0,"div",65),F(),u(1,"svg",66),C(2,"path",67),c(),H(),u(3,"p"),f(4,"Aucune maraude planifi\xE9e"),c(),u(5,"button",68),M("click",function(){S(t);let i=v(2);return T(i.navigateToAddMaraude())}),f(6," Cr\xE9er votre premi\xE8re maraude "),c()()}}function xI(e,n){if(e&1&&(u(0,"span",80),f(1),c()),e&2){let t=v().$implicit;p(),A(" ",t.association.name," ")}}function EI(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),Ee(" \u{1F504} Tous les ",t.dayName,"s \xE0 ",t.startTime," ")}}function MI(e,n){if(e&1&&(u(0,"span"),f(1),Er(2,"date"),c()),e&2){let t=v().$implicit;p(),Ee(" \u{1F4C5} ",eo(2,2,t.scheduledDate,"dd/MM/yyyy")," \xE0 ",t.startTime," ")}}function II(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),A(" \u2764\uFE0F ",t.beneficiariesHelped," personnes aid\xE9es ")}}function SI(e,n){e&1&&(u(0,"span",81),f(1," Aujourd'hui "),c())}function TI(e,n){if(e&1){let t=Q();u(0,"div",69),M("click",function(){let i=S(t).$implicit,o=v(2);return T(o.navigateToEditMaraude(i.id))}),u(1,"div",70)(2,"div",71)(3,"div",72)(4,"h4",73),f(5),c(),w(6,xI,2,1,"span",74),c(),u(7,"p",75),f(8),c(),u(9,"div",76),w(10,EI,2,2,"span",2)(11,MI,3,5,"span",2),u(12,"span"),f(13),c(),w(14,II,2,1,"span",2),c()(),u(15,"div",77)(16,"span",78),f(17),c(),w(18,SI,2,0,"span",79),c()()()}if(e&2){let t=n.$implicit,r=v(2);p(5),ie(t.title),p(),g("ngIf",r.isAdmin&&t.association),p(2),ie(t.startAddress),p(2),g("ngIf",t.isRecurring),p(),g("ngIf",!t.isRecurring&&t.scheduledDate),p(2),A("\u{1F465} ",t.participantsCount," b\xE9n\xE9voles"),p(),g("ngIf",t.beneficiariesHelped>0),p(2),g("ngClass",r.getStatusClass(t.status)),p(),A(" ",r.getStatusText(t.status)," "),p(),g("ngIf",t.isHappeningToday)}}function AI(e,n){if(e&1){let t=Q();u(0,"div",82)(1,"button",83),M("click",function(){S(t);let i=v(2);return T(i.navigateToAllMaraudes())}),f(2),c()()}if(e&2){let t=v(2);p(2),A(" Voir toutes les maraudes (",t.myMaraudes.length,") ")}}function NI(e,n){e&1&&(u(0,"span",64),f(1,"(toutes associations)"),c())}function RI(e,n){if(e&1){let t=Q();u(0,"div",65),F(),u(1,"svg",66),C(2,"path",35),c(),H(),u(3,"p"),f(4,"Aucun compte-rendu"),c(),u(5,"button",68),M("click",function(){S(t);let i=v(2);return T(i.navigateToAddReport())}),f(6," Cr\xE9er un compte-rendu "),c()()}}function OI(e,n){if(e&1&&(u(0,"span",80),f(1),c()),e&2){let t=v().$implicit;p(),A(" ",t.association.name," ")}}function kI(e,n){e&1&&(u(0,"span",86),f(1," \u{1F6A8} Alertes "),c())}function PI(e,n){if(e&1){let t=Q();u(0,"div",69),M("click",function(){let i=S(t).$implicit,o=v(2);return T(o.navigateToViewReport(i.id))}),u(1,"div",70)(2,"div",71)(3,"div",72)(4,"h4",73),f(5),c(),w(6,OI,2,1,"span",74),c(),u(7,"p",75),f(8),c(),u(9,"div",84)(10,"span"),f(11),c(),u(12,"span"),f(13),c(),u(14,"span"),f(15),c()()(),u(16,"div",77)(17,"span",78),f(18),c(),w(19,kI,2,0,"span",85),c()()()}if(e&2){let t=n.$implicit,r=v(2);p(5),A(" ",(t.maraudeAction==null?null:t.maraudeAction.title)||"Maraude sans titre"," "),p(),g("ngIf",r.isAdmin&&t.association),p(2),Ee(" Par ",t.createdBy==null?null:t.createdBy.firstName," ",t.createdBy==null?null:t.createdBy.lastName," "),p(3),A("\u{1F4C5} ",r.formatDate(t.maraudeDate),""),p(2),A("\u{1F465} ",t.volunteersCount," b\xE9n\xE9voles"),p(2),A("\u2764\uFE0F ",t.beneficiariesCount," b\xE9n\xE9ficiaires"),p(2),g("ngClass",r.getReportStatusClass(t.status)),p(),A(" ",r.getReportStatusText(t.status)," "),p(),g("ngIf",t.hasAlerts)}}function FI(e,n){if(e&1){let t=Q();u(0,"div",82)(1,"button",83),M("click",function(){S(t);let i=v(2);return T(i.navigateToReports())}),f(2),c()()}if(e&2){let t=v(2);p(2),A(" Voir tous les rapports (",t.recentReports.length,") ")}}function LI(e,n){e&1&&(u(0,"div",87)(1,"div",54),F(),u(2,"svg",88),C(3,"path",89),c(),H(),u(4,"div")(5,"h4",90),f(6,"\u{1F511} Mode Administrateur"),c(),u(7,"p",91),f(8," Vous voyez toutes les maraudes et tous les rapports de toutes les associations. Vous pouvez cr\xE9er des maraudes pour n'importe quelle association et g\xE9rer les associations depuis le bouton en haut \xE0 droite. "),c()()()())}function VI(e,n){if(e&1){let t=Q();u(0,"div")(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div")(6,"p",10),f(7,"Total Maraudes"),c(),u(8,"p",11),f(9),c(),u(10,"p",12)(11,"span",13),f(12),c()()(),u(13,"div",14),F(),u(14,"svg",15),C(15,"path",16),c()()()(),H(),u(16,"div",17)(17,"div",9)(18,"div")(19,"p",10),f(20,"B\xE9n\xE9ficiaires Aid\xE9s"),c(),u(21,"p",11),f(22),c(),u(23,"p",12),f(24),c()(),u(25,"div",18),F(),u(26,"svg",19),C(27,"path",20),c()()()(),H(),u(28,"div",21)(29,"div",9)(30,"div")(31,"p",10),f(32,"B\xE9n\xE9voles Actifs"),c(),u(33,"p",11),f(34),c(),u(35,"p",12),f(36," Sur toutes les maraudes "),c()(),u(37,"div",22),F(),u(38,"svg",23),C(39,"path",24),c()()()()(),H(),u(40,"div",25)(41,"button",26),M("click",function(){S(t);let i=v();return T(i.navigateToAddMaraude())}),u(42,"div",27)(43,"div",28),F(),u(44,"svg",29),C(45,"path",30),c()(),H(),u(46,"div",31)(47,"h3",32),f(48,"Cr\xE9er une maraude"),c(),u(49,"p",33),f(50,"Planifier une nouvelle action"),c()()()(),u(51,"button",34),M("click",function(){S(t);let i=v();return T(i.navigateToAddReport())}),u(52,"div",27)(53,"div",28),F(),u(54,"svg",29),C(55,"path",35),c()(),H(),u(56,"div",31)(57,"h3",32),f(58,"Cr\xE9er un compte-rendu"),c(),u(59,"p",36),f(60,"Documenter une maraude"),c()()()(),w(61,wI,10,0,"button",37),c(),u(62,"div",38)(63,"div",39)(64,"div",40)(65,"div",41)(66,"h3",42),f(67),w(68,CI,2,0,"span",43),c(),u(69,"span",44),f(70),c()()(),u(71,"div",45),w(72,DI,7,0,"div",46),u(73,"div",47),w(74,TI,19,10,"div",48),c(),w(75,AI,3,1,"div",49),c()(),u(76,"div",39)(77,"div",40)(78,"div",41)(79,"h3",42),f(80," Derniers comptes-rendus "),w(81,NI,2,0,"span",43),c(),u(82,"button",50),M("click",function(){S(t);let i=v();return T(i.navigateToReports())}),f(83," Voir tout "),c()()(),u(84,"div",45),w(85,RI,7,0,"div",46),u(86,"div",47),w(87,PI,20,10,"div",48),c(),w(88,FI,3,1,"div",49),c()()(),u(89,"div",51)(90,"h3",52),f(91,"\u{1F4A1} Conseils rapides"),c(),u(92,"div",53)(93,"div",54),F(),u(94,"svg",55),C(95,"path",56),c(),H(),u(96,"div")(97,"strong"),f(98,"Statistiques pr\xE9cises :"),c(),f(99," Les chiffres sont calcul\xE9s \xE0 partir de vos rapports valid\xE9s "),c()(),u(100,"div",54),F(),u(101,"svg",55),C(102,"path",57),c(),H(),u(103,"div")(104,"strong"),f(105,"Comptes-rendus :"),c(),f(106," Cr\xE9ez des rapports d\xE9taill\xE9s apr\xE8s chaque maraude avec distributions et alertes "),c()(),u(107,"div",54),F(),u(108,"svg",55),C(109,"path",58),c(),H(),u(110,"div")(111,"strong"),f(112,"Localisation :"),c(),f(113," Pr\xE9cisez l'adresse pour aider les b\xE9n\xE9voles \xE0 vous rejoindre "),c()(),u(114,"div",54),F(),u(115,"svg",55),C(116,"path",59),c(),H(),u(117,"div")(118,"strong"),f(119,"Workflow rapports :"),c(),f(120," Brouillon \u2192 Soumission \u2192 Validation par un coordinateur "),c()()()(),w(121,LI,9,0,"div",60),c()()}if(e&2){let t=v();p(9),ie(t.stats.totalMaraudes),p(3),A("",t.stats.activeMaraudes," actives"),p(10),ie(t.stats.totalBeneficiaries),p(2),A(" Moy: ",t.stats.avgBeneficiariesPerReport,"/maraude "),p(10),ie(t.stats.totalVolunteers),p(27),g("ngIf",(t.currentUser==null?null:t.currentUser.role)==="admin"),p(6),A(" ",t.isAdmin?"Toutes les maraudes":"Mes maraudes"," "),p(),g("ngIf",t.isAdmin),p(2),Ee(" ",t.stats.totalMaraudes," maraude",t.stats.totalMaraudes>1?"s":""," au total "),p(2),g("ngIf",t.myMaraudes.length===0),p(2),g("ngForOf",t.myMaraudes.slice(0,5)),p(),g("ngIf",t.myMaraudes.length>5),p(6),g("ngIf",t.isAdmin),p(4),g("ngIf",t.recentReports.length===0),p(2),g("ngForOf",t.recentReports.slice(0,5)),p(),g("ngIf",t.recentReports.length>5),p(33),g("ngIf",t.isAdmin)}}var Tl=class e{constructor(n,t,r,i){this.authService=n;this.apiService=t;this.reportService=r;this.router=i}currentUser=null;myMaraudes=[];recentReports=[];stats={totalMaraudes:0,completedMaraudes:0,activeMaraudes:0,totalBeneficiaries:0,totalReports:0,validatedReports:0,pendingReports:0,draftReports:0,avgBeneficiariesPerReport:0,totalVolunteers:0};loading=!0;isAdmin=!1;ngOnInit(){if(this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.router.navigate(["/login"]);return}this.isAdmin=this.currentUser.role==="admin",console.log("\u{1F464} User role:",this.currentUser.role,"| Is admin:",this.isAdmin),this.loadDashboardData()}loadDashboardData(){Promise.all([this.loadStats(),this.loadMaraudes(),this.loadReports()]).then(()=>{this.loading=!1}).catch(n=>{console.error("Erreur lors du chargement des donn\xE9es:",n),this.loading=!1})}loadStats(){return ee(this,null,function*(){try{let n=yield xe(this.apiService.getDashboardStats());this.stats=n?.stats||this.stats,console.log("\u{1F4CA} Stats loaded:",this.stats)}catch(n){console.error("Erreur chargement stats:",n),this.calculateStatsFromMaraudesAndReports()}})}loadMaraudes(){return ee(this,null,function*(){try{let n={limit:100};!this.isAdmin&&this.currentUser?.associationId?(n.associationId=this.currentUser.associationId,console.log("\u{1F464} Loading maraudes for association:",n.associationId)):this.isAdmin&&console.log("\u{1F511} Admin: Loading ALL maraudes");let t=yield xe(this.apiService.getMaraudes(n));if(this.myMaraudes=t?.actions||[],console.log(`\u2705 Loaded ${this.myMaraudes.length} maraudes`),this.isAdmin&&this.myMaraudes.length>0){let r=[...new Set(this.myMaraudes.map(i=>i.association?.name))];console.log("\u{1F4CB} Associations in maraudes:",r)}}catch(n){console.error("Erreur chargement maraudes:",n),this.myMaraudes=[]}})}loadReports(){return ee(this,null,function*(){try{let n={limit:10};!this.isAdmin&&this.currentUser?.associationId&&(n.associationId=this.currentUser.associationId);let t=yield xe(this.reportService.getReports(n));this.recentReports=t?.reports||[],console.log(`\u2705 Loaded ${this.recentReports.length} reports`)}catch(n){console.error("Erreur chargement rapports:",n),this.recentReports=[]}})}calculateStatsFromMaraudesAndReports(){console.log("\u26A0\uFE0F Fallback: calcul des stats localement"),this.stats.totalMaraudes=this.myMaraudes.length,this.stats.activeMaraudes=this.myMaraudes.filter(n=>n.status==="planned"||n.status==="in_progress").length,this.stats.completedMaraudes=this.myMaraudes.filter(n=>n.status==="completed").length,this.stats.totalReports=this.recentReports.length,this.stats.totalBeneficiaries=this.recentReports.reduce((n,t)=>n+(t.beneficiariesCount||0),0),this.stats.totalVolunteers=this.recentReports.reduce((n,t)=>n+(t.volunteersCount||0),0),this.stats.validatedReports=this.recentReports.filter(n=>n.status==="validated").length,this.stats.pendingReports=this.recentReports.filter(n=>n.status==="submitted").length,this.stats.totalReports>0&&(this.stats.avgBeneficiariesPerReport=Math.round(this.stats.totalBeneficiaries/this.stats.totalReports))}logout(){this.authService.logout(),this.router.navigate(["/"])}navigateToAddMaraude(){this.router.navigate(["/dashboard/add-maraude"])}navigateToEditMaraude(n){this.router.navigate(["/dashboard/edit-maraude",n])}navigateToReports(){this.router.navigate(["/reports"])}navigateToAddReport(){this.router.navigate(["/reports/create"])}navigateToEditReport(n){this.router.navigate(["/reports/edit",n])}navigateToViewReport(n){this.router.navigate(["/reports",n])}navigateToAssociations(){this.router.navigate(["/dashboard/associations"])}navigateToAllMaraudes(){this.router.navigate(["/dashboard/maraudes"])}getStatusText(n){return{planned:"Planifi\xE9e",in_progress:"En cours",completed:"Termin\xE9e",cancelled:"Annul\xE9e"}[n]||n}getStatusClass(n){switch(n){case"planned":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}getReportStatusText(n){return{draft:"Brouillon",submitted:"Soumis",validated:"Valid\xE9"}[n]||n}getReportStatusClass(n){switch(n){case"draft":return"bg-gray-100 text-gray-800";case"submitted":return"bg-yellow-100 text-yellow-800";case"validated":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}formatDate(n){return new Date(n).toLocaleDateString("fr-FR")}static \u0275fac=function(t){return new(t||e)(_(Ie),_(Nt),_(ir),_(de))};static \u0275cmp=ge({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[ve],decls:3,vars:2,consts:[[1,"min-h-screen","bg-gray-50"],["class","text-center py-12",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"mt-4","text-gray-600"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-lg","shadow","p-6","border-l-4","border-blue-500"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-xs","text-gray-500","mt-1"],[1,"text-green-600"],[1,"bg-blue-100","rounded-full","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],[1,"bg-white","rounded-lg","shadow","p-6","border-l-4","border-green-500"],[1,"bg-green-100","rounded-full","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"bg-white","rounded-lg","shadow","p-6","border-l-4","border-orange-500"],[1,"bg-orange-100","rounded-full","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-8"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","text-white","rounded-lg","p-6","shadow-lg","hover:from-blue-600","hover:to-blue-700","transition-all","transform","hover:scale-105",3,"click"],[1,"flex","items-center"],[1,"bg-white","bg-opacity-20","rounded-full","p-3","mr-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"text-left"],[1,"text-lg","font-semibold"],[1,"text-sm","text-blue-100","mt-1"],[1,"bg-gradient-to-r","from-green-500","to-green-600","text-white","rounded-lg","p-6","shadow-lg","hover:from-green-600","hover:to-green-700","transition-all","transform","hover:scale-105",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-green-100","mt-1"],["class","bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-lg p-6 shadow-lg hover:from-indigo-600 hover:to-indigo-700 transition-all transform hover:scale-105",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-lg","shadow"],[1,"border-b","border-gray-200","px-6","py-4"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-semibold","text-gray-900"],["class","ml-2 text-sm text-indigo-600 font-normal",4,"ngIf"],[1,"text-sm","text-gray-500"],[1,"p-6"],["class","text-center py-8 text-gray-500",4,"ngIf"],[1,"space-y-4"],["class","border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],["class","text-center pt-4 border-t border-gray-200 mt-4",4,"ngIf"],[1,"text-sm","text-blue-600","hover:text-blue-500","font-medium",3,"click"],[1,"mt-8","bg-blue-50","border","border-blue-200","rounded-lg","p-6"],[1,"text-lg","font-semibold","text-blue-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm","text-blue-800"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-blue-600","mr-2","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-5a2 2 0 00-2 2v10a2 2 0 002 2z"],["class","mt-4 bg-indigo-50 border border-indigo-200 rounded-lg p-6",4,"ngIf"],[1,"bg-gradient-to-r","from-indigo-500","to-indigo-600","text-white","rounded-lg","p-6","shadow-lg","hover:from-indigo-600","hover:to-indigo-700","transition-all","transform","hover:scale-105",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"text-sm","text-indigo-100","mt-1"],[1,"ml-2","text-sm","text-indigo-600","font-normal"],[1,"text-center","py-8","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"mt-4","text-blue-600","hover:text-blue-500","font-medium",3,"click"],[1,"border","border-gray-200","rounded-lg","p-4","hover:bg-gray-50","cursor-pointer","transition-colors",3,"click"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"flex","items-center","gap-2","flex-wrap"],[1,"font-medium","text-gray-900"],["class","px-2 py-0.5 bg-indigo-100 text-indigo-800 text-xs rounded-full font-medium",4,"ngIf"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","items-center","mt-2","space-x-4","text-sm","text-gray-500","flex-wrap","gap-2"],[1,"flex","flex-col","items-end","ml-4"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","whitespace-nowrap",3,"ngClass"],["class","mt-1 px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium animate-pulse",4,"ngIf"],[1,"px-2","py-0.5","bg-indigo-100","text-indigo-800","text-xs","rounded-full","font-medium"],[1,"mt-1","px-2","py-1","bg-orange-100","text-orange-800","rounded-full","text-xs","font-medium","animate-pulse"],[1,"text-center","pt-4","border-t","border-gray-200","mt-4"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium",3,"click"],[1,"flex","items-center","mt-2","space-x-4","text-sm","text-gray-500"],["class","mt-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",4,"ngIf"],[1,"mt-1","px-2","py-1","bg-red-100","text-red-800","rounded-full","text-xs","font-medium"],[1,"mt-4","bg-indigo-50","border","border-indigo-200","rounded-lg","p-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600","mr-3","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"text-sm","font-semibold","text-indigo-900","mb-1"],[1,"text-sm","text-indigo-800"]],template:function(t,r){t&1&&(u(0,"div",0),w(1,_I,4,0,"div",1)(2,VI,122,18,"div",2),c()),t&2&&(p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[_e,La,ut,Le,Va],styles:[".primary-600[_ngcontent-%COMP%]{color:#2563eb}.btn[_ngcontent-%COMP%]{border-radius:.5rem;padding:.5rem 1rem;font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1));color:#1f2937}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-white[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .2s ease-in-out}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.text-blue-800[_ngcontent-%COMP%]{color:#1e40af}.bg-orange-100[_ngcontent-%COMP%]{background-color:#fed7aa}.text-orange-800[_ngcontent-%COMP%]{color:#9a3412}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7}.text-green-800[_ngcontent-%COMP%]{color:#166534}.bg-red-100[_ngcontent-%COMP%]{background-color:#fee2e2}.text-red-800[_ngcontent-%COMP%]{color:#991b1b}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6}.text-gray-800[_ngcontent-%COMP%]{color:#1f2937}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})};var jI=["mapContainer"];function UI(e,n){e&1&&(u(0,"div",11),C(1,"div",12),c())}function BI(e,n){if(e&1&&(u(0,"div",79)(1,"div",80),f(2),c()()),e&2){let t=v(2);p(2),ie(t.error)}}function $I(e,n){e&1&&(u(0,"div",89),f(1," Chargement des associations... "),c())}function HI(e,n){if(e&1&&(u(0,"option",94),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),A(" ",t.name," ")}}function zI(e,n){if(e&1){let t=Q();u(0,"div")(1,"label",90),f(2," Association * "),c(),u(3,"select",91),se("ngModelChange",function(i){S(t);let o=v(3);return ae(o.maraudeData.associationId,i)||(o.maraudeData.associationId=i),T(i)}),u(4,"option",92),f(5,"-- S\xE9lectionner une association --"),c(),w(6,HI,2,2,"option",93),c()()}if(e&2){let t=v(3);p(3),oe("ngModel",t.maraudeData.associationId),p(3),g("ngForOf",t.associations)}}function GI(e,n){e&1&&(u(0,"div",89),f(1," Aucune association active disponible "),c())}function WI(e,n){if(e&1&&(u(0,"div",81)(1,"div",82)(2,"div",83),F(),u(3,"svg",84),C(4,"path",85),c()(),H(),u(5,"div",86)(6,"h3",87),f(7," S\xE9lection d'association (Admin) "),c(),w(8,$I,2,0,"div",88)(9,zI,7,2,"div",32)(10,GI,2,0,"div",88),c()()()),e&2){let t=v(2);p(8),g("ngIf",t.loadingAssociations),p(),g("ngIf",!t.loadingAssociations&&t.associations.length>0),p(),g("ngIf",!t.loadingAssociations&&t.associations.length===0)}}function qI(e,n){if(e&1&&(u(0,"option",94),f(1),c()),e&2){let t=n.$implicit;g("value",t.value),p(),A(" ",t.name," ")}}function ZI(e,n){if(e&1){let t=Q();u(0,"div")(1,"label",95),f(2," Jour de la semaine * "),c(),u(3,"select",96),se("ngModelChange",function(i){S(t);let o=v(2);return ae(o.maraudeData.dayOfWeek,i)||(o.maraudeData.dayOfWeek=i),T(i)}),w(4,qI,2,2,"option",93),c()()}if(e&2){let t=v(2);p(3),oe("ngModel",t.maraudeData.dayOfWeek),p(),g("ngForOf",t.daysOfWeek)}}function QI(e,n){if(e&1){let t=Q();u(0,"div")(1,"label",97),f(2," Date * "),c(),u(3,"input",98),se("ngModelChange",function(i){S(t);let o=v(2);return ae(o.maraudeData.scheduledDate,i)||(o.maraudeData.scheduledDate=i),T(i)}),c()()}if(e&2){let t=v(2);p(3),oe("ngModel",t.maraudeData.scheduledDate)}}function YI(e,n){e&1&&(u(0,"p",99)(1,"span",100),f(2,"Mode actif :"),c(),f(3," Cliquez sur la carte pour d\xE9finir le point de d\xE9part "),c())}function KI(e,n){if(e&1&&(u(0,"span",55)(1,"strong"),f(2),c(),f(3," km estim\xE9s "),c()),e&2){let t=v(2);p(2),ie(t.maraudeData.estimatedDistance)}}function JI(e,n){if(e&1&&(u(0,"span",55)(1,"strong"),f(2),c(),f(3," min estim\xE9es "),c()),e&2){let t=v(2);p(2),ie(t.maraudeData.estimatedDuration)}}function XI(e,n){if(e&1){let t=Q();u(0,"div",103)(1,"div",104)(2,"div",105),f(3),c(),u(4,"div",106)(5,"p",107),f(6),c()()(),u(7,"div",108)(8,"button",109),M("click",function(){let i=S(t).$implicit,o=v(3);return T(o.moveWaypoint(i.id,"up"))}),F(),u(9,"svg",41),C(10,"path",110),c()(),H(),u(11,"button",109),M("click",function(){let i=S(t).$implicit,o=v(3);return T(o.moveWaypoint(i.id,"down"))}),F(),u(12,"svg",41),C(13,"path",111),c()(),H(),u(14,"button",112),M("click",function(){let i=S(t).$implicit,o=v(3);return T(o.removeWaypoint(i.id))}),F(),u(15,"svg",41),C(16,"path",113),c()()()()}if(e&2){let t=n.$implicit,r=n.index,i=v(3);p(3),A(" ",r+1," "),p(3),A(" ",t.name," "),p(2),g("disabled",r===0),p(3),g("disabled",r===i.maraudeData.waypoints.length-1)}}function eS(e,n){if(e&1&&(u(0,"div",101),w(1,XI,17,4,"div",102),c()),e&2){let t=v(2);p(),g("ngForOf",t.maraudeData.waypoints)("ngForTrackBy",t.trackByWaypoint)}}function tS(e,n){e&1&&(u(0,"div",114)(1,"span",115),f(2," \u{1F3AF} Mode d\xE9finition point de d\xE9part actif - cliquez sur la carte "),c()())}function nS(e,n){e&1&&(u(0,"span",117),F(),u(1,"svg",118),C(2,"circle",119)(3,"path",120),c(),f(4," Suppression... "),c())}function rS(e,n){e&1&&(u(0,"span",117),F(),u(1,"svg",121),C(2,"path",113),c(),f(3," Supprimer cette maraude "),c())}function iS(e,n){if(e&1){let t=Q();u(0,"div")(1,"button",116),M("click",function(){S(t);let i=v(2);return T(i.deleteMaraude())}),w(2,nS,5,0,"span",70)(3,rS,4,0,"span",70),c()()}if(e&2){let t=v(2);p(),g("disabled",t.deleting||t.saving),p(),g("ngIf",t.deleting),p(),g("ngIf",!t.deleting)}}function oS(e,n){e&1&&C(0,"div")}function sS(e,n){e&1&&(u(0,"span",117),F(),u(1,"svg",118),C(2,"circle",119)(3,"path",120),c(),f(4," Sauvegarde... "),c())}function aS(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v(2);p(),A(" ",t.isEditing?"Modifier":"Cr\xE9er"," la maraude ")}}function lS(e,n){e&1&&(u(0,"div",122)(1,"div",123),C(2,"div",124),u(3,"p",59),f(4,"Chargement de la carte..."),c()()())}function cS(e,n){e&1&&(u(0,"div",125)(1,"p",126),f(2," \u{1F3AF} Mode actif : Cliquez sur la carte pour d\xE9finir le point de d\xE9part "),c()())}function uS(e,n){if(e&1){let t=Q();u(0,"div",13)(1,"div",14)(2,"form",15),M("ngSubmit",function(){S(t);let i=v();return T(i.onSubmit())}),w(3,BI,3,1,"div",16),u(4,"div",17)(5,"h2",18),f(6,"Informations g\xE9n\xE9rales"),c(),w(7,WI,11,3,"div",19),u(8,"div",20)(9,"div")(10,"label",21),f(11," Titre de la maraude * "),c(),u(12,"input",22),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.title,i)||(o.maraudeData.title=i),T(i)}),c()(),u(13,"div")(14,"label",23),f(15," Description "),c(),u(16,"textarea",24),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.description,i)||(o.maraudeData.description=i),T(i)}),c()()()(),u(17,"div",17)(18,"h2",18),f(19,"Planning"),c(),u(20,"div",25)(21,"label",26),f(22,"Type de maraude"),c(),u(23,"div",27)(24,"label",28)(25,"input",29),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.isRecurring,i)||(o.maraudeData.isRecurring=i),T(i)}),M("change",function(){S(t);let i=v();return T(i.onRecurringChange())}),c(),u(26,"span",30),f(27,"R\xE9currente (chaque semaine)"),c()(),u(28,"label",28)(29,"input",29),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.isRecurring,i)||(o.maraudeData.isRecurring=i),T(i)}),M("change",function(){S(t);let i=v();return T(i.onRecurringChange())}),c(),u(30,"span",30),f(31,"Ponctuelle (une seule fois)"),c()()()(),u(32,"div",31),w(33,ZI,5,2,"div",32)(34,QI,4,1,"div",32),u(35,"div")(36,"label",33),f(37," Heure de d\xE9but * "),c(),u(38,"input",34),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.startTime,i)||(o.maraudeData.startTime=i),T(i)}),c()(),u(39,"div")(40,"label",35),f(41," Heure de fin "),c(),u(42,"input",36),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.endTime,i)||(o.maraudeData.endTime=i),T(i)}),c()()()(),u(43,"div",17)(44,"h2",18),f(45,"Point de d\xE9part"),c(),u(46,"div",20)(47,"div")(48,"label",37),f(49," Adresse de d\xE9part "),c(),u(50,"div",38)(51,"input",39),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.startAddress,i)||(o.maraudeData.startAddress=i),T(i)}),c(),u(52,"button",40),M("click",function(){S(t);let i=v();return T(i.getCurrentLocation())}),F(),u(53,"svg",41),C(54,"path",42)(55,"path",43),c()(),H(),u(56,"button",44),M("click",function(){S(t);let i=v();return T(i.toggleStartPointMode())}),F(),u(57,"svg",41),C(58,"path",45),c(),f(59),c()(),w(60,YI,4,0,"p",46),c(),H(),u(61,"div",47)(62,"div")(63,"label",48),f(64," Latitude * "),c(),u(65,"input",49),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.startLatitude,i)||(o.maraudeData.startLatitude=i),T(i)}),c()(),u(66,"div")(67,"label",50),f(68," Longitude * "),c(),u(69,"input",51),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.startLongitude,i)||(o.maraudeData.startLongitude=i),T(i)}),c()()()()(),u(70,"div",17)(71,"h2",18),f(72,"Points d'\xE9tape du parcours"),c(),u(73,"div",52)(74,"div",53)(75,"div",54)(76,"span",55)(77,"strong"),f(78),c(),f(79," points au total "),c(),w(80,KI,4,1,"span",56)(81,JI,4,1,"span",56),c()()(),w(82,eS,2,2,"div",57),u(83,"div",58)(84,"p",59),f(85," \u{1F4A1} "),u(86,"strong"),f(87,"Comment planifier votre parcours :"),c(),C(88,"br"),f(89," \u2022 "),u(90,"strong"),f(91,"Point de d\xE9part :"),c(),f(92,' Utilisez le bouton "Carte" pour d\xE9finir le point de d\xE9part en cliquant sur la carte'),C(93,"br"),f(94," \u2022 "),u(95,"strong"),f(96,"Points d'\xE9tape :"),c(),f(97," Cliquez directement sur la carte pour ajouter des points d'\xE9tape"),C(98,"br"),f(99," \u2022 "),u(100,"strong"),f(101,"Organisation :"),c(),f(102," R\xE9organisez les points avec les fl\xE8ches ou supprimez-les si n\xE9cessaire "),c(),w(103,tS,3,0,"div",60),c()(),u(104,"div",61)(105,"h2",18),f(106,"Informations compl\xE9mentaires"),c(),u(107,"div",20)(108,"div")(109,"label",62),f(110," Nombre de b\xE9n\xE9voles pr\xE9vus "),c(),u(111,"input",63),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.participantsCount,i)||(o.maraudeData.participantsCount=i),T(i)}),c()(),u(112,"div")(113,"label",64),f(114," Notes "),c(),u(115,"textarea",65),se("ngModelChange",function(i){S(t);let o=v();return ae(o.maraudeData.notes,i)||(o.maraudeData.notes=i),T(i)}),c()()()(),u(116,"div",66),w(117,iS,4,3,"div",32)(118,oS,1,0,"div",32),u(119,"div",67)(120,"button",68),M("click",function(){S(t);let i=v();return T(i.goBack())}),f(121," Annuler "),c(),u(122,"button",69),w(123,sS,5,0,"span",70)(124,aS,2,1,"span",32),c()()()()(),u(125,"div",71)(126,"h2",18),f(127,"Planification du parcours"),c(),u(128,"div",72),C(129,"div",73,0),w(131,lS,5,0,"div",74),c(),u(132,"div",75)(133,"h3",76),f(134,"Instructions :"),c(),u(135,"ul",77)(136,"li"),f(137,'\u{1F3C1} Le point de d\xE9part est marqu\xE9 par un drapeau (utilisez le bouton "Carte" pour le d\xE9finir)'),c(),u(138,"li"),f(139,"\u{1F3AF} Cliquez sur la carte pour ajouter des points d'\xE9tape"),c(),u(140,"li"),f(141,"\u{1F4CD} Les points sont num\xE9rot\xE9s dans l'ordre du parcours"),c(),u(142,"li"),f(143,"\u{1F5FA}\uFE0F Une ligne bleue montre le parcours pr\xE9vu"),c(),u(144,"li"),f(145,"\u270F\uFE0F Utilisez la liste de gauche pour r\xE9organiser les points"),c()(),w(146,cS,3,0,"div",78),c()()()}if(e&2){let t=v();p(3),g("ngIf",t.error),p(4),g("ngIf",t.isAdmin),p(5),oe("ngModel",t.maraudeData.title),p(4),oe("ngModel",t.maraudeData.description),p(9),oe("ngModel",t.maraudeData.isRecurring),g("value",!0),p(4),oe("ngModel",t.maraudeData.isRecurring),g("value",!1),p(4),g("ngIf",t.maraudeData.isRecurring),p(),g("ngIf",!t.maraudeData.isRecurring),p(4),oe("ngModel",t.maraudeData.startTime),p(4),oe("ngModel",t.maraudeData.endTime),p(9),oe("ngModel",t.maraudeData.startAddress),p(5),xr(t.isSettingStartPoint?"inline-flex items-center px-3 py-2 border border-l-0 border-red-300 bg-red-50 text-red-600 text-sm hover:bg-red-100 rounded-r-md":"inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 bg-blue-50 text-blue-600 text-sm hover:bg-blue-100 rounded-r-md"),p(3),A(" ",t.isSettingStartPoint?"Annuler":"Carte"," "),p(),g("ngIf",t.isSettingStartPoint),p(5),oe("ngModel",t.maraudeData.startLatitude),p(4),oe("ngModel",t.maraudeData.startLongitude),p(9),ie(t.maraudeData.waypoints.length+1),p(2),g("ngIf",t.maraudeData.estimatedDistance>0),p(),g("ngIf",t.maraudeData.estimatedDuration>0),p(),g("ngIf",t.maraudeData.waypoints.length>0),p(21),g("ngIf",t.isSettingStartPoint),p(8),oe("ngModel",t.maraudeData.participantsCount),p(4),oe("ngModel",t.maraudeData.notes),p(2),g("ngIf",t.isEditing&&t.canDelete()),p(),g("ngIf",!t.isEditing||!t.canDelete()),p(2),g("disabled",t.saving||t.deleting),p(2),g("disabled",t.saving||t.deleting),p(),g("ngIf",t.saving),p(),g("ngIf",!t.saving),p(7),g("ngIf",!t.isMapReady),p(15),g("ngIf",t.isSettingStartPoint)}}var Ho=class e{constructor(n,t,r,i){this.authService=n;this.apiService=t;this.router=r;this.route=i}mapContainer;currentUser=null;isEditing=!1;maraudeId=null;loading=!1;saving=!1;deleting=!1;error="";isAdmin=!1;associations=[];loadingAssociations=!1;map=null;markers=[];routePolyline=null;isMapReady=!1;isSettingStartPoint=!1;maraudeData={title:"",description:"",startLatitude:44.825674,startLongitude:-.556708,startAddress:"",waypoints:[],estimatedDistance:0,estimatedDuration:0,isRecurring:!0,dayOfWeek:1,scheduledDate:"",startTime:"",endTime:"",participantsCount:0,notes:"",associationId:""};daysOfWeek=[{value:1,name:"Lundi",short:"Lun"},{value:2,name:"Mardi",short:"Mar"},{value:3,name:"Mercredi",short:"Mer"},{value:4,name:"Jeudi",short:"Jeu"},{value:5,name:"Vendredi",short:"Ven"},{value:6,name:"Samedi",short:"Sam"},{value:7,name:"Dimanche",short:"Dim"}];normalizeWaypoints(n){try{if(Array.isArray(n))return n;if(typeof n=="string"){let t=JSON.parse(n);return Array.isArray(t)?t:[]}return[]}catch{return[]}}getLeaflet(){return ee(this,null,function*(){let n=yield import("./chunk-LD4LOLAU.js");return n.default??n})}ngOnInit(){return ee(this,null,function*(){if(this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.router.navigate(["/login"]);return}this.isAdmin=this.currentUser.role==="admin",this.isAdmin?yield this.loadAssociations():this.maraudeData.associationId=this.currentUser.associationId||"",this.route.params.subscribe(n=>{n.id&&(this.isEditing=!0,this.maraudeId=n.id,this.loadMaraudeData())})})}ngAfterViewInit(){setTimeout(()=>{this.loadMap()},100)}loadAssociations(){return ee(this,null,function*(){this.loadingAssociations=!0;try{let n=yield xe(this.apiService.getAssociations({active:"true",limit:100}));this.associations=n.associations,this.associations.length===1&&!this.isEditing&&(this.maraudeData.associationId=this.associations[0].id)}catch(n){console.error("Error loading associations:",n),this.error="Erreur lors du chargement des associations"}finally{this.loadingAssociations=!1}})}loadMap(){return ee(this,null,function*(){try{if(!this.mapContainer?.nativeElement){console.error("Map container not found"),this.error="Erreur lors de l'initialisation de la carte";return}let n=yield this.getLeaflet();this.map=n.map(this.mapContainer.nativeElement).setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13),n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors"}).addTo(this.map),this.map.on("click",t=>{this.isSettingStartPoint?this.setStartPoint(t.latlng.lat,t.latlng.lng):this.addWaypoint(t.latlng.lat,t.latlng.lng)}),this.map.on("popupopen",t=>{let r=t?.popup?.getElement?.();if(!r)return;let i=r.querySelector('[data-action="edit-start"]');i&&i.addEventListener("click",()=>this.toggleStartPointMode(),{once:!0}),r.querySelectorAll('[data-action="remove-waypoint"]').forEach(o=>{let s=o.getAttribute("data-id");s&&o.addEventListener("click",()=>this.removeWaypoint(s),{once:!0})})}),this.isMapReady=!0,((this.maraudeData.waypoints?.length??0)>0||this.isEditing)&&(this.updateMapMarkers(),this.centerMapOnRoute())}catch(n){console.error("Error loading map:",n),this.error="Erreur lors du chargement de la carte"}})}loadMaraudeData(){return ee(this,null,function*(){if(this.maraudeId){this.loading=!0;try{let t=(yield xe(this.apiService.getMaraude(this.maraudeId))).action,r=this.normalizeWaypoints(t.waypoints);this.maraudeData={title:t.title??"",description:t.description||"",startLatitude:t.startLatitude??44.825674,startLongitude:t.startLongitude??-.556708,startAddress:t.startAddress||"",waypoints:r,estimatedDistance:t.estimatedDistance||0,estimatedDuration:t.estimatedDuration||0,isRecurring:!!t.isRecurring,dayOfWeek:t.dayOfWeek||1,scheduledDate:t.scheduledDate?t.scheduledDate instanceof Date?t.scheduledDate.toISOString().split("T")[0]:t.scheduledDate:"",startTime:t.startTime||"",endTime:t.endTime||"",participantsCount:t.participantsCount||0,notes:t.notes||"",associationId:t.associationId},this.isMapReady&&(this.updateMapMarkers(),this.centerMapOnRoute())}catch(n){console.error("Erreur lors du chargement de la maraude:",n),this.error="Erreur lors du chargement des donn\xE9es de la maraude"}finally{this.loading=!1}}})}setStartPoint(n,t,r){return ee(this,null,function*(){if(this.maraudeData.startLatitude=n,this.maraudeData.startLongitude=t,r)this.maraudeData.startAddress=r;else try{let o=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?lat=${n}&lon=${t}&format=json`)).json();o?.display_name?this.maraudeData.startAddress=o.display_name:this.maraudeData.startAddress=`${n.toFixed(6)}, ${t.toFixed(6)}`}catch(i){console.error("Error reverse geocoding start point:",i),this.maraudeData.startAddress=`${n.toFixed(6)}, ${t.toFixed(6)}`}this.isSettingStartPoint=!1,this.updateMapMarkers(),this.calculateRoute()})}toggleStartPointMode(){this.isSettingStartPoint=!this.isSettingStartPoint}addWaypoint(n,t,r,i){let o={id:Date.now().toString(),latitude:n,longitude:t,address:r||`${n.toFixed(6)}, ${t.toFixed(6)}`,name:i||`Point ${this.maraudeData.waypoints.length+1}`,order:this.maraudeData.waypoints.length};this.maraudeData.waypoints.push(o),this.updateMapMarkers(),this.calculateRoute(),this.reverseGeocodeWaypoint(o)}removeWaypoint(n){this.maraudeData.waypoints=this.maraudeData.waypoints.filter(t=>t.id!==n),this.maraudeData.waypoints.forEach((t,r)=>{t.order=r}),this.updateMapMarkers(),this.calculateRoute()}moveWaypoint(n,t){let r=this.maraudeData.waypoints.findIndex(o=>o.id===n);if(r===-1)return;let i=t==="up"?r-1:r+1;i<0||i>=this.maraudeData.waypoints.length||([this.maraudeData.waypoints[r],this.maraudeData.waypoints[i]]=[this.maraudeData.waypoints[i],this.maraudeData.waypoints[r]],this.maraudeData.waypoints.forEach((o,s)=>{o.order=s}),this.updateMapMarkers(),this.calculateRoute())}updateMapMarkers(){return ee(this,null,function*(){if(!this.map)return;this.markers.forEach(s=>this.map.removeLayer(s)),this.markers=[],this.routePolyline&&(this.map.removeLayer(this.routePolyline),this.routePolyline=null);let n=yield this.getLeaflet(),t=this.isSettingStartPoint?"#EF4444":"#10B981",r=n.marker([this.maraudeData.startLatitude,this.maraudeData.startLongitude],{icon:n.divIcon({html:`
          <div style="position: relative; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
            <div style="position: absolute; width: 40px; height: 40px; background: ${t}; border: 3px solid white; border-radius: 50%; box-shadow: 0 4px 8px rgba(0,0,0,0.3); z-index: 1; ${this.isSettingStartPoint?"animation: pulse 1.5s infinite;":""}"></div>
            <div style="position: relative; font-size: 20px; z-index: 2; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">\u{1F3C1}</div>
          </div>
        `,className:"custom-start-marker",iconSize:[40,40],iconAnchor:[20,20]})}).addTo(this.map),i=this.isSettingStartPoint?`
        <div class="marker-popup">
          <strong style="color: #EF4444;">Mode: D\xE9finition du point de d\xE9part</strong><br>
          Cliquez sur la carte pour d\xE9finir le point de d\xE9part
        </div>
      `:`
        <div class="marker-popup">
          <strong>Point de d\xE9part</strong><br>
          ${this.maraudeData.startAddress||"Adresse non d\xE9finie"}
          <div class="popup-actions" style="margin-top: 8px;">
            <button data-action="edit-start" class="popup-btn popup-btn-primary" style="background: #3B82F6; color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 12px; cursor: pointer;">
              Modifier le point de d\xE9part
            </button>
          </div>
        </div>
      `;r.bindPopup(i),this.markers.push(r);let o=this.normalizeWaypoints(this.maraudeData.waypoints);o.forEach((s,a)=>{let l=n.marker([s.latitude,s.longitude],{icon:n.divIcon({html:`
            <div style="position: relative; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center;">
              <div style="position: absolute; width: 35px; height: 35px; background: #3B82F6; border: 3px solid white; border-radius: 50%; box-shadow: 0 4px 8px rgba(0,0,0,0.3); z-index: 1;"></div>
              <div style="position: relative; color: white; font-size: 14px; font-weight: bold; z-index: 2; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);">${a+1}</div>
            </div>
          `,className:"custom-waypoint-marker",iconSize:[35,35],iconAnchor:[17.5,17.5]})}).addTo(this.map);l.bindPopup(`
        <div class="marker-popup">
          <strong>${s.name??`Point ${a+1}`}</strong><br>
          ${s.address??`${s.latitude.toFixed(6)}, ${s.longitude.toFixed(6)}`}<br>
          <div class="popup-actions">
            <button data-action="remove-waypoint" data-id="${s.id}" class="popup-btn popup-btn-danger">
              Supprimer ce point
            </button>
          </div>
        </div>
      `),this.markers.push(l)}),o.length>0&&(yield this.drawRoute())})}calculateRoute(){return ee(this,null,function*(){let n=this.normalizeWaypoints(this.maraudeData.waypoints);if(n.length===0){this.maraudeData.estimatedDistance=0,this.maraudeData.estimatedDuration=0;return}try{let t=0,r={lat:this.maraudeData.startLatitude,lng:this.maraudeData.startLongitude};for(let i of n){let o=this.calculateDistance(r.lat,r.lng,i.latitude,i.longitude);t+=o,r={lat:i.latitude,lng:i.longitude}}this.maraudeData.estimatedDistance=Math.round(t*100)/100,this.maraudeData.estimatedDuration=Math.round(t*12),yield this.drawRoute()}catch(t){console.error("Error calculating route:",t)}})}drawRoute(){return ee(this,null,function*(){let n=this.normalizeWaypoints(this.maraudeData.waypoints);if(!this.map||n.length===0){this.routePolyline&&(this.map.removeLayer(this.routePolyline),this.routePolyline=null);return}let t=yield this.getLeaflet(),r=[[this.maraudeData.startLatitude,this.maraudeData.startLongitude],...n.map(i=>[i.latitude,i.longitude])];this.routePolyline&&(this.map.removeLayer(this.routePolyline),this.routePolyline=null),r.length>1&&(this.routePolyline=t.polyline(r,{color:"#3B82F6",weight:4,opacity:.7}).addTo(this.map))})}centerMapOnRoute(){if(!this.map)return;let n=this.normalizeWaypoints(this.maraudeData.waypoints),t=[[this.maraudeData.startLatitude,this.maraudeData.startLongitude],...n.map(r=>[r.latitude,r.longitude])];t.length>1?this.map.fitBounds(t,{padding:[20,20]}):this.map.setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13)}calculateDistance(n,t,r,i){let s=(r-n)*Math.PI/180,a=(i-t)*Math.PI/180,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}reverseGeocodeWaypoint(n){return ee(this,null,function*(){try{let r=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?lat=${n.latitude}&lon=${n.longitude}&format=json`)).json();r?.display_name&&(n.address=r.display_name)}catch(t){console.error("Error reverse geocoding:",t)}})}onSubmit(){return ee(this,null,function*(){if(this.validateForm()){this.saving=!0,this.error="";try{let t=this.normalizeWaypoints(this.maraudeData.waypoints).map(i=>({id:i.id,latitude:i.latitude,longitude:i.longitude,address:i.address||"",name:i.name||"",order:i.order})),r={title:this.maraudeData.title,startLatitude:this.maraudeData.startLatitude,startLongitude:this.maraudeData.startLongitude,waypoints:t,estimatedDistance:this.maraudeData.estimatedDistance,estimatedDuration:this.maraudeData.estimatedDuration,isRecurring:this.maraudeData.isRecurring,startTime:this.maraudeData.startTime,participantsCount:this.maraudeData.participantsCount,description:this.maraudeData.description.trim()===""?void 0:this.maraudeData.description,startAddress:this.maraudeData.startAddress.trim()===""?void 0:this.maraudeData.startAddress,notes:this.maraudeData.notes.trim()===""?void 0:this.maraudeData.notes,endTime:this.maraudeData.endTime.trim()===""?void 0:this.maraudeData.endTime,dayOfWeek:this.maraudeData.isRecurring?this.maraudeData.dayOfWeek:void 0,scheduledDate:this.maraudeData.isRecurring?void 0:this.maraudeData.scheduledDate,latitude:this.maraudeData.startLatitude,longitude:this.maraudeData.startLongitude,address:this.maraudeData.startAddress};this.isAdmin&&this.maraudeData.associationId&&(r.associationId=this.maraudeData.associationId),console.log("\u{1F4E4} Submitting maraude with payload:",r),this.isEditing&&this.maraudeId?yield xe(this.apiService.updateMaraude(this.maraudeId,r)):yield xe(this.apiService.createMaraude(r)),this.router.navigate(["/dashboard"])}catch(n){console.error("Erreur lors de la sauvegarde:",n),this.error=n.error?.error||n.error?.message||"Erreur lors de la sauvegarde"}finally{this.saving=!1}}})}validateForm(){return this.error="",this.maraudeData.title.trim()?this.maraudeData.startTime?this.isAdmin&&!this.maraudeData.associationId?(this.error="Veuillez s\xE9lectionner une association",!1):this.maraudeData.isRecurring&&!this.maraudeData.dayOfWeek?(this.error="Le jour de la semaine est requis pour les maraudes r\xE9currentes",!1):!this.maraudeData.isRecurring&&!this.maraudeData.scheduledDate?(this.error="La date est requise pour les maraudes ponctuelles",!1):!0:(this.error="L'heure de d\xE9but est requise",!1):(this.error="Le titre est requis",!1)}onRecurringChange(){this.maraudeData.isRecurring?(this.maraudeData.scheduledDate="",this.maraudeData.dayOfWeek||(this.maraudeData.dayOfWeek=1)):this.maraudeData.dayOfWeek=1}getCurrentLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(n=>{this.maraudeData.startLatitude=n.coords.latitude,this.maraudeData.startLongitude=n.coords.longitude,this.reverseGeocodeStart(),this.isMapReady&&(this.map.setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13),this.updateMapMarkers())},n=>{console.error("Erreur de g\xE9olocalisation:",n),alert("Impossible d'obtenir votre position.")})}reverseGeocodeStart(){return ee(this,null,function*(){try{let t=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?lat=${this.maraudeData.startLatitude}&lon=${this.maraudeData.startLongitude}&format=json`)).json();t?.display_name&&(this.maraudeData.startAddress=t.display_name)}catch(n){console.error("Error reverse geocoding:",n)}})}goBack(){this.router.navigate(["/dashboard"])}getDayName(n){let t=this.daysOfWeek.find(r=>r.value===n);return t?t.name:""}deleteMaraude(){return ee(this,null,function*(){if(!(!this.isEditing||!this.maraudeId||!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la maraude "${this.maraudeData.title}" ?

Cette action est irr\xE9versible.`))){this.deleting=!0,this.error="";try{yield xe(this.apiService.deleteMaraude(this.maraudeId)),this.router.navigate(["/dashboard"])}catch(t){console.error("Erreur lors de la suppression:",t),this.error=t.error?.error||"Erreur lors de la suppression de la maraude"}finally{this.deleting=!1}}})}canDelete(){return!this.isEditing||!this.currentUser?!1:["admin","coordinator"].includes(this.currentUser.role)}trackByWaypoint(n,t){return t.id}static \u0275fac=function(t){return new(t||e)(_(Ie),_(Nt),_(de),_(dt))};static \u0275cmp=ge({type:e,selectors:[["app-create-maraude"]],viewQuery:function(t,r){if(t&1&&_a(jI,5),t&2){let i;di(i=fi())&&(r.mapContainer=i.first)}},standalone:!0,features:[ve],decls:13,vars:4,consts:[["mapContainer",""],[1,"min-h-screen","bg-gray-50","py-8"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"inline-flex","items-center","text-sm","text-gray-500","hover:text-gray-700","mb-4",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],["class","flex justify-center py-12",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-2 gap-8",4,"ngIf"],[1,"flex","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-primary-600"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","shadow-sm","rounded-lg"],[1,"p-6","space-y-6",3,"ngSubmit"],["class","rounded-md bg-red-50 p-4",4,"ngIf"],[1,"border-b","border-gray-200","pb-6"],[1,"text-lg","font-medium","text-gray-900","mb-4"],["class","bg-blue-50 border-l-4 border-blue-400 p-6 mb-6",4,"ngIf"],[1,"grid","grid-cols-1","gap-6"],["for","title",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","title","name","title","required","","maxlength","100","placeholder","Ex: Maraude centre-ville",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","description",1,"block","text-sm","font-medium","text-gray-700"],["id","description","name","description","rows","3","placeholder","D\xE9crivez le parcours, les objectifs, etc.",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"flex","space-x-6"],[1,"flex","items-center"],["type","radio","name","isRecurring",1,"focus:ring-primary-500","h-4","w-4","text-primary-600","border-gray-300",3,"ngModelChange","change","ngModel","value"],[1,"ml-2","text-sm","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[4,"ngIf"],["for","startTime",1,"block","text-sm","font-medium","text-gray-700"],["type","time","id","startTime","name","startTime","required","",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","endTime",1,"block","text-sm","font-medium","text-gray-700"],["type","time","id","endTime","name","endTime",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","startAddress",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","flex","rounded-md","shadow-sm"],["type","text","id","startAddress","name","startAddress","placeholder","Point de d\xE9part de la maraude",1,"flex-1","block","w-full","border-gray-300","rounded-l-md","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-l-0","border-gray-300","bg-gray-50","text-gray-500","text-sm","hover:bg-gray-100",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["type","button","title","Cliquer pour d\xE9finir le point de d\xE9part sur la carte",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"],["class","mt-1 text-xs text-gray-500",4,"ngIf"],[1,"grid","grid-cols-2","gap-4"],["for","startLatitude",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","startLatitude","name","startLatitude","step","0.000001","min","-90","max","90","required","",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","startLongitude",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","startLongitude","name","startLongitude","step","0.000001","min","-180","max","180","required","",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"bg-blue-50","p-4","rounded-lg","mb-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4","text-sm"],[1,"text-blue-700"],["class","text-blue-700",4,"ngIf"],["class","space-y-3",4,"ngIf"],[1,"mt-4","p-4","bg-gray-50","rounded-lg"],[1,"text-sm","text-gray-600"],["class","mt-2 text-xs text-gray-500",4,"ngIf"],[1,"pb-6"],["for","participantsCount",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","participantsCount","name","participantsCount","min","0",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","notes",1,"block","text-sm","font-medium","text-gray-700"],["id","notes","name","notes","rows","3","placeholder","Informations compl\xE9mentaires, consignes particuli\xE8res...",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-between","pt-6","border-t","border-gray-200"],[1,"flex","space-x-3"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","inline-flex items-center",4,"ngIf"],[1,"bg-white","shadow-sm","rounded-lg","p-6"],[1,"relative"],[1,"w-full","h-96","rounded-lg","border","border-gray-300","bg-gray-100"],["class","absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",4,"ngIf"],[1,"mt-4","p-4","bg-blue-50","rounded-lg"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-700","space-y-1"],["class","mt-3 p-2 bg-white rounded border-l-4 border-blue-400",4,"ngIf"],[1,"rounded-md","bg-red-50","p-4"],[1,"text-sm","text-red-700"],[1,"bg-blue-50","border-l-4","border-blue-400","p-6","mb-6"],[1,"flex","items-start"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-blue-400"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3","flex-1"],[1,"text-sm","font-medium","text-blue-800","mb-2"],["class","text-sm text-blue-700",4,"ngIf"],[1,"text-sm","text-blue-700"],["for","associationSelect",1,"block","text-sm","font-medium","text-blue-700","mb-1"],["id","associationSelect","name","associationId","required","",1,"block","w-full","max-w-md","border-blue-300","rounded-md","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","dayOfWeek",1,"block","text-sm","font-medium","text-gray-700"],["id","dayOfWeek","name","dayOfWeek",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","scheduledDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","scheduledDate","name","scheduledDate",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-1","text-xs","text-gray-500"],[1,"text-red-600","font-medium"],[1,"space-y-3"],["class","flex items-center justify-between p-3 border border-gray-200 rounded-lg",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","justify-between","p-3","border","border-gray-200","rounded-lg"],[1,"flex","items-center","space-x-3"],[1,"flex-shrink-0","w-8","h-8","bg-primary-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"flex","items-center","space-x-2"],["type","button",1,"p-1","text-gray-400","hover:text-gray-600","disabled:opacity-50",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["type","button",1,"p-1","text-red-400","hover:text-red-600",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"mt-2","text-xs","text-gray-500"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"inline-flex","items-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-gray-100","rounded-lg"],[1,"text-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-primary-600","mx-auto","mb-2"],[1,"mt-3","p-2","bg-white","rounded","border-l-4","border-blue-400"],[1,"text-sm","text-blue-800","font-medium"]],template:function(t,r){t&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),M("click",function(){return r.goBack()}),F(),u(4,"svg",5),C(5,"path",6),c(),f(6," Retour au dashboard "),c(),H(),u(7,"h1",7),f(8),c(),u(9,"p",8),f(10),c()(),w(11,UI,2,0,"div",9)(12,uS,147,34,"div",10),c()()),t&2&&(p(8),A(" ",r.isEditing?"Modifier la maraude":"Cr\xE9er une nouvelle maraude"," "),p(2),A(" ",r.isEditing?"Modifiez le parcours et les informations de votre maraude":"Planifiez une nouvelle maraude avec son parcours"," "),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[_e,ut,Le,ln,nr,Pi,Fi,on,jo,rr,Af,an,tr,kr,Of,Uo,Rf,En,Or],styles:[".btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:.375rem;border-width:1px;border-color:transparent;padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.btn-primary[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.btn-secondary[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.btn-secondary[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.btn-danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-danger[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.btn-danger[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}#mapContainer[_ngcontent-%COMP%]{min-height:400px}.custom-start-marker[_ngcontent-%COMP%], .custom-waypoint-marker[_ngcontent-%COMP%]{background:transparent;border:none}.start-marker-container[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.start-marker-circle[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;background:#10b981;border:3px solid white;border-radius:50%;box-shadow:0 4px 8px #0000004d;z-index:1}.start-marker-flag[_ngcontent-%COMP%]{position:relative;font-size:20px;z-index:2;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.waypoint-marker-container[_ngcontent-%COMP%]{position:relative;width:35px;height:35px;display:flex;align-items:center;justify-content:center}.waypoint-marker-circle[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;background:#3b82f6;border:3px solid white;border-radius:50%;box-shadow:0 4px 8px #0000004d;z-index:1}.waypoint-marker-number[_ngcontent-%COMP%]{position:relative;color:#fff;font-size:14px;font-weight:700;z-index:2;text-shadow:1px 1px 2px rgba(0,0,0,.7)}.marker-popup[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,sans-serif;font-size:13px;line-height:1.4}.popup-actions[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.popup-btn[_ngcontent-%COMP%]{padding:4px 8px;border:none;border-radius:4px;font-size:11px;font-weight:500;cursor:pointer;transition:background-color .2s}.popup-btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.popup-btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}input[type=radio][_ngcontent-%COMP%]:checked{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.waypoint-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.waypoint-item[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.route-summary[_ngcontent-%COMP%], .map-instructions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ebf8ff,#bee3f8)}@media (max-width: 1024px){.lg\\\\[_ngcontent-%COMP%]:grid-cols-2{grid-template-columns:1fr}#mapContainer[_ngcontent-%COMP%]{min-height:300px}}.btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 6px #0000001a}.error-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fecaca)}.success-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#bbf7d0)}"]})};var Mn=(e,n)=>{let t=D(Ie),r=D(de);return t.isLoggedIn()?!0:(r.navigate(["/login"]),!1)};var sy=[{value:1,name:"Lundi",shortName:"Lun"},{value:2,name:"Mardi",shortName:"Mar"},{value:3,name:"Mercredi",shortName:"Mer"},{value:4,name:"Jeudi",shortName:"Jeu"},{value:5,name:"Vendredi",shortName:"Ven"},{value:6,name:"Samedi",shortName:"Sam"},{value:7,name:"Dimanche",shortName:"Dim"}];function dS(e,n){e&1&&C(0,"div",27)}function fS(e,n){if(e&1){let t=Q();u(0,"button",25),M("click",function(){let i=S(t).$implicit,o=v();return T(o.toggleDay(i.value))}),f(1),w(2,dS,1,0,"div",26),c()}if(e&2){let t=n.$implicit,r=v();mt("bg-blue-600",r.isSelected(t.value))("border-blue-600",r.isSelected(t.value))("text-white",r.isSelected(t.value))("shadow-md",r.isSelected(t.value))("bg-white",!r.isSelected(t.value))("border-gray-200",!r.isSelected(t.value))("text-gray-700",!r.isSelected(t.value))("hover:border-blue-300",!r.isSelected(t.value))("hover:bg-blue-50",!r.isSelected(t.value))("hover:shadow-sm",!r.isSelected(t.value)),tn("aria-pressed",r.isSelected(t.value))("title",t.name),p(),A(" ",r.shortLabel(t.value)," "),p(),g("ngIf",r.isSelected(t.value))}}var Al=class e{filtersChanged=new me;days=sy;dayNameByValue=new Map(this.days.map(n=>[n.value,n.name]));getTodayNumber(){let n=new Date().getDay();return n===0?7:n}filters={showMaraudes:!0,showMerchants:!0,maraudeStatus:"",merchantCategory:"",radius:10,selectedDays:[this.getTodayNumber()]};shortLabel(n){switch(n){case 1:return"L";case 2:return"Ma";case 3:return"Me";case 4:return"Je";case 5:return"Ve";case 6:return"Sa";case 7:return"Di";default:return""}}isSelected(n){return this.filters.selectedDays.includes(n)}toggleDay(n){let t=this.filters.selectedDays.indexOf(n);t>=0?this.filters.selectedDays.splice(t,1):(this.filters.selectedDays.push(n),this.filters.selectedDays.sort((r,i)=>r-i)),this.emit()}selectAllDays(){this.filters.selectedDays=[1,2,3,4,5,6,7],this.emit()}clearDays(){this.filters.selectedDays=[],this.emit()}selectToday(){this.filters.selectedDays=[this.getTodayNumber()],this.emit()}emit(){this.filtersChanged.emit(z(E({},this.filters),{selectedDays:[...this.filters.selectedDays]}))}get selectedDaysLabel(){let n=this.filters?.selectedDays??[];return n.length===0?"Tous les jours":n.map(t=>this.dayNameByValue.get(t)??`Jour ${t}`).join(", ")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-filter-panel"]],outputs:{filtersChanged:"filtersChanged"},standalone:!0,features:[ve],decls:40,vars:8,consts:[[1,"bg-white","shadow-lg","rounded-xl","p-6","border","border-gray-100"],[1,"text-xl","font-bold","text-gray-900","mb-6","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"mb-6"],[1,"text-sm","font-semibold","text-gray-800","mb-3","block"],[1,"grid","grid-cols-7","gap-1","mb-3"],["type","button","class","relative h-10 text-sm font-medium rounded-lg border-2 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",3,"bg-blue-600","border-blue-600","text-white","shadow-md","bg-white","border-gray-200","text-gray-700","hover:border-blue-300","hover:bg-blue-50","hover:shadow-sm","click",4,"ngFor","ngForOf"],[1,"bg-gray-50","rounded-lg","p-3"],[1,"text-xs","text-gray-600","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1.5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"font-medium"],[1,"ml-1"],[1,"pt-4","border-t","border-gray-200"],[1,"text-sm","font-semibold","text-gray-800","mb-4"],[1,"space-y-3"],[1,"flex","items-start","p-4","rounded-lg","border","border-gray-200","hover:bg-gray-50","hover:border-gray-300","cursor-pointer","transition-all","duration-200"],["type","checkbox",1,"mt-0.5","rounded","border-gray-300","text-blue-600","focus:ring-blue-500","focus:ring-offset-0","h-4","w-4",3,"ngModelChange","ngModel"],[1,"ml-3","flex-1"],[1,"flex","items-center"],[1,"text-sm","font-medium","text-gray-900"],[1,"ml-2","w-3","h-3","bg-blue-600","rounded-full"],[1,"text-xs","text-gray-500","mt-1"],[1,"ml-2","w-3","h-3","bg-green-600","rounded-full"],["type","button",1,"relative","h-10","text-sm","font-medium","rounded-lg","border-2","transition-all","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-1",3,"click"],["class","absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white",4,"ngIf"],[1,"absolute","-top-1","-right-1","w-3","h-3","bg-green-400","rounded-full","border-2","border-white"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"h3",1),F(),u(2,"svg",2),C(3,"path",3),c(),f(4," Filtres "),c(),H(),u(5,"div",4)(6,"label",5),f(7,"Jours de la semaine"),c(),u(8,"div",6),w(9,fS,3,24,"button",7),c(),u(10,"div",8)(11,"p",9),F(),u(12,"svg",10),C(13,"path",11),c(),H(),u(14,"span",12),f(15,"S\xE9lection:"),c(),u(16,"span",13),f(17),c()()()(),u(18,"div",14)(19,"h4",15),f(20,"Types d'\xE9tablissements"),c(),u(21,"div",16)(22,"label",17)(23,"input",18),se("ngModelChange",function(o){return ae(r.filters.showMaraudes,o)||(r.filters.showMaraudes=o),o}),M("ngModelChange",function(){return r.emit()}),c(),u(24,"div",19)(25,"div",20)(26,"span",21),f(27,"Maraudes"),c(),C(28,"div",22),c(),u(29,"p",23),f(30,"Points de distribution alimentaire"),c()()(),u(31,"label",17)(32,"input",18),se("ngModelChange",function(o){return ae(r.filters.showMerchants,o)||(r.filters.showMerchants=o),o}),M("ngModelChange",function(){return r.emit()}),c(),u(33,"div",19)(34,"div",20)(35,"span",21),f(36,"Commerces"),c(),C(37,"div",24),c(),u(38,"p",23),f(39,"Partenaires solidaires"),c()()()()()()),t&2&&(p(9),g("ngForOf",r.days),p(7),mt("text-blue-600",r.filters.selectedDays.length>0)("font-medium",r.filters.selectedDays.length>0),p(),A(" ",r.selectedDaysLabel," "),p(6),oe("ngModel",r.filters.showMaraudes),p(9),oe("ngModel",r.filters.showMerchants))},dependencies:[_e,ut,Le,ln,Rr,an,En],styles:[".input-select[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.input-select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1)) }.range-slider[_ngcontent-%COMP%]{height:.5rem;width:100%;cursor:pointer;appearance:none;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.range-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{height:1rem;width:1rem;cursor:pointer;appearance:none;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}"]})};function pS(e,n){e&1&&(u(0,"span",15),f(1," Aujourd'hui "),c())}function hS(e,n){if(e&1&&(u(0,"p",16),f(1),c()),e&2){let t=v();p(),A(" ",t.maraude.description," ")}}function mS(e,n){if(e&1&&(u(0,"div",8),F(),u(1,"svg",9),C(2,"path",17),c(),f(3),c()),e&2){let t=v();p(3),Ee(" Tous les ",t.maraude.dayName,"s \xE0 ",t.maraude.startTime," ")}}function gS(e,n){if(e&1&&(u(0,"div",8),F(),u(1,"svg",9),C(2,"path",17),c(),f(3),Er(4,"date"),c()),e&2){let t=v();p(3),Ee(" ",eo(4,2,t.maraude.scheduledDate,"dd/MM/yyyy")," \xE0 ",t.maraude.startTime," ")}}function vS(e,n){if(e&1&&(u(0,"div",8),F(),u(1,"svg",9),C(2,"path",18),c(),f(3),Er(4,"date"),c()),e&2){let t=v();p(3),A(" Prochaine: ",eo(4,1,t.maraude.nextOccurrence,"dd/MM/yyyy")," ")}}function yS(e,n){if(e&1&&(u(0,"span",19),f(1),c()),e&2){let t=v();p(),A(" \u2022 ",t.maraude.beneficiariesHelped," personnes aid\xE9es ")}}function bS(e,n){if(e&1&&(u(0,"div",8),F(),u(1,"svg",9),C(2,"path",20),c(),f(3),c()),e&2){let t=v();p(3),A(" ",t.maraude.association.name," ")}}var Nl=class e{maraude;getStatusClass(){switch(this.maraude.status){case"planned":return"status-planned";case"in_progress":return"status-progress";case"completed":return"status-completed";case"cancelled":return"status-cancelled";default:return"status-default"}}getStatusText(){switch(this.maraude.status){case"planned":return"Planifi\xE9e";case"in_progress":return"En cours";case"completed":return"Termin\xE9e";case"cancelled":return"Annul\xE9e";default:return"Inconnu"}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-maraude-card"]],inputs:{maraude:"maraude"},standalone:!0,features:[ve],decls:24,vars:12,consts:[[1,"card","p-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-lg","font-semibold","text-gray-800"],[1,"flex","items-center","space-x-2"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],["class","px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium animate-pulse",4,"ngIf"],["class","text-gray-600 text-sm mb-3",4,"ngIf"],[1,"space-y-2","text-sm","text-gray-600"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["class","flex items-center",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],["class","ml-2",4,"ngIf"],[1,"px-2","py-1","bg-orange-100","text-orange-800","rounded-full","text-xs","font-medium","animate-pulse"],[1,"text-gray-600","text-sm","mb-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"h4",2),f(3),c(),u(4,"div",3)(5,"span",4),f(6),c(),w(7,pS,2,0,"span",5),c()(),w(8,hS,2,1,"p",6),u(9,"div",7)(10,"div",8),F(),u(11,"svg",9),C(12,"path",10)(13,"path",11),c(),f(14),c(),w(15,mS,4,2,"div",12)(16,gS,5,5,"div",12)(17,vS,5,4,"div",12),H(),u(18,"div",8),F(),u(19,"svg",9),C(20,"path",13),c(),f(21),w(22,yS,2,1,"span",14),c(),w(23,bS,4,1,"div",12),c()()),t&2&&(p(3),ie(r.maraude.title),p(2),g("ngClass",r.getStatusClass()),p(),A(" ",r.getStatusText()," "),p(),g("ngIf",r.maraude.isHappeningToday),p(),g("ngIf",r.maraude.description),p(6),A(" ",r.maraude.address," "),p(),g("ngIf",r.maraude.isRecurring),p(),g("ngIf",!r.maraude.isRecurring&&r.maraude.scheduledDate),p(),g("ngIf",r.maraude.isRecurring&&r.maraude.nextOccurrence),p(4),A(" ",r.maraude.participantsCount," b\xE9n\xE9voles "),p(),g("ngIf",r.maraude.beneficiariesHelped>0),p(),g("ngIf",r.maraude.association))},dependencies:[ln,_e,La,Le,Va],styles:[".card[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.icon[_ngcontent-%COMP%]{height:1rem;width:1rem}.status-planned[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.status-progress[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(154 52 18 / var(--tw-text-opacity, 1))}.status-completed[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.status-cancelled[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.status-default[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}"]})};var be=dy(fy());var zo=class e{maraudes=[];merchants=[];filters={};map;maraudeMarkers=new be.LayerGroup;merchantMarkers=new be.LayerGroup;maraudePaths=new be.LayerGroup;defaultCenter=[44.8378,-.5792];defaultZoom=12;ngOnInit(){this.fixLeafletIcons()}ngAfterViewInit(){this.initializeMap(),this.updateMarkers()}ngOnDestroy(){this.map&&this.map.remove()}fixLeafletIcons(){delete be.Icon.Default.prototype._getIconUrl,be.Icon.Default.mergeOptions({iconRetinaUrl:"assets/marker-icon-2x.png",iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"})}initializeMap(){this.map=be.map("map",{center:this.defaultCenter,zoom:this.defaultZoom,zoomControl:!1}),be.control.zoom({position:"bottomright"}).addTo(this.map),be.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"\xA9 OpenStreetMap \xA9 CartoDB",subdomains:"abcd",maxZoom:19}).addTo(this.map),this.maraudePaths.addTo(this.map),this.maraudeMarkers.addTo(this.map),this.merchantMarkers.addTo(this.map)}updateMarkers(){this.clearMarkers(),this.filters.showMaraudes&&(this.addMaraudeMarkers(),this.addMaraudePaths()),this.filters.showMerchants&&this.addMerchantMarkers()}clearMarkers(){this.maraudeMarkers.clearLayers(),this.merchantMarkers.clearLayers(),this.maraudePaths.clearLayers()}addMaraudePaths(){this.maraudes.forEach(n=>{n.waypoints&&n.waypoints.length>0&&this.addMaraudePath(n)})}addMaraudePath(n){let t=this.generatePathColor(n.id),r=[],i=[Number(n.startLatitude),Number(n.startLongitude)];r.push(i),n.waypoints?.forEach(o=>{r.push([Number(o.latitude),Number(o.longitude)])}),r.length>1&&this.createRouteWithBuffer(r,t,n.title,n)}createRouteWithBuffer(n,t,r,i){let o=i.status==="in_progress"||i.isHappeningToday;for(let a=0;a<n.length-1;a++){let l=n[a],d=n[a+1],h=this.createSegmentBuffer(l,d,150),m=be.polygon(h,{color:t,fillColor:t,fillOpacity:o?.12:.08,opacity:o?.4:.25,weight:1,className:o?"blinking-path":""});m.bindPopup(`
        <div class="popup-content">
          <h3 class="popup-title">Zone de couverture</h3>
          <p class="popup-description">
            <strong>${r}</strong><br>
            Segment ${a+1} sur ${n.length-1}<br>
            Zone d'intervention approximative
            ${o?"<br><strong>\u{1F534} En cours ou aujourd'hui</strong>":""}
          </p>
        </div>
      `),this.maraudePaths.addLayer(m)}let s=be.polyline(n,{color:t,weight:o?4:3,opacity:o?1:.8,dashArray:"10, 5",className:o?"blinking-path":""});s.bindPopup(`
      <div class="popup-content">
        <h3 class="popup-title">Parcours de maraude</h3>
        <p class="popup-description">
          <strong>${r}</strong><br>
          ${n.length} points sur le parcours
          ${o?"<br><strong>\u{1F534} En cours ou aujourd'hui</strong>":""}
        </p>
      </div>
    `),this.maraudePaths.addLayer(s)}createSegmentBuffer(n,t,r){let o=n[0]*Math.PI/180,s=t[0]*Math.PI/180,a=(t[0]-n[0])*Math.PI/180,l=(t[1]-n[1])*Math.PI/180,d=Math.sin(l)*Math.cos(s),h=Math.cos(o)*Math.sin(s)-Math.sin(o)*Math.cos(s)*Math.cos(l),m=Math.atan2(d,h),b=m+Math.PI/2,y=m-Math.PI/2,x=r/6371e3*180/Math.PI,I=x*Math.cos(b),R=x*Math.sin(b)/Math.cos(o),j=x*Math.cos(y),we=x*Math.sin(y)/Math.cos(o);return[[n[0]+I,n[1]+R],[t[0]+I,t[1]+R],[t[0]+j,t[1]+we],[n[0]+j,n[1]+we]]}generatePathColor(n){let t=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#EC4899","#6366F1"],r=0;for(let o=0;o<n.length;o++){let s=n.charCodeAt(o);r=(r<<5)-r+s,r=r&r}let i=Math.abs(r)%t.length;return t[i]}addMaraudeMarkers(){this.maraudes.forEach(n=>{let t=this.generatePathColor(n.id),r=this.createMaraudeStartIcon(t),i=be.marker([Number(n.startLatitude),Number(n.startLongitude)],{icon:r}).bindPopup(this.createMaraudePopup(n));this.maraudeMarkers.addLayer(i),n.waypoints&&n.waypoints.length>0&&n.waypoints.forEach((o,s)=>{let a=this.createWaypointIcon(s+1,t),l=be.marker([Number(o.latitude),Number(o.longitude)],{icon:a}).bindPopup(this.createWaypointPopup(n,o,s));this.maraudeMarkers.addLayer(l)})})}createWaypointPopup(n,t,r){let i=this.getStatusText(n.status),o=this.getMaraudeColor(n.status);return`
    <div class="popup-content">
      <h3 class="popup-title">${n.title} - Point ${r+1}</h3>
      <div class="popup-status" style="background-color: ${o}">
        ${i}
      </div>
      <div class="popup-body">
        <p class="popup-description">${t.description||n.description||"Aucune description disponible"}</p>
        <div class="popup-details">
          <div class="popup-detail">
            <strong>\u{1F4CD}</strong> ${t.address||"Adresse non d\xE9finie"}
          </div>
          <div class="popup-detail">
            <strong>\u{1F3AF}</strong> Point ${r+1} sur ${n.waypoints?.length||0}
          </div>
          ${n.isHappeningToday?`
            <div class="popup-detail">
              <strong>\u{1F4C5}</strong> Aujourd'hui \xE0 ${n.startTime}
            </div>
          `:n.scheduledDate?`
            <div class="popup-detail">
              <strong>\u{1F4C5}</strong> ${new Date(n.scheduledDate).toLocaleDateString("fr-FR")} \xE0 ${n.startTime}
            </div>
          `:""}
          ${n.endTime?`
            <div class="popup-detail">
              <strong>\u23F0</strong> Fin pr\xE9vue: ${n.endTime}
            </div>
          `:""}
          <div class="popup-detail">
            <strong>\u{1F465}</strong> ${n.participantsCount} b\xE9n\xE9voles
          </div>
          ${n.beneficiariesHelped>0?`
            <div class="popup-detail">
              <strong>\u2764\uFE0F</strong> ${n.beneficiariesHelped} personnes aid\xE9es
            </div>
          `:""}
          <div class="popup-detail">
            <strong>\u{1F3E2}</strong> ${n.association?.name||"Association"}
          </div>
        </div>
      </div>
    </div>
  `}createMaraudeStartIcon(n){return be.divIcon({className:"custom-maraude-start-marker",html:`
        <div class="waypoint-marker" style="background-color: ${n}; border-color: ${n}">
          <span style="color: white; font-size: 16px;">\u{1F3C1}</span>
        </div>
      `,iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]})}createWaypointIcon(n,t){return be.divIcon({className:"custom-waypoint-marker",html:`
        <div class="waypoint-marker" style="background-color: ${t}; border-color: ${t}">
          <span style="color: white; font-weight: bold; font-size: 11px;">${n}</span>
        </div>
      `,iconSize:[24,24],iconAnchor:[12,12],popupAnchor:[0,-12]})}addMerchantMarkers(){this.merchants.forEach(n=>{let t=this.createMerchantIcon(n.category),r=be.marker([n.latitude,n.longitude],{icon:t}).bindPopup(this.createMerchantPopup(n));this.merchantMarkers.addLayer(r)})}createMaraudeIcon(n){let t=this.getMaraudeColor(n);return be.divIcon({className:"custom-maraude-marker",html:`
        <div class="marker-pin" style="background-color: ${t}">
          <div style="position: relative; font-size: 18px; color: white; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">\u{1F3C1}</div>
        </div>
        <div class="marker-pulse" style="background-color: ${t}"></div>
      `,iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]})}createMerchantIcon(n){let t=this.getMerchantIcon(n);return be.divIcon({className:"custom-merchant-marker",html:`
        <div class="marker-pin" style="background-color: #10b981">
          <svg class="marker-icon" viewBox="0 0 24 24" fill="white">
            ${t}
          </svg>
        </div>
      `,iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]})}getMaraudeColor(n){switch(n){case"planned":return"#3b82f6";case"in_progress":return"#f59e0b";case"completed":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}}getMerchantIcon(n){return{restaurant:'<path d="M8 22h8v-9l4.159-6.238A1 1 0 0019.414 5H4.586a1 1 0 00-.745 1.762L8 13v9z"/>',cafe:'<path d="M5 11h14v2a6 6 0 01-6 6H7a6 6 0 01-6-6v-2zm1-4V2h12v5M8 7v4m4-4v4m4-4v4"/>',bakery:'<path d="M6 2l3 6 3-6 3 6 3-6v18a2 2 0 01-2 2H8a2 2 0 01-2-2V2z"/>',pharmacy:'<path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l7-3 7 3z"/>',supermarket:'<path d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v3H2V5a1 1 0 011-1h4zM6 9v10a2 2 0 002 2h8a2 2 0 002-2V9H6z"/>',health_center:'<path d="M12 2l8 4v10.5c0 5.99-4.99 10.5-8 10.5s-8-4.51-8-10.5V6l8-4z"/>',laundromat:'<path d="M4 6h16v2H4V6zm0 5h16v6a2 2 0 01-2 2H6a2 2 0 01-2-2v-6z"/>',clothing_store:'<path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>',other:'<path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l7-3 7 3z"/>'}[n]||'<path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l7-3 7 3z"/>'}createMaraudePopup(n){let t=this.getStatusText(n.status),r=this.getMaraudeColor(n.status),i=n.isRecurring?`Tous les ${n.dayName}s \xE0 ${n.startTime}`:`${n.scheduledDate?new Date(n.scheduledDate).toLocaleDateString("fr-FR"):""} \xE0 ${n.startTime}`,o=n.waypoints&&n.waypoints.length>0?`
        <div class="popup-detail">
          <strong>\u{1F5FA}\uFE0F</strong> Parcours: ${n.waypoints.length+1} points
        </div>
        ${n.estimatedDistance?`
          <div class="popup-detail">
            <strong>\u{1F4CF}</strong> Distance estim\xE9e: ${n.estimatedDistance} km
          </div>
        `:""}
        ${n.estimatedDuration?`
          <div class="popup-detail">
            <strong>\u23F1\uFE0F</strong> Dur\xE9e estim\xE9e: ${n.estimatedDuration} min
          </div>
        `:""}
      `:"";return`
      <div class="popup-content">
        <div class="popup-header">
          <h3 class="popup-title">${n.title}</h3>
          <div style="display: flex; gap: 4px; flex-wrap: wrap;">
            <span class="popup-status" style="background-color: ${r}20; color: ${r}">
              ${t}
            </span>
            ${n.isHappeningToday?`<span class="popup-today" style="background-color: #f59e0b20; color: #f59e0b; padding: 2px 6px; border-radius: 4px; font-size: 11px;">Aujourd'hui</span>`:""}
          </div>
        </div>
        <div class="popup-body">
          <p class="popup-description">${n.description||""}</p>
          <div class="popup-details">
            <div class="popup-detail">
              <strong>\u{1F3C1}</strong> D\xE9part: ${n.address||n.startAddress||"Adresse de d\xE9part"}
            </div>
            <div class="popup-detail">
              <strong>\u{1F4C5}</strong> ${i}
            </div>
            ${n.endTime?`
              <div class="popup-detail">
                <strong>\u23F0</strong> Fin pr\xE9vue: ${n.endTime}
              </div>
            `:""}
            ${o}
            <div class="popup-detail">
              <strong>\u{1F465}</strong> ${n.participantsCount} b\xE9n\xE9voles
            </div>
            ${n.beneficiariesHelped>0?`
              <div class="popup-detail">
                <strong>\u2764\uFE0F</strong> ${n.beneficiariesHelped} personnes aid\xE9es
              </div>
            `:""}
            ${n.nextOccurrence&&n.isRecurring?`
              <div class="popup-detail">
                <strong>\u{1F504}</strong> Prochaine: ${new Date(n.nextOccurrence).toLocaleDateString("fr-FR")}
              </div>
            `:""}
            <div class="popup-detail">
              <strong>\u{1F3E2}</strong> ${n.association?.name||"Association"}
            </div>
          </div>
        </div>
      </div>
    `}createMerchantPopup(n){let t=n.services.map(r=>this.getServiceText(r)).join(", ");return`
      <div class="popup-content">
        <div class="popup-header">
          <h3 class="popup-title">${n.name}</h3>
          <span class="popup-category">${this.getCategoryText(n.category)}</span>
          ${n.isVerified?'<span class="popup-verified">\u2713 V\xE9rifi\xE9</span>':""}
        </div>
        <div class="popup-body">
          <p class="popup-description">${n.description||""}</p>
          <div class="popup-details">
            <div class="popup-detail">
              <strong>\u{1F4CD}</strong> ${n.address}
            </div>
            ${n.phone?`
              <div class="popup-detail">
                <strong>\u{1F4DE}</strong> ${n.phone}
              </div>
            `:""}
            ${t?`
              <div class="popup-detail">
                <strong>\u{1F3AF}</strong> ${t}
              </div>
            `:""}
            ${n.contactPerson?`
              <div class="popup-detail">
                <strong>\u{1F464}</strong> ${n.contactPerson}
              </div>
            `:""}
          </div>
          ${n.specialInstructions?`
            <div class="popup-instructions">
              <strong>\u2139\uFE0F Instructions:</strong> ${n.specialInstructions}
            </div>
          `:""}
        </div>
      </div>
    `}getStatusText(n){return{planned:"Planifi\xE9e",in_progress:"En cours",completed:"Termin\xE9e",cancelled:"Annul\xE9e"}[n]||n}getCategoryText(n){return{restaurant:"Restaurant",cafe:"Caf\xE9",bakery:"Boulangerie",pharmacy:"Pharmacie",supermarket:"Supermarch\xE9",health_center:"Centre de sant\xE9",laundromat:"Laverie",clothing_store:"Magasin de v\xEAtements",other:"Autre"}[n]||n}getServiceText(n){return{free_coffee:"Caf\xE9 gratuit",free_meal:"Repas gratuit",restroom:"Toilettes",wifi:"WiFi",phone_charging:"Recharge t\xE9l\xE9phone",hygiene_kit:"Kit hygi\xE8ne",first_aid:"Premiers secours",information:"Information",shower:"Douche",food_distribution:"Distribution alimentaire",medical_consultation:"Consultation m\xE9dicale"}[n]||n}updateMapData(n,t,r){this.maraudes=n,this.merchants=t,this.filters=r,this.updateMarkers()}centerOnLocation(n,t,r=15){this.map&&this.map.setView([n,t],r)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-map-view"]],inputs:{maraudes:"maraudes",merchants:"merchants",filters:"filters"},standalone:!0,features:[ve],decls:3,vars:0,consts:[[1,"map-container"],["id","map",1,"map"],[1,"map-controls"]],template:function(t,r){t&1&&(u(0,"div",0),C(1,"div",1)(2,"div",2),c())},dependencies:[_e],styles:[".map-container[_ngcontent-%COMP%]{position:relative;height:100%;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px -1px #0000001a}.map[_ngcontent-%COMP%]{height:100%;width:100%}.map-controls[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;z-index:1000}.map-legend[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:12px;box-shadow:0 2px 8px #0000001a;min-width:180px}.legend-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#374151;margin:0 0 8px}.legend-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#6b7280}.legend-marker[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.legend-marker.maraude-planned[_ngcontent-%COMP%]{background-color:#3b82f6}.legend-marker.maraude-progress[_ngcontent-%COMP%]{background-color:#f59e0b}.legend-marker.maraude-completed[_ngcontent-%COMP%], .legend-marker.merchant[_ngcontent-%COMP%]{background-color:#10b981}[_nghost-%COMP%]     .custom-maraude-marker, [_nghost-%COMP%]     .custom-merchant-marker, [_nghost-%COMP%]     .custom-waypoint-marker, [_nghost-%COMP%]     .custom-maraude-start-marker{background:transparent!important;border:none!important}[_nghost-%COMP%]     .custom-maraude-start-marker{animation:none!important}[_nghost-%COMP%]     .marker-pin{width:24px;height:24px;border-radius:50% 50% 50% 0;transform:rotate(-45deg);display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000004d;position:relative}[_nghost-%COMP%]     .marker-icon{width:14px;height:14px;transform:rotate(45deg)}[_nghost-%COMP%]     .marker-pulse{position:absolute;width:24px;height:24px;border-radius:50%;opacity:.6;animation:_ngcontent-%COMP%_pulse 2s infinite;top:0;left:0}[_nghost-%COMP%]     .waypoint-marker{width:24px;height:24px;border-radius:50%;border:2px solid white;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000004d;position:relative}[_nghost-%COMP%]     .leaflet-interactive{cursor:pointer}[_nghost-%COMP%]     .leaflet-container .leaflet-interactive:hover{opacity:.8}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:.6}50%{transform:scale(1.5);opacity:.3}to{transform:scale(2);opacity:0}}[_nghost-%COMP%]     .leaflet-popup-content{margin:0!important;width:280px!important;padding:16px!important}[_nghost-%COMP%]     .popup-content{font-family:Inter,system-ui,-apple-system,sans-serif;padding:0}[_nghost-%COMP%]     .popup-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:8px}[_nghost-%COMP%]     .popup-title{font-size:16px;font-weight:600;color:#111827;margin:0;line-height:1.3;flex:1}[_nghost-%COMP%]     .popup-status, [_nghost-%COMP%]     .popup-category{background:#f3f4f6;color:#374151;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:500;white-space:nowrap}[_nghost-%COMP%]     .popup-verified{background:#d1fae5;color:#065f46;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:500}[_nghost-%COMP%]     .popup-description{color:#6b7280;font-size:13px;margin:0 0 12px;line-height:1.5}[_nghost-%COMP%]     .popup-details{display:flex;flex-direction:column;gap:6px}[_nghost-%COMP%]     .popup-detail{font-size:13px;color:#374151;display:flex;align-items:flex-start;gap:8px;line-height:1.4}[_nghost-%COMP%]     .popup-instructions{margin-top:12px;padding:8px 10px;background:#fef3c7;border-radius:6px;font-size:12px;color:#92400e;line-height:1.4}[_nghost-%COMP%]     .leaflet-overlay-pane svg{pointer-events:auto}[_nghost-%COMP%]     .leaflet-overlay-pane path{pointer-events:auto}[_nghost-%COMP%]     .blinking-path{animation:_ngcontent-%COMP%_pathBlink 2s infinite}@keyframes _ngcontent-%COMP%_pathBlink{0%,50%{opacity:1}51%,to{opacity:.3}}[_nghost-%COMP%]     .leaflet-overlay-pane circle:hover{opacity:.8!important;fill-opacity:.2!important}[_nghost-%COMP%]     .leaflet-overlay-pane polyline:hover{opacity:.8!important;stroke-width:4!important}[_nghost-%COMP%]     .leaflet-overlay-pane .blinking-path:hover{animation:none!important;opacity:.9!important}@media (max-width: 768px){.map-controls[_ngcontent-%COMP%]{top:8px;left:8px}.map-legend[_ngcontent-%COMP%]{padding:8px;min-width:150px}.legend-title[_ngcontent-%COMP%]{font-size:12px}.legend-item[_ngcontent-%COMP%]{font-size:11px}}"]})};function _S(e,n){e&1&&(u(0,"div",19),C(1,"div",20),u(2,"p",21),f(3,"Chargement..."),c()())}function wS(e,n){if(e&1&&C(0,"app-maraude-card",27),e&2){let t=n.$implicit;g("maraude",t)}}function CS(e,n){if(e&1&&(u(0,"div",25),w(1,wS,1,1,"app-maraude-card",26),c()),e&2){let t=v(2);p(),g("ngForOf",t.todayMaraudes)}}function DS(e,n){e&1&&(u(0,"div",28),F(),u(1,"svg",29),C(2,"path",30),c(),H(),u(3,"p",31),f(4,"Aucune maraude active aujourd'hui"),c(),u(5,"p",32),f(6,"Les prochaines maraudes appara\xEEtront ici"),c()())}function xS(e,n){if(e&1&&(u(0,"div",22)(1,"h2",23),f(2,"Maraudes d'aujourd'hui"),c(),w(3,CS,2,1,"div",24)(4,DS,7,0,"ng-template",null,0,Og),c()),e&2){let t=Sg(5),r=v();p(3),g("ngIf",r.todayMaraudes.length>0)("ngIfElse",t)}}var Rl=class e{constructor(n){this.apiService=n}mapComponent;todayMaraudes=[];allMaraudes=[];merchants=[];filteredMaraudes=[];filteredMerchants=[];activeMaraudesCount=0;merchantsCount=0;loading=!1;getTodayNumber(){let n=new Date().getDay();return n===0?7:n}getDayNumberFromDate(n){if(!n)return null;let t=new Date(n);if(isNaN(t.getTime()))return null;let r=t.getDay();return r===0?7:r}currentFilters={showMaraudes:!0,showMerchants:!0,maraudeStatus:"",merchantCategory:"",radius:10,selectedDays:[this.getTodayNumber()]};ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.loadTodayMaraudes(),this.loadAllMaraudes(),this.loadMerchants()}loadTodayMaraudes(){this.apiService.getTodayActiveMaraudes().subscribe({next:n=>{this.todayMaraudes=n.actions,this.activeMaraudesCount=n.count,this.loading=!1},error:n=>{console.error("Error loading today maraudes:",n),this.loading=!1}})}loadAllMaraudes(){this.apiService.getMaraudes({limit:100}).subscribe({next:n=>{this.allMaraudes=n.actions,this.applyFilters()},error:n=>{console.error("Error loading all maraudes:",n)}})}loadMerchants(){this.apiService.getMerchants({limit:100}).subscribe({next:n=>{this.merchants=n.merchants,this.merchantsCount=n.merchants.length,this.applyFilters()},error:n=>{console.error("Error loading merchants:",n)}})}onFiltersChanged(n){this.currentFilters=z(E({},n),{selectedDays:[...n.selectedDays]}),this.applyFilters(),this.mapComponent&&this.mapComponent.updateMapData(this.filteredMaraudes,this.filteredMerchants,this.currentFilters)}matchesSelectedDays(n,t){if(!t||t.length===0)return!0;if(n.isRecurring&&n.dayOfWeek)return t.includes(n.dayOfWeek);let r=this.getDayNumberFromDate(n.scheduledDate);return r?t.includes(r):!1}applyFilters(){let{maraudeStatus:n,merchantCategory:t,selectedDays:r,showMaraudes:i,showMerchants:o}=this.currentFilters,s=this.allMaraudes.filter(l=>n&&l.status!==n?!1:this.matchesSelectedDays(l,r));this.filteredMaraudes=i?s:[];let a=this.merchants.filter(l=>t&&l.category!==t?!1:l.isActive);this.filteredMerchants=o?a:[],this.mapComponent&&this.mapComponent.updateMapData(this.filteredMaraudes,this.filteredMerchants,this.currentFilters)}static \u0275fac=function(t){return new(t||e)(_(Nt))};static \u0275cmp=ge({type:e,selectors:[["app-map-page"]],viewQuery:function(t,r){if(t&1&&_a(zo,5),t&2){let i;di(i=fi())&&(r.mapComponent=i.first)}},standalone:!0,features:[ve],decls:34,vars:8,consts:[["noMaraudes",""],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6"],[1,"lg:col-span-1","space-y-4"],[3,"filtersChanged"],[1,"bg-white","shadow","rounded-lg","p-4"],[1,"text-lg","font-semibold","text-gray-800","mb-3"],[1,"space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-600"],[1,"font-medium","text-orange-600"],[1,"font-medium","text-blue-600"],[1,"font-medium","text-green-600"],[1,"text-sm","text-gray-600","space-y-2"],[1,"lg:col-span-3"],[1,"bg-white","rounded-lg","shadow-md","mb-6","h-96","overflow-hidden"],[3,"maraudes","merchants","filters"],["class","text-center py-8",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"text-center","py-8"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"mt-2","text-gray-600"],[1,"mb-6"],[1,"text-xl","font-bold","text-gray-800","mb-4"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[3,"maraude",4,"ngFor","ngForOf"],[3,"maraude"],[1,"text-center","py-8","text-gray-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2"],[1,"text-sm","text-gray-400"]],template:function(t,r){t&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-filter-panel",4),M("filtersChanged",function(o){return r.onFiltersChanged(o)}),c(),u(4,"div",5)(5,"h3",6),f(6,"Statistiques"),c(),u(7,"div",7)(8,"div",8)(9,"span",9),f(10,"Maraudes actives:"),c(),u(11,"span",10),f(12),c()(),u(13,"div",8)(14,"span",9),f(15,"Maraudes totales:"),c(),u(16,"span",11),f(17),c()(),u(18,"div",8)(19,"span",9),f(20,"Commerces solidaires:"),c(),u(21,"span",12),f(22),c()()()(),u(23,"div",5)(24,"h3",6),f(25,"\xC0 propos"),c(),u(26,"div",13)(27,"p"),f(28,"Cette carte affiche en temps r\xE9el les maraudes et commerces solidaires de votre r\xE9gion."),c()()()(),u(29,"div",14)(30,"div",15),C(31,"app-map-view",16),c(),w(32,_S,4,0,"div",17)(33,xS,6,2,"div",18),c()()()),t&2&&(p(12),ie(r.activeMaraudesCount),p(5),ie(r.filteredMaraudes.length),p(5),ie(r.filteredMerchants.length),p(9),g("maraudes",r.filteredMaraudes)("merchants",r.filteredMerchants)("filters",r.currentFilters),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[_e,ut,Le,Al,Nl,zo],styles:[".animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function ES(e,n){e&1&&(u(0,"div",9),C(1,"div",10),c())}function MS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),Ee(" ",t.title," - ",t.address," ")}}function IS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("maraudeActionId"))}}function SS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("reportDate"))}}function TS(e,n){e&1&&(u(0,"div",48)(1,"div",49)(2,"div",50),C(3,"div",51),c(),u(4,"div",52)(5,"p",53),f(6,"V\xE9rification des rapports existants..."),c()()()())}function AS(e,n){if(e&1&&(u(0,"div",60)(1,"p")(2,"strong"),f(3,"Cr\xE9\xE9 par:"),c(),f(4),c(),u(5,"p")(6,"strong"),f(7,"Date de cr\xE9ation:"),c(),f(8),c(),u(9,"p")(10,"strong"),f(11,"Statut:"),c(),f(12),c()()),e&2){let t=v(3);p(4),A(" ",t.duplicateInfo.createdBy,""),p(4),A(" ",t.duplicateInfo.createdDate,""),p(4),A(" ",t.duplicateInfo.status,"")}}function NS(e,n){if(e&1&&(u(0,"div",54)(1,"div",49)(2,"div",50),F(),u(3,"svg",55),C(4,"path",56),c()(),H(),u(5,"div",52)(6,"h3",57),f(7,"Rapport d\xE9j\xE0 existant"),c(),u(8,"p",58),f(9," Un compte-rendu existe d\xE9j\xE0 pour cette maraude \xE0 cette date. "),c(),w(10,AS,13,3,"div",59),c()()()),e&2){let t=v(2);p(10),g("ngIf",t.duplicateInfo)}}function RS(e,n){e&1&&(u(0,"div",61)(1,"div",49)(2,"div",50),F(),u(3,"svg",62),C(4,"path",63),c()(),H(),u(5,"div",52)(6,"p",64),f(7,"Aucun rapport existant trouv\xE9 - Vous pouvez cr\xE9er ce rapport"),c()()()())}function OS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("startTime"))}}function kS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("endTime"))}}function PS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("beneficiariesCount"))}}function FS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("volunteersCount"))}}function LS(e,n){e&1&&(u(0,"div",65),f(1," Aucune distribution ajout\xE9e. "),c())}function VS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),A(" ",t.name," ")}}function jS(e,n){if(e&1&&(u(0,"optgroup",78),w(1,VS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("meal"))}}function US(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),A(" ",t.name," ")}}function BS(e,n){if(e&1&&(u(0,"optgroup",79),w(1,US,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("hygiene"))}}function $S(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),A(" ",t.name," ")}}function HS(e,n){if(e&1&&(u(0,"optgroup",80),w(1,$S,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("clothing"))}}function zS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),A(" ",t.name," ")}}function GS(e,n){if(e&1&&(u(0,"optgroup",81),w(1,zS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("medical"))}}function WS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),A(" ",t.name," ")}}function qS(e,n){if(e&1&&(u(0,"optgroup",82),w(1,WS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("other"))}}function ZS(e,n){if(e&1){let t=Q();u(0,"div",66)(1,"div")(2,"label",67),f(3,"Type *"),c(),u(4,"select",68)(5,"option",18),f(6,"S\xE9lectionner"),c(),w(7,jS,2,1,"optgroup",69)(8,BS,2,1,"optgroup",70)(9,HS,2,1,"optgroup",71)(10,GS,2,1,"optgroup",72)(11,qS,2,1,"optgroup",73),c()(),u(12,"div")(13,"label",67),f(14,"Quantit\xE9 *"),c(),C(15,"input",74),c(),u(16,"div")(17,"label",67),f(18,"Notes"),c(),C(19,"input",75),c(),u(20,"div",76)(21,"button",77),M("click",function(){let i=S(t).index,o=v(2);return T(o.removeDistribution(i))}),f(22," Supprimer "),c()()()}if(e&2){let t=n.index,r=v(2);g("formGroupName",t),p(7),g("ngIf",r.getDistributionsByCategory("meal").length>0),p(),g("ngIf",r.getDistributionsByCategory("hygiene").length>0),p(),g("ngIf",r.getDistributionsByCategory("clothing").length>0),p(),g("ngIf",r.getDistributionsByCategory("medical").length>0),p(),g("ngIf",r.getDistributionsByCategory("other").length>0)}}function QS(e,n){e&1&&(u(0,"div",65),f(1," Aucune alerte signal\xE9e. "),c())}function YS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.value),p(),ie(t.label)}}function KS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.value),p(),ie(t.label)}}function JS(e,n){e&1&&(u(0,"div",87)(1,"label",67),f(2,"Notes de suivi"),c(),C(3,"textarea",97),c())}function XS(e,n){if(e&1){let t=Q();u(0,"div",83)(1,"div",84)(2,"div")(3,"label",67),f(4,"Type d'alerte *"),c(),u(5,"select",85)(6,"option",18),f(7,"S\xE9lectionner"),c(),w(8,YS,2,2,"option",19),c()(),u(9,"div")(10,"label",67),f(11,"S\xE9v\xE9rit\xE9 *"),c(),u(12,"select",86)(13,"option",18),f(14,"S\xE9lectionner"),c(),w(15,KS,2,2,"option",19),c()()(),u(16,"div",87)(17,"label",67),f(18,"Description situation *"),c(),C(19,"textarea",88),c(),u(20,"div",84)(21,"div")(22,"label",67),f(23,"Localisation"),c(),C(24,"input",89),c(),u(25,"div")(26,"label",67),f(27,"Description personne"),c(),C(28,"input",90),c()(),u(29,"div",87)(30,"label",67),f(31,"Actions prises"),c(),C(32,"textarea",91),c(),u(33,"div",87)(34,"label",92),C(35,"input",93),u(36,"span",94),f(37,"Suivi requis"),c()()(),w(38,JS,4,0,"div",95),u(39,"button",96),M("click",function(){let i=S(t).index,o=v(2);return T(o.removeAlert(i))}),f(40," Supprimer cette alerte "),c()()}if(e&2){let t,r=n.$implicit,i=n.index,o=v(2);g("formGroupName",i),p(8),g("ngForOf",o.alertTypes),p(7),g("ngForOf",o.severityLevels),p(23),g("ngIf",(t=r.get("followUpRequired"))==null?null:t.value)}}function eT(e,n){e&1&&(u(0,"div",98)(1,"label",16),f(2,"D\xE9tails suppl\xE9mentaires situations urgentes"),c(),C(3,"textarea",99),c())}function tT(e,n){if(e&1){let t=Q();u(0,"form",11),M("ngSubmit",function(){S(t);let i=v();return T(i.submitReport())}),u(1,"div",12)(2,"h3",13),f(3,"Informations g\xE9n\xE9rales"),c(),u(4,"div",14)(5,"div",15)(6,"label",16),f(7,"Action de maraude *"),c(),u(8,"select",17)(9,"option",18),f(10,"S\xE9lectionnez une action"),c(),w(11,MS,2,3,"option",19),c(),w(12,IS,2,1,"p",20),c(),u(13,"div")(14,"label",16),f(15,"Date *"),c(),C(16,"input",21),w(17,SS,2,1,"p",20),c(),u(18,"div",15),w(19,TS,7,0,"div",22)(20,NS,11,1,"div",23)(21,RS,8,0,"div",24),c(),u(22,"div")(23,"label",16),f(24,"Heure d\xE9but *"),c(),C(25,"input",25),w(26,OS,2,1,"p",20),c(),u(27,"div")(28,"label",16),f(29,"Heure fin *"),c(),C(30,"input",26),w(31,kS,2,1,"p",20),c(),u(32,"div")(33,"label",16),f(34,"B\xE9n\xE9ficiaires aid\xE9s *"),c(),C(35,"input",27),w(36,PS,2,1,"p",20),c(),u(37,"div")(38,"label",16),f(39,"Nombre de b\xE9n\xE9voles *"),c(),C(40,"input",28),w(41,FS,2,1,"p",20),c()()(),u(42,"div",12)(43,"div",29)(44,"h3",30),f(45,"Distributions"),c(),u(46,"button",31),M("click",function(){S(t);let i=v();return T(i.addDistribution())}),f(47," + Ajouter "),c()(),u(48,"div",32),w(49,LS,2,0,"div",33)(50,ZS,23,6,"div",34),c()(),u(51,"div",12)(52,"div",29)(53,"h3",30),f(54,"Alertes et situations urgentes"),c(),u(55,"button",35),M("click",function(){S(t);let i=v();return T(i.addAlert())}),f(56," + Ajouter une alerte "),c()(),u(57,"div",36),w(58,QS,2,0,"div",33)(59,XS,41,4,"div",37),c(),w(60,eT,4,0,"div",38),c(),u(61,"div",12)(62,"h3",13),f(63,"Observations et notes"),c(),u(64,"div",39)(65,"div")(66,"label",16),f(67,"Notes g\xE9n\xE9rales"),c(),C(68,"textarea",40),c(),u(69,"div")(70,"label",16),f(71,"Difficult\xE9s rencontr\xE9es"),c(),C(72,"textarea",41),c(),u(73,"div")(74,"label",16),f(75,"Points positifs"),c(),C(76,"textarea",42),c()()(),u(77,"div",12)(78,"div",43)(79,"button",44),M("click",function(){S(t);let i=v();return T(i.cancel())}),f(80," Annuler "),c(),u(81,"button",45),f(82),c()()()()}if(e&2){let t,r=v();g("formGroup",r.reportForm),p(11),g("ngForOf",r.maraudeActions),p(),g("ngIf",r.getFieldError("maraudeActionId")),p(5),g("ngIf",r.getFieldError("reportDate")),p(2),g("ngIf",r.duplicateCheckInProgress),p(),g("ngIf",!r.duplicateCheckInProgress&&r.duplicateCheckCompleted&&r.duplicateFound),p(),g("ngIf",!r.duplicateCheckInProgress&&r.duplicateCheckCompleted&&!r.duplicateFound&&((t=r.reportForm.get("maraudeActionId"))==null?null:t.value)&&((t=r.reportForm.get("reportDate"))==null?null:t.value)),p(5),g("ngIf",r.getFieldError("startTime")),p(5),g("ngIf",r.getFieldError("endTime")),p(5),g("ngIf",r.getFieldError("beneficiariesCount")),p(5),g("ngIf",r.getFieldError("volunteersCount")),p(8),g("ngIf",r.distributions.length===0),p(),g("ngForOf",r.distributions.controls),p(8),g("ngIf",r.alerts.length===0),p(),g("ngForOf",r.alerts.controls),p(),g("ngIf",r.alerts.length>0),p(21),g("disabled",r.submitting),p(),A(" ",r.submitting?"Cr\xE9ation...":"Cr\xE9er le rapport"," ")}}var Li=class e{constructor(n,t,r,i,o,s){this.fb=n;this.reportService=t;this.apiService=r;this.authService=i;this.route=o;this.router=s}reportForm;distributionTypes=[];maraudeActions=[];loading=!1;submitting=!1;isEditMode=!1;reportId;originalReport;duplicateCheckInProgress=!1;duplicateFound=!1;duplicateInfo=null;duplicateCheckCompleted=!1;ngOnInit(){return ee(this,null,function*(){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}this.reportId=this.route.snapshot.params.id,this.isEditMode=!!this.reportId,console.log("Form mode:",this.isEditMode?"EDIT":"CREATE"),this.initForm(),yield this.loadData(),this.isEditMode?yield this.loadReport():this.setupDuplicateChecking()})}goBack(){this.router.navigate(["/dashboard"])}initForm(){this.reportForm=this.fb.group({maraudeActionId:["",Ze.required],reportDate:[new Date().toISOString().split("T")[0],Ze.required],startTime:["",Ze.required],endTime:["",Ze.required],beneficiariesCount:[0,[Ze.required,Ze.min(0)]],volunteersCount:[1,[Ze.required,Ze.min(1)]],generalNotes:[""],difficultiesEncountered:[""],positivePoints:[""],urgentSituationsDetails:[""],distributions:this.fb.array([]),alerts:this.fb.array([])}),this.isEditMode&&this.reportForm.get("maraudeActionId")?.disable()}loadData(){return ee(this,null,function*(){this.loading=!0;try{let n=yield xe(this.reportService.getDistributionTypes());this.distributionTypes=n?.types||[];let t=yield xe(this.apiService.getMaraudes());this.maraudeActions=t?.actions||[]}catch(n){console.error("Erreur chargement donn\xE9es:",n)}finally{this.loading=!1}})}loadReport(){return ee(this,null,function*(){if(this.reportId)try{let n=yield xe(this.reportService.getReport(this.reportId));this.originalReport=n.report,console.log("Loaded report for editing:",this.originalReport),this.reportForm.patchValue({maraudeActionId:this.originalReport.maraudeActionId,reportDate:this.originalReport.reportDate,startTime:this.originalReport.startTime,endTime:this.originalReport.endTime,beneficiariesCount:this.originalReport.beneficiariesCount,volunteersCount:this.originalReport.volunteersCount,generalNotes:this.originalReport.generalNotes||"",difficultiesEncountered:this.originalReport.difficultiesEncountered||"",positivePoints:this.originalReport.positivePoints||"",urgentSituationsDetails:this.originalReport.urgentSituationsDetails||""}),this.originalReport.distributions&&this.originalReport.distributions.forEach(t=>{this.addDistribution();let r=this.distributions.length-1;this.distributions.at(r).patchValue({distributionTypeId:t.distributionTypeId,quantity:t.quantity,notes:t.notes||""})}),this.originalReport.alerts&&this.originalReport.alerts.forEach(t=>{this.addAlert();let r=this.alerts.length-1;this.alerts.at(r).patchValue({alertType:t.alertType,severity:t.severity,locationAddress:t.locationAddress||"",personDescription:t.personDescription||"",situationDescription:t.situationDescription,actionTaken:t.actionTaken||"",followUpRequired:t.followUpRequired||!1,followUpNotes:t.followUpNotes||""})})}catch(n){console.error("Error loading report:",n),alert("Erreur lors du chargement du rapport"),this.router.navigate(["/reports"])}})}setupDuplicateChecking(){this.reportForm.get("maraudeActionId")?.valueChanges.subscribe(()=>{this.resetDuplicateState(),setTimeout(()=>this.checkForExistingReport(),300)}),this.reportForm.get("reportDate")?.valueChanges.subscribe(()=>{this.resetDuplicateState(),setTimeout(()=>this.checkForExistingReport(),300)})}checkForExistingReport(){return ee(this,null,function*(){if(this.isEditMode)return!1;let n=this.reportForm.get("maraudeActionId")?.value,t=this.reportForm.get("reportDate")?.value;if(!n||!t)return this.resetDuplicateState(),!1;this.duplicateCheckInProgress=!0,this.duplicateCheckCompleted=!1;try{let r=yield xe(this.reportService.checkDuplicateReport(n,t));return this.duplicateFound=r.exists,this.duplicateInfo=r.report||null,this.duplicateCheckCompleted=!0,r.exists}catch(r){return console.error("Error checking for duplicate:",r),this.resetDuplicateState(),!1}finally{this.duplicateCheckInProgress=!1}})}resetDuplicateState(){this.duplicateFound=!1,this.duplicateInfo=null,this.duplicateCheckCompleted=!1,this.duplicateCheckInProgress=!1}submitReport(){return ee(this,null,function*(){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}if(this.reportForm.invalid){this.reportForm.markAllAsTouched();return}if(!this.isEditMode&&(yield this.checkForExistingReport())){let o=this.duplicateInfo?`Un rapport existe d\xE9j\xE0 pour cette maraude le ${this.reportForm.get("reportDate")?.value}.

Cr\xE9\xE9 par: ${this.duplicateInfo.createdBy}
Date: ${this.duplicateInfo.createdDate}

Voulez-vous quand m\xEAme continuer ?`:"Un rapport existe d\xE9j\xE0 pour cette maraude \xE0 cette date. Continuer ?";if(!confirm(o))return}this.submitting=!0;let n=this.reportForm.value,t=z(E(E({},n),this.isEditMode?{}:{maraudeActionId:n.maraudeActionId}),{beneficiariesCount:parseInt(n.beneficiariesCount),volunteersCount:parseInt(n.volunteersCount),distributions:n.distributions.filter(i=>i.distributionTypeId&&i.quantity>0),alerts:n.alerts.filter(i=>i.alertType&&i.severity&&i.situationDescription)});console.log(`${this.isEditMode?"Updating":"Creating"} report:`,t),(this.isEditMode?this.reportService.updateReport(this.reportId,t):this.reportService.createReport(t)).subscribe({next:i=>{console.log(`Report ${this.isEditMode?"updated":"created"}:`,i.message),alert(`Rapport ${this.isEditMode?"mis \xE0 jour":"cr\xE9\xE9"} avec succ\xE8s !`),this.router.navigate(["/reports"])},error:i=>{console.error(`Error ${this.isEditMode?"updating":"creating"} report:`,i),i.status===409?alert(`${i.error.message}

${i.error.details||""}`):alert(`Erreur: ${i.error?.message||i.message}`),this.submitting=!1}})})}cancel(){this.router.navigate(["/reports"])}get distributions(){return this.reportForm.get("distributions")}addDistribution(){this.distributions.push(this.fb.group({distributionTypeId:["",Ze.required],quantity:[1,[Ze.required,Ze.min(1)]],notes:[""]}))}removeDistribution(n){this.distributions.removeAt(n)}get alerts(){return this.reportForm.get("alerts")}addAlert(){this.alerts.push(this.fb.group({alertType:["",Ze.required],severity:["",Ze.required],locationAddress:[""],personDescription:[""],situationDescription:["",Ze.required],actionTaken:[""],followUpRequired:[!1],followUpNotes:[""]}))}removeAlert(n){this.alerts.removeAt(n)}getDistributionsByCategory(n){return this.distributionTypes.filter(t=>t.category===n)}getCategoryLabel(n){return{meal:"Alimentation",hygiene:"Hygi\xE8ne",clothing:"V\xEAtements",medical:"M\xE9dical",other:"Autres"}[n]||n}getFieldError(n){let t=this.reportForm.get(n);if(t&&t.invalid&&t.touched){if(t.errors?.required)return"Ce champ est requis";if(t.errors?.min)return`Valeur minimum: ${t.errors?.min.min}`}return null}calculateDuration(){let n=this.reportForm.get("startTime")?.value,t=this.reportForm.get("endTime")?.value;if(n&&t){let r=new Date(`2000-01-01 ${n}`),o=new Date(`2000-01-01 ${t}`).getTime()-r.getTime(),s=Math.floor(o/(1e3*60*60)),a=Math.floor(o%(1e3*60*60)/(1e3*60));return`${s}h ${a}m`}return""}alertTypes=[{value:"medical",label:"M\xE9dical"},{value:"social",label:"Social"},{value:"security",label:"S\xE9curit\xE9"},{value:"housing",label:"Logement"},{value:"other",label:"Autre"}];severityLevels=[{value:"low",label:"Faible"},{value:"medium",label:"Moyenne"},{value:"high",label:"\xC9lev\xE9e"},{value:"critical",label:"Critique"}];static \u0275fac=function(t){return new(t||e)(_(iy),_(ir),_(Nt),_(Ie),_(dt),_(de))};static \u0275cmp=ge({type:e,selectors:[["app-report-form"]],standalone:!0,features:[ve],decls:12,vars:4,consts:[[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"inline-flex","items-center","text-sm","text-gray-500","hover:text-gray-700","mb-4",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","space-y-8",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"col-span-1","md:col-span-2","lg:col-span-3"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","maraudeActionId",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["type","date","formControlName","reportDate",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["class","bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4 mb-4",4,"ngIf"],["type","time","formControlName","startTime",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","time","formControlName","endTime",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","number","formControlName","beneficiariesCount","min","0",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","number","formControlName","volunteersCount","min","1",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-green-600","hover:bg-green-700",3,"click"],["formArrayName","distributions",1,"space-y-4"],["class","text-gray-500 text-center py-8",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700",3,"click"],["formArrayName","alerts",1,"space-y-6"],["class","border border-red-200 rounded-lg p-6 bg-red-50",3,"formGroupName",4,"ngFor","ngForOf"],["class","mt-6 pt-6 border-t",4,"ngIf"],[1,"space-y-6"],["formControlName","generalNotes","rows","4","placeholder","Observations g\xE9n\xE9rales...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-purple-500","focus:border-purple-500","sm:text-sm"],["formControlName","difficultiesEncountered","rows","3","placeholder","Probl\xE8mes, obstacles...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-purple-500","focus:border-purple-500","sm:text-sm"],["formControlName","positivePoints","rows","3","placeholder","Moments positifs, succ\xE8s...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-purple-500","focus:border-purple-500","sm:text-sm"],[1,"flex","justify-end","space-x-4"],["type","button",1,"px-6","py-3","border","border-gray-300","text-gray-700","bg-white","rounded-md","hover:bg-gray-50",3,"click"],["type","submit",1,"px-6","py-3","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],[3,"value"],[1,"mt-1","text-sm","text-red-600"],[1,"bg-yellow-50","border","border-yellow-200","rounded-md","p-4","mb-4"],[1,"flex"],[1,"flex-shrink-0"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-yellow-600"],[1,"ml-3"],[1,"text-sm","text-yellow-700"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-4"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-red-800"],[1,"text-sm","text-red-700","mt-1"],["class","text-sm text-red-600 mt-2 bg-red-100 p-2 rounded",4,"ngIf"],[1,"text-sm","text-red-600","mt-2","bg-red-100","p-2","rounded"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4","mb-4"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-green-700"],[1,"text-gray-500","text-center","py-8"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","p-4","border","rounded-lg",3,"formGroupName"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","distributionTypeId",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500","sm:text-sm"],["label","\u{1F37D}\uFE0F Alimentation",4,"ngIf"],["label","\u{1F9FC} Hygi\xE8ne",4,"ngIf"],["label","\u{1F455} V\xEAtements",4,"ngIf"],["label","\u{1F3E5} M\xE9dical",4,"ngIf"],["label","\u{1F527} Autres",4,"ngIf"],["type","number","formControlName","quantity","min","1",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500","sm:text-sm"],["type","text","formControlName","notes",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500","sm:text-sm"],[1,"flex","items-end"],["type","button",1,"w-full","px-3","py-2","border","border-red-300","text-sm","font-medium","rounded-md","text-red-700","bg-white","hover:bg-red-50",3,"click"],["label","\u{1F37D}\uFE0F Alimentation"],["label","\u{1F9FC} Hygi\xE8ne"],["label","\u{1F455} V\xEAtements"],["label","\u{1F3E5} M\xE9dical"],["label","\u{1F527} Autres"],[1,"border","border-red-200","rounded-lg","p-6","bg-red-50",3,"formGroupName"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["formControlName","alertType",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["formControlName","severity",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],[1,"mb-4"],["formControlName","situationDescription","rows","3","placeholder","D\xE9crivez la situation...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["type","text","formControlName","locationAddress","placeholder","Adresse...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["type","text","formControlName","personDescription","placeholder","\xC2ge, caract\xE9ristiques...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["formControlName","actionTaken","rows","2","placeholder","Actions effectu\xE9es...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],[1,"flex","items-center"],["type","checkbox","formControlName","followUpRequired",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300","rounded"],[1,"ml-2","text-sm","text-gray-900"],["class","mb-4",4,"ngIf"],["type","button",1,"text-red-600","hover:text-red-800","text-sm",3,"click"],["formControlName","followUpNotes","rows","2","placeholder","Type de suivi n\xE9cessaire...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],[1,"mt-6","pt-6","border-t"],["formControlName","urgentSituationsDetails","rows","3","placeholder","Informations compl\xE9mentaires...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"button",1),M("click",function(){return r.goBack()}),F(),u(2,"svg",2),C(3,"path",3),c(),f(4," Retour au dashboard "),c(),H(),u(5,"div",4)(6,"h2",5),f(7),c(),u(8,"p",6),f(9),c()(),w(10,ES,2,0,"div",7)(11,tT,83,18,"form",8),c()),t&2&&(p(7),A(" ",r.isEditMode?"Modifier le compte-rendu":"Cr\xE9er un compte-rendu"," "),p(2),A(" ",r.isEditMode?"Modifiez les informations du rapport ci-dessous.":"Remplissez les informations ci-dessous pour enregistrer votre rapport de maraude."," "),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[_e,ut,Le,oy,nr,Pi,Fi,on,jo,Rr,rr,an,tr,Uo,xl,Nf,El,Ml]})};function nT(e,n){e&1&&(u(0,"div",7),C(1,"div",8),c())}function rT(e,n){e&1&&(u(0,"div",12),f(1," Aucun rapport trouv\xE9. "),u(2,"a",13),f(3,"Cr\xE9er le premier"),c()())}function iT(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),ie(t.maraudeAction.title)}}function oT(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),Ee("par ",t.creator.firstName," ",t.creator.lastName,"")}}function sT(e,n){e&1&&(u(0,"span",29),f(1,"\u26A0 Situations urgentes"),c())}function aT(e,n){if(e&1){let t=Q();u(0,"button",30),M("click",function(){S(t);let i=v().$implicit,o=v(3);return T(o.editReport(i))}),f(1," Modifier "),c()}}function lT(e,n){if(e&1){let t=Q();u(0,"button",31),M("click",function(){S(t);let i=v().$implicit,o=v(3);return T(o.deleteReport(i))}),f(1," Supprimer "),c()}}function cT(e,n){if(e&1&&(u(0,"li",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h3",20),f(5),c(),u(6,"span",21),f(7),c()(),u(8,"div",22)(9,"div",23)(10,"span"),f(11),c(),u(12,"span"),f(13),c(),u(14,"span"),f(15),c()(),u(16,"div",23),w(17,iT,2,1,"span",24)(18,oT,2,2,"span",24)(19,sT,2,0,"span",25),c()()(),u(20,"div",26),w(21,aT,2,0,"button",27)(22,lT,2,0,"button",28),c()()()),e&2){let t=n.$implicit,r=v(3);p(5),A(" Rapport du ",r.formatDate(t.reportDate)," "),p(),xr(r.getStatusClass(t.status)),p(),A(" ",r.getStatusLabel(t.status)," "),p(4),Ee("",r.formatTime(t.startTime)," - ",r.formatTime(t.endTime),""),p(2),A("",t.beneficiariesCount," b\xE9n\xE9ficiaires"),p(2),A("",t.volunteersCount," b\xE9n\xE9voles"),p(2),g("ngIf",t.maraudeAction),p(),g("ngIf",t.creator),p(),g("ngIf",t.hasUrgentSituations),p(2),g("ngIf",r.canEdit(t)),p(),g("ngIf",r.canDelete(t))}}function uT(e,n){if(e&1&&(u(0,"ul",14),w(1,cT,23,13,"li",15),c()),e&2){let t=v(2);p(),g("ngForOf",t.reports)}}function dT(e,n){if(e&1&&(u(0,"div",9),w(1,rT,4,0,"div",10)(2,uT,2,1,"ul",11),c()),e&2){let t=v();p(),g("ngIf",t.reports.length===0),p(),g("ngIf",t.reports.length>0)}}var Ol=class e{constructor(n,t,r){this.reportService=n;this.authService=t;this.router=r}reports=[];loading=!1;ngOnInit(){this.loadReports()}loadReports(){this.loading=!0,this.reportService.getReports().subscribe({next:n=>{this.reports=n.reports||[],console.log("Reports loaded:",this.reports),this.loading=!1},error:n=>{console.error("Erreur chargement rapports:",n),this.loading=!1}})}viewReport(n){console.log("Voir rapport:",n),this.router.navigate(["/reports",n.id])}editReport(n){console.log("Modifier rapport:",n),this.router.navigate(["/reports",n.id,"edit"])}validateReport(n){confirm("Valider ce rapport d\xE9finitivement ?")&&this.reportService.validateReport(n.id).subscribe({next:()=>{console.log("Rapport valid\xE9"),alert("Rapport valid\xE9 avec succ\xE8s !"),this.loadReports()},error:t=>{console.error("Erreur validation:",t),alert("Erreur lors de la validation du rapport")}})}deleteReport(n){let t=`\xCAtes-vous s\xFBr de vouloir supprimer ce rapport ?

Rapport du ${this.formatDate(n.reportDate)}
Statut: ${this.getStatusLabel(n.status)}

Cette action est irr\xE9versible.`;confirm(t)&&this.reportService.deleteReport(n.id).subscribe({next:()=>{console.log("Rapport supprim\xE9"),alert("Rapport supprim\xE9 avec succ\xE8s"),this.loadReports()},error:r=>{console.error("Erreur suppression:",r),alert("Erreur lors de la suppression du rapport")}})}canEdit(n){let t=this.authService.getCurrentUser();return t?t.role==="admin"||t.role==="coordinator"&&n.creator?.associationId===t.associationId||n.creator?.id===t.id&&(n.status==="submitted"||n.status==="draft"):!1}canDelete(n){let t=this.authService.getCurrentUser();return t?t.role==="admin"||t.role==="coordinator"&&n.status!=="validated"&&n.creator?.associationId===t.associationId||n.creator?.id===t.id&&n.status!=="validated":!1}canValidate(n){let t=this.authService.getCurrentUser();return!t||!["coordinator","admin"].includes(t.role)||n.status!=="submitted"?!1:t.role==="admin"?!0:n.creator?.associationId===t.associationId}formatDate(n){return new Date(n).toLocaleDateString("fr-FR")}getStatusLabel(n){return{draft:"Brouillon",submitted:"Soumis",validated:"Valid\xE9"}[n]||n}getStatusClass(n){return{draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",validated:"bg-green-100 text-green-800"}[n]||"bg-gray-100 text-gray-800"}formatTime(n){return n?n.substring(0,5):""}static \u0275fac=function(t){return new(t||e)(_(ir),_(Ie),_(de))};static \u0275cmp=ge({type:e,selectors:[["app-report-list"]],standalone:!0,features:[ve],decls:11,vars:2,consts:[[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],["routerLink","/reports/create",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700"],["class","text-center py-8",4,"ngIf"],["class","bg-white shadow overflow-hidden rounded-md",4,"ngIf"],[1,"text-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600","mx-auto"],[1,"bg-white","shadow","overflow-hidden","rounded-md"],["class","text-center py-12 text-gray-500",4,"ngIf"],["class","divide-y divide-gray-200",4,"ngIf"],[1,"text-center","py-12","text-gray-500"],["routerLink","/reports/create",1,"text-blue-600","hover:underline"],[1,"divide-y","divide-gray-200"],["class","px-6 py-4 hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"px-6","py-4","hover:bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"flex-1"],[1,"flex","items-center","space-x-4","mb-2"],[1,"text-lg","font-medium","text-gray-900"],[1,"px-2","py-1","text-xs","rounded-full"],[1,"text-sm","text-gray-500","space-y-1"],[1,"flex","space-x-4"],[4,"ngIf"],["class","text-red-600 font-medium",4,"ngIf"],[1,"flex","space-x-1","ml-4"],["class","inline-flex items-center px-3 py-1 border border-green-300 text-sm text-green-700 bg-white rounded-md hover:bg-green-50","title","Modifier le rapport",3,"click",4,"ngIf"],["class","inline-flex items-center px-3 py-1 border border-red-300 text-sm text-red-700 bg-white rounded-md hover:bg-red-50","title","Supprimer le rapport",3,"click",4,"ngIf"],[1,"text-red-600","font-medium"],["title","Modifier le rapport",1,"inline-flex","items-center","px-3","py-1","border","border-green-300","text-sm","text-green-700","bg-white","rounded-md","hover:bg-green-50",3,"click"],["title","Supprimer le rapport",1,"inline-flex","items-center","px-3","py-1","border","border-red-300","text-sm","text-red-700","bg-white","rounded-md","hover:bg-red-50",3,"click"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),f(4,"Comptes-rendus"),c(),u(5,"p",3),f(6,"G\xE9rez les rapports de maraude"),c()(),u(7,"a",4),f(8," + Nouveau rapport "),c()(),w(9,nT,2,0,"div",5)(10,dT,3,2,"div",6),c()),t&2&&(p(9),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[_e,ut,Le,ul,Mi],encapsulation:2})};function fT(e,n){e&1&&(u(0,"div",22),C(1,"div",23),u(2,"p",24),f(3,"Chargement..."),c()())}function pT(e,n){if(e&1&&(u(0,"div",51),f(1),Er(2,"slice"),c()),e&2){let t=v().$implicit;p(),Ee(" ",Ng(2,2,t.description,0,50),"",t.description.length>50?"...":""," ")}}function hT(e,n){if(e&1&&(u(0,"div",51),f(1),c()),e&2){let t=v().$implicit;p(),A(" ",t.phone," ")}}function mT(e,n){if(e&1&&(u(0,"a",52),f(1," Site web \u2197 "),c()),e&2){let t=v().$implicit;g("href",t.website,qu)}}function gT(e,n){if(e&1){let t=Q();u(0,"tr",34)(1,"td",35)(2,"div",36)(3,"div")(4,"div",37),f(5),c(),w(6,pT,3,6,"div",38),c()()(),u(7,"td",35)(8,"div",39),f(9),c(),w(10,hT,2,1,"div",38)(11,mT,2,1,"a",40),c(),u(12,"td",35)(13,"div",39),f(14),c()(),u(15,"td",35)(16,"span",41),f(17),c()(),u(18,"td",42)(19,"button",43),M("click",function(){let i=S(t).$implicit,o=v(2);return T(o.viewDetails(i.id))}),F(),u(20,"svg",44),C(21,"path",45)(22,"path",46),c()(),H(),u(23,"button",47),M("click",function(){let i=S(t).$implicit,o=v(2);return T(o.openEditModal(i))}),F(),u(24,"svg",44),C(25,"path",48),c()(),H(),u(26,"button",49),M("click",function(){let i=S(t).$implicit,o=v(2);return T(o.toggleActiveStatus(i))}),F(),u(27,"svg",44),C(28,"path",50),c()()()()}if(e&2){let t=n.$implicit;p(5),A(" ",t.name," "),p(),g("ngIf",t.description),p(3),ie(t.email),p(),g("ngIf",t.phone),p(),g("ngIf",t.website),p(3),A(" ",t.address||"Non renseign\xE9e"," "),p(2),xr(t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),p(),A(" ",t.isActive?"Active":"Inactive"," "),p(9),xr(t.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),g("title",t.isActive?"D\xE9sactiver":"Activer")}}function vT(e,n){e&1&&(u(0,"tr")(1,"td",53),F(),u(2,"svg",54),C(3,"path",55),c(),f(4," Aucune association trouv\xE9e "),c()())}function yT(e,n){if(e&1){let t=Q();u(0,"button",61),M("click",function(){let i=S(t).$implicit,o=v(3);return T(o.goToPage(i))}),f(1),c()}if(e&2){let t=n.$implicit,r=v(3);mt("bg-blue-600",t===r.currentPage)("text-white",t===r.currentPage)("hover:bg-gray-50",t!==r.currentPage),p(),A(" ",t," ")}}function bT(e,n){if(e&1){let t=Q();u(0,"div",56)(1,"div",57),f(2),c(),u(3,"div",58)(4,"button",59),M("click",function(){S(t);let i=v(2);return T(i.goToPage(i.currentPage-1))}),f(5," Pr\xE9c\xE9dent "),c(),w(6,yT,2,7,"button",60),u(7,"button",59),M("click",function(){S(t);let i=v(2);return T(i.goToPage(i.currentPage+1))}),f(8," Suivant "),c()()()}if(e&2){let t=v(2);p(2),Ee(" Page ",t.currentPage," sur ",t.totalPages," "),p(2),g("disabled",t.currentPage===1),p(2),g("ngForOf",t.paginationPages),p(),g("disabled",t.currentPage===t.totalPages)}}function _T(e,n){if(e&1&&(u(0,"div")(1,"div",25),f(2),c(),u(3,"div",26)(4,"table",27)(5,"thead",28)(6,"tr")(7,"th",29),f(8," Association "),c(),u(9,"th",29),f(10," Contact "),c(),u(11,"th",29),f(12," Localisation "),c(),u(13,"th",29),f(14," Statut "),c(),u(15,"th",30),f(16," Actions "),c()()(),u(17,"tbody",31),w(18,gT,29,12,"tr",32)(19,vT,5,0,"tr",20),c()()(),w(20,bT,9,5,"div",33),c()),e&2){let t=v();p(2),Ee(" ",t.filteredAssociations.length," association(s) affich\xE9e(s) sur ",t.totalAssociations," au total "),p(16),g("ngForOf",t.filteredAssociations),p(),g("ngIf",t.filteredAssociations.length===0),p(),g("ngIf",t.totalPages>1)}}function wT(e,n){if(e&1&&(u(0,"div",86)(1,"p",87),f(2),c()()),e&2){let t=v(2);p(2),ie(t.submitError)}}function CT(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),A(" ",t.formErrors.name," ")}}function DT(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),A(" ",t.formErrors.email," ")}}function xT(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),A(" ",t.formErrors.phone," ")}}function ET(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),A(" ",t.formErrors.website," ")}}function MT(e,n){if(e&1){let t=Q();u(0,"div")(1,"label",36)(2,"input",89),se("ngModelChange",function(i){S(t);let o=v(2);return ae(o.formData.isActive,i)||(o.formData.isActive=i),T(i)}),c(),u(3,"span",90),f(4,"Association active"),c()()()}if(e&2){let t=v(2);p(2),oe("ngModel",t.formData.isActive)}}function IT(e,n){if(e&1){let t=Q();u(0,"div",62)(1,"div",63)(2,"div",64),M("click",function(){S(t);let i=v();return T(i.closeModal())}),c(),u(3,"div",65)(4,"div",66)(5,"div",67)(6,"h3",68),f(7),c(),u(8,"button",69),M("click",function(){S(t);let i=v();return T(i.closeModal())}),F(),u(9,"svg",70),C(10,"path",71),c()()()(),H(),u(11,"form",72),M("ngSubmit",function(){S(t);let i=v();return T(i.onSubmit())}),w(12,wT,3,1,"div",73),u(13,"div",74)(14,"div")(15,"label",75),f(16," Nom de l'association * "),c(),u(17,"input",76),se("ngModelChange",function(i){S(t);let o=v();return ae(o.formData.name,i)||(o.formData.name=i),T(i)}),c(),w(18,CT,2,1,"p",77),c(),u(19,"div")(20,"label",75),f(21," Email * "),c(),u(22,"input",78),se("ngModelChange",function(i){S(t);let o=v();return ae(o.formData.email,i)||(o.formData.email=i),T(i)}),c(),w(23,DT,2,1,"p",77),c(),u(24,"div")(25,"label",75),f(26," Description "),c(),u(27,"textarea",79),se("ngModelChange",function(i){S(t);let o=v();return ae(o.formData.description,i)||(o.formData.description=i),T(i)}),c()(),u(28,"div")(29,"label",75),f(30," T\xE9l\xE9phone "),c(),u(31,"input",80),se("ngModelChange",function(i){S(t);let o=v();return ae(o.formData.phone,i)||(o.formData.phone=i),T(i)}),c(),w(32,xT,2,1,"p",77),c(),u(33,"div")(34,"label",75),f(35," Adresse "),c(),u(36,"textarea",81),se("ngModelChange",function(i){S(t);let o=v();return ae(o.formData.address,i)||(o.formData.address=i),T(i)}),c()(),u(37,"div")(38,"label",75),f(39," Site web "),c(),u(40,"input",82),se("ngModelChange",function(i){S(t);let o=v();return ae(o.formData.website,i)||(o.formData.website=i),T(i)}),c(),w(41,ET,2,1,"p",77),c(),w(42,MT,5,1,"div",20),c(),u(43,"div",83)(44,"button",84),M("click",function(){S(t);let i=v();return T(i.closeModal())}),f(45," Annuler "),c(),u(46,"button",85),f(47),c()()()()()()}if(e&2){let t=v();p(7),A(" ",t.editingAssociation?"Modifier l'association":"Cr\xE9er une association"," "),p(5),g("ngIf",t.submitError),p(5),mt("border-red-500",t.formErrors.name),oe("ngModel",t.formData.name),p(),g("ngIf",t.formErrors.name),p(4),mt("border-red-500",t.formErrors.email),oe("ngModel",t.formData.email),p(),g("ngIf",t.formErrors.email),p(4),oe("ngModel",t.formData.description),p(4),mt("border-red-500",t.formErrors.phone),oe("ngModel",t.formData.phone),p(),g("ngIf",t.formErrors.phone),p(4),oe("ngModel",t.formData.address),p(4),mt("border-red-500",t.formErrors.website),oe("ngModel",t.formData.website),p(),g("ngIf",t.formErrors.website),p(),g("ngIf",t.isAdmin&&t.editingAssociation),p(5),A(" ",t.editingAssociation?"Mettre \xE0 jour":"Cr\xE9er"," ")}}var kl=class e{constructor(n,t,r){this.associationService=n;this.authService=t;this.router=r}associations=[];filteredAssociations=[];loading=!0;isAdmin=!1;filterActive="all";searchQuery="";currentPage=1;pageSize=10;totalPages=0;totalAssociations=0;showModal=!1;editingAssociation=null;formData={name:"",description:"",email:"",phone:"",address:"",website:"",isActive:!0};formErrors={};submitError="";ngOnInit(){let n=this.authService.getCurrentUser();if(this.isAdmin=n?.role==="admin",!this.isAdmin){this.router.navigate(["/dashboard"]);return}this.loadAssociations()}loadAssociations(){return ee(this,null,function*(){this.loading=!0;try{let n=yield xe(this.associationService.getAssociations({page:this.currentPage,limit:this.pageSize,active:this.filterActive}));this.associations=n.associations,this.filteredAssociations=[...this.associations],this.totalAssociations=n.pagination.total,this.totalPages=n.pagination.pages,this.applyFilters()}catch(n){console.error("Erreur chargement associations:",n),alert("Erreur lors du chargement des associations")}finally{this.loading=!1}})}applyFilters(){let n=[...this.associations];if(this.searchQuery.trim()){let t=this.searchQuery.toLowerCase();n=n.filter(r=>r.name.toLowerCase().includes(t)||r.email.toLowerCase().includes(t)||r.address?.toLowerCase().includes(t))}this.filteredAssociations=n}onFilterChange(){this.currentPage=1,this.loadAssociations()}onSearchChange(){this.applyFilters()}openCreateModal(){this.editingAssociation=null,this.formData={name:"",description:"",email:"",phone:"",address:"",website:"",isActive:!0},this.formErrors={},this.submitError="",this.showModal=!0}openEditModal(n){this.editingAssociation=n,this.formData={name:n.name,description:n.description,email:n.email,phone:n.phone,address:n.address,website:n.website,isActive:n.isActive},this.formErrors={},this.submitError="",this.showModal=!0}closeModal(){this.showModal=!1,this.editingAssociation=null,this.formData={name:"",description:"",email:"",phone:"",address:"",website:"",isActive:!0},this.formErrors={},this.submitError=""}validateForm(){this.formErrors={};let n=!0;(!this.formData.name||this.formData.name.trim().length<2)&&(this.formErrors.name="Le nom doit contenir au moins 2 caract\xE8res",n=!1);let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!this.formData.email||!t.test(this.formData.email))&&(this.formErrors.email="Email invalide",n=!1),this.formData.phone&&this.formData.phone.trim()!==""&&this.formData.phone.replace(/\s/g,"").length<10&&(this.formErrors.phone="Le t\xE9l\xE9phone doit contenir au moins 10 chiffres",n=!1),this.formData.website&&this.formData.website.trim()!==""&&(/^https?:\/\/.+\..+/i.test(this.formData.website)||(this.formErrors.website="URL invalide (doit commencer par http:// ou https://)",n=!1)),console.log("\u{1F50D} Validation:",{isValid:n,errors:this.formErrors,data:this.formData}),n}goBack(){this.router.navigate(["/dashboard"])}submitForm(){return ee(this,null,function*(){if(this.validateForm()){this.submitError="";try{let n={name:this.formData.name.trim(),description:this.formData.description?.trim()||"",email:this.formData.email.trim().toLowerCase(),phone:this.formData.phone?.trim()||"",address:this.formData.address?.trim()||"",website:this.formData.website?.trim()||""};if(console.log("\u{1F4E4} Envoi formulaire nettoy\xE9:",n),this.editingAssociation)yield xe(this.associationService.updateAssociation(this.editingAssociation.id,n)),alert("Association modifi\xE9e avec succ\xE8s");else{let t=yield xe(this.associationService.createAssociation(n));console.log("\u2705 Association cr\xE9\xE9e:",t),alert("Association cr\xE9\xE9e avec succ\xE8s")}this.closeModal(),this.loadAssociations()}catch(n){console.error("\u274C Erreur soumission compl\xE8te:",n),console.error("\u274C Error response:",n.error),n.status===400||n.status===409?n.error?.details?(this.formErrors=n.error.details,this.submitError=n.error.message||"Erreur de validation"):this.submitError=n.error?.message||"Donn\xE9es invalides":this.submitError="Une erreur est survenue lors de l'enregistrement"}}})}isValidEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}isValidUrl(n){try{return new URL(n),!0}catch{return!1}}onSubmit(){return ee(this,null,function*(){if(this.validateForm()){this.submitError="";try{if(this.editingAssociation){let n={name:this.formData.name,description:this.formData.description,email:this.formData.email,phone:this.formData.phone,address:this.formData.address,website:this.formData.website,isActive:this.formData.isActive};yield xe(this.associationService.updateAssociation(this.editingAssociation.id,n)),alert("Association mise \xE0 jour avec succ\xE8s")}else yield xe(this.associationService.createAssociation(this.formData)),alert("Association cr\xE9\xE9e avec succ\xE8s");this.closeModal(),this.loadAssociations()}catch(n){console.error("Erreur:",n),this.submitError=n.error?.error||"Une erreur est survenue"}}})}toggleActiveStatus(n){return ee(this,null,function*(){if(confirm(`Voulez-vous ${n.isActive?"d\xE9sactiver":"activer"} cette association ?`))try{yield xe(this.associationService.updateAssociation(n.id,{isActive:!n.isActive})),this.loadAssociations()}catch(t){console.error("Erreur:",t),alert("Erreur lors de la modification du statut")}})}viewDetails(n){this.router.navigate(["/dashboard/associations",n])}goToPage(n){n>=1&&n<=this.totalPages&&(this.currentPage=n,this.loadAssociations())}get paginationPages(){let n=[],r=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(this.totalPages,r+5-1);i-r+1<5&&(r=Math.max(1,i-5+1));for(let o=r;o<=i;o++)n.push(o);return n}formatDate(n){return n?new Date(n).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}formatDateTime(n){return n?new Date(n).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}static \u0275fac=function(t){return new(t||e)(_(Nt),_(Ie),_(de))};static \u0275cmp=ge({type:e,selectors:[["app-associations"]],standalone:!0,features:[ve],decls:35,vars:5,consts:[[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-8"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"inline-flex","items-center","text-sm","text-gray-500","hover:text-gray-700","mb-4",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"btn","btn-primary","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"bg-white","shadow","rounded-lg","p-6","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Nom, email, adresse...",1,"input-field",3,"ngModelChange","input","ngModel"],[1,"input-field",3,"ngModelChange","change","ngModel"],["value","all"],["value","true"],["value","false"],["class","text-center py-12",4,"ngIf"],[4,"ngIf"],["class","fixed z-10 inset-0 overflow-y-auto",4,"ngIf"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"mt-4","text-gray-600"],[1,"mb-4","text-sm","text-gray-600"],[1,"bg-white","shadow","rounded-lg","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["class","mt-6 flex items-center justify-between",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4"],[1,"flex","items-center"],[1,"text-sm","font-medium","text-gray-900"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-900"],["target","_blank","class","text-sm text-blue-600 hover:text-blue-500",3,"href",4,"ngIf"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],[1,"px-6","py-4","text-right","text-sm","font-medium"],["title","Voir d\xE9tails",1,"text-blue-600","hover:text-blue-900","mr-3",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Modifier",1,"text-indigo-600","hover:text-indigo-900","mr-3",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],[1,"text-sm","text-gray-500"],["target","_blank",1,"text-sm","text-blue-600","hover:text-blue-500",3,"href"],["colspan","5",1,"px-6","py-12","text-center","text-gray-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"mt-6","flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"flex","space-x-2"],[1,"px-3","py-2","border","rounded-md","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-gray-50",3,"click","disabled"],["class","px-3 py-2 border rounded-md",3,"bg-blue-600","text-white","hover:bg-gray-50","click",4,"ngFor","ngForOf"],[1,"px-3","py-2","border","rounded-md",3,"click"],[1,"fixed","z-10","inset-0","overflow-y-auto"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-2xl","sm:w-full"],[1,"bg-white","px-6","pt-5","pb-4"],[1,"flex","items-center","justify-between"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-gray-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-6","pb-6",3,"ngSubmit"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-md",4,"ngIf"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","name","name","required","",1,"input-field",3,"ngModelChange","ngModel"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["type","email","name","email","required","",1,"input-field",3,"ngModelChange","ngModel"],["name","description","rows","3","placeholder","D\xE9crivez l'association...",1,"input-field",3,"ngModelChange","ngModel"],["type","tel","name","phone",1,"input-field",3,"ngModelChange","ngModel"],["name","address","rows","2","placeholder","Adresse compl\xE8te...",1,"input-field",3,"ngModelChange","ngModel"],["type","url","name","website","placeholder","https://...",1,"input-field",3,"ngModelChange","ngModel"],[1,"mt-6","flex","justify-end","space-x-3"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-md"],[1,"text-sm","text-red-800"],[1,"mt-1","text-sm","text-red-600"],["type","checkbox","name","isActive",1,"rounded","border-gray-300","text-blue-600","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"ml-2","text-sm","text-gray-700"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),f(5,"Gestion des Associations"),c(),u(6,"p",4),f(7,"G\xE9rez toutes les associations de la plateforme"),c()(),u(8,"button",5),M("click",function(){return r.goBack()}),F(),u(9,"svg",6),C(10,"path",7),c(),f(11," Retour au dashboard "),c(),H(),u(12,"button",8),M("click",function(){return r.openCreateModal()}),F(),u(13,"svg",9),C(14,"path",10),c(),f(15," Cr\xE9er une association "),c()()(),H(),u(16,"div",11)(17,"div",12)(18,"div")(19,"label",13),f(20,"Rechercher"),c(),u(21,"input",14),se("ngModelChange",function(o){return ae(r.searchQuery,o)||(r.searchQuery=o),o}),M("input",function(){return r.onSearchChange()}),c()(),u(22,"div")(23,"label",13),f(24,"Statut"),c(),u(25,"select",15),se("ngModelChange",function(o){return ae(r.filterActive,o)||(r.filterActive=o),o}),M("change",function(){return r.onFilterChange()}),u(26,"option",16),f(27,"Toutes"),c(),u(28,"option",17),f(29,"Actives"),c(),u(30,"option",18),f(31,"Inactives"),c()()()()(),w(32,fT,4,0,"div",19)(33,_T,21,5,"div",20),c(),w(34,IT,48,22,"div",21)),t&2&&(p(21),oe("ngModel",r.searchQuery),p(4),oe("ngModel",r.filterActive),p(7),g("ngIf",r.loading),p(),g("ngIf",!r.loading),p(),g("ngIf",r.showModal))},dependencies:[_e,ut,Le,r0,ln,nr,Pi,Fi,on,Rr,rr,an,tr,kr,En,Or]})};var ay=[{path:"",redirectTo:"/map",pathMatch:"full"},{path:"map",component:Rl,title:"Carte des Maraudes - Mapraude"},{path:"login",component:Sl,title:"Connexion Association - Mapraude"},{path:"dashboard",component:Tl,title:"Espace Association - Mapraude",canActivate:[Mn]},{path:"dashboard/add-maraude",component:Ho,title:"Nouvelle Maraude - Mapraude",canActivate:[Mn]},{path:"dashboard/associations",component:kl,canActivate:[Mn]},{path:"dashboard/edit-maraude/:id",component:Ho,title:"Modifier Maraude - Mapraude",canActivate:[Mn]},{path:"reports",component:Ol,title:"Comptes-rendus - Mapraude",canActivate:[Mn]},{path:"reports/create",component:Li,title:"Nouveau Rapport - Mapraude",canActivate:[Mn]},{path:"reports/:id/edit",component:Li,title:"Modifier Rapport - Mapraude",canActivate:[Mn]},{path:"reports/:id",component:Li,title:"Voir Rapport - Mapraude",canActivate:[Mn]},{path:"**",redirectTo:"/map"}];var Pl=!1,Pf=new Se(null),Ff=(e,n)=>e.clone({setHeaders:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}}),ST=(e,n,t,r)=>Pl?Pf.pipe(We(i=>i!==null),bt(1),$e(i=>{let o=Ff(e,i);return n(o)})):(Pl=!0,Pf.next(null),t.refreshToken().pipe($e(i=>{Pl=!1;let o=i.token;Pf.next(o);let s=Ff(e,o);return n(s)}),Ce(i=>(Pl=!1,t.logout(),r.navigate(["/login"]),Te(()=>i))))),ly=(e,n)=>{let t=D(Ie),r=D(de);if(e.url.includes("/auth/refresh"))return n(e);let i=t.getToken(),o=e;return i&&(o=Ff(e,i)),n(o).pipe(Ce(s=>s.status===401&&i?ST(o,n,t,r):Te(()=>s)))};var cy={providers:[Vg({eventCoalescing:!0}),gv(ay),m0(g0([ly]),v0())]};E0(fl,cy).catch(e=>console.error(e));
