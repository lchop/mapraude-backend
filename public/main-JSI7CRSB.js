import{a as E,b as z,c as fy,d as Q,e as py}from"./chunk-ZJUZRMCN.js";function Vf(e,n){return Object.is(e,n)}var je=null,Wo=!1,qo=1,pn=Symbol("SIGNAL");function oe(e){let n=je;return je=e,n}function jf(){return je}var $i={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ul(e){if(Wo)throw new Error("");if(je===null)return;je.consumerOnSignalRead(e);let n=je.nextProducerIndex++;if(Ko(je),n<je.producerNode.length&&je.producerNode[n]!==e&&Bi(je)){let t=je.producerNode[n];Yo(t,je.producerIndexOfThis[n])}je.producerNode[n]!==e&&(je.producerNode[n]=e,je.producerIndexOfThis[n]=Bi(je)?Hf(e,je,n):0),je.producerLastReadVersion[n]=e.version}function hy(){qo++}function Uf(e){if(!(Bi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===qo)){if(!e.producerMustRecompute(e)&&!$l(e)){e.dirty=!1,e.lastCleanEpoch=qo;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=qo}}function Bf(e){if(e.liveConsumerNode===void 0)return;let n=Wo;Wo=!0;try{for(let t of e.liveConsumerNode)t.dirty||my(t)}finally{Wo=n}}function $f(){return je?.consumerAllowSignalWrites!==!1}function my(e){e.dirty=!0,Bf(e),e.consumerMarkedDirty?.(e)}function Qo(e){return e&&(e.nextProducerIndex=0),oe(e)}function Bl(e,n){if(oe(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Bi(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Yo(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function $l(e){Ko(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Uf(t),r!==t.version))return!0}return!1}function Hl(e){if(Ko(e),Bi(e))for(let n=0;n<e.producerNode.length;n++)Yo(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Hf(e,n,t){if(zf(e),e.liveConsumerNode.length===0&&Gf(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Hf(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Yo(e,n){if(zf(e),e.liveConsumerNode.length===1&&Gf(e))for(let r=0;r<e.producerNode.length;r++)Yo(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Ko(i),i.producerIndexOfThis[r]=n}}function Bi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ko(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function zf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Gf(e){return e.producerNode!==void 0}function Wf(e){let n=Object.create(gy);n.computation=e;let t=()=>{if(Uf(n),Ul(n),n.value===Zo)throw n.error;return n.value};return t[pn]=n,t}var Vl=Symbol("UNSET"),jl=Symbol("COMPUTING"),Zo=Symbol("ERRORED"),gy=z(E({},$i),{value:Vl,dirty:!0,error:null,equal:Vf,producerMustRecompute(e){return e.value===Vl||e.value===jl},producerRecomputeValue(e){if(e.value===jl)throw new Error("Detected cycle in computations.");let n=e.value;e.value=jl;let t=Qo(e),r;try{r=e.computation()}catch(i){r=Zo,e.error=i}finally{Bl(e,t)}if(n!==Vl&&n!==Zo&&r!==Zo&&e.equal(n,r)){e.value=n;return}e.value=r,e.version++}});function vy(){throw new Error}var qf=vy;function Zf(){qf()}function Qf(e){qf=e}var yy=null;function Yf(e){let n=Object.create(Jf);n.value=e;let t=()=>(Ul(n),n.value);return t[pn]=n,t}function zl(e,n){$f()||Zf(),e.equal(e.value,n)||(e.value=n,by(e))}function Kf(e,n){$f()||Zf(),zl(e,n(e.value))}var Jf=z(E({},$i),{equal:Vf,value:void 0});function by(e){e.version++,hy(),Bf(e),yy?.()}function B(e){return typeof e=="function"}function Lr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Jo=Lr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Hi(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Oe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(o){n=o instanceof Jo?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xf(o)}catch(s){n=n??[],s instanceof Jo?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Jo(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Xf(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Hi(t,n)}remove(n){let{_finalizers:t}=this;t&&Hi(t,n),n instanceof e&&n._removeParent(this)}};Oe.EMPTY=(()=>{let e=new Oe;return e.closed=!0,e})();var Gl=Oe.EMPTY;function Xo(e){return e instanceof Oe||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function Xf(e){B(e)?e():e.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vr={setTimeout(e,n,...t){let{delegate:r}=Vr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Vr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function es(e){Vr.setTimeout(()=>{let{onUnhandledError:n}=Ft;if(n)n(e);else throw e})}function zi(){}var ep=Wl("C",void 0,void 0);function tp(e){return Wl("E",void 0,e)}function np(e){return Wl("N",e,void 0)}function Wl(e,n,t){return{kind:e,value:n,error:t}}var lr=null;function jr(e){if(Ft.useDeprecatedSynchronousErrorHandling){let n=!lr;if(n&&(lr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=lr;if(lr=null,t)throw r}}else e()}function rp(e){Ft.useDeprecatedSynchronousErrorHandling&&lr&&(lr.errorThrown=!0,lr.error=e)}var cr=class extends Oe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Xo(n)&&n.add(this)):this.destination=Cy}static create(n,t,r){return new Tn(n,t,r)}next(n){this.isStopped?Zl(np(n),this):this._next(n)}error(n){this.isStopped?Zl(tp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Zl(ep,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_y=Function.prototype.bind;function ql(e,n){return _y.call(e,n)}var Ql=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){ts(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){ts(r)}else ts(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){ts(t)}}},Tn=class extends cr{constructor(n,t,r){super();let i;if(B(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ft.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&ql(n.next,o),error:n.error&&ql(n.error,o),complete:n.complete&&ql(n.complete,o)}):i=n}this.destination=new Ql(i)}};function ts(e){Ft.useDeprecatedSynchronousErrorHandling?rp(e):es(e)}function wy(e){throw e}function Zl(e,n){let{onStoppedNotification:t}=Ft;t&&Vr.setTimeout(()=>t(e,n))}var Cy={closed:!0,next:zi,error:wy,complete:zi};var Ur=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(e){return e}function Yl(...e){return Kl(e)}function Kl(e){return e.length===0?pt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ee=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=xy(t)?t:new Tn(t,r,i);return jr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ip(r),new r((i,o)=>{let s=new Tn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ur](){return this}pipe(...t){return Kl(t)(this)}toPromise(t){return t=ip(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function ip(e){var n;return(n=e??Ft.Promise)!==null&&n!==void 0?n:Promise}function Dy(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}function xy(e){return e&&e instanceof cr||Dy(e)&&Xo(e)}function Jl(e){return B(e?.lift)}function te(e){return n=>{if(Jl(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(e,n,t,r,i){return new Xl(e,n,t,r,i)}var Xl=class extends cr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Br(){return te((e,n)=>{let t=null;e._refCount++;let r=Y(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var $r=class extends ee{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Oe;let t=this.getSubject();n.add(this.source.subscribe(Y(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Oe.EMPTY)}return n}refCount(){return Br()(this)}};var op=Lr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class e extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ns(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new op}next(t){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gl:(this.currentObservers=null,o.push(t),new Oe(()=>{this.currentObservers=null,Hi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return e.create=(n,t)=>new ns(n,t),e})(),ns=class extends Be{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Gl}};var Te=class extends Be{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ht=new ee(e=>e.complete());function sp(e){return e&&B(e.schedule)}function ap(e){return e[e.length-1]}function rs(e){return B(ap(e))?e.pop():void 0}function An(e){return sp(ap(e))?e.pop():void 0}function cp(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(m){s(m)}}function l(h){try{d(r.throw(h))}catch(m){s(m)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(e,n||[])).next())})}function lp(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ur(e){return this instanceof ur?(this.v=e,this):new ur(e)}function up(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,m)}}function a(y,x){r[y]&&(i[y]=function(A){return new Promise(function(O,U){o.push([y,A,O,U])>1||l(y,A)})},x&&(i[y]=x(i[y])))}function l(y,x){try{d(r[y](x))}catch(A){b(o[0][3],A)}}function d(y){y.value instanceof ur?Promise.resolve(y.value.v).then(h,m):b(o[0][2],y)}function h(y){l("next",y)}function m(y){l("throw",y)}function b(y,x){y(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function dp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof lp=="function"?lp(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var is=e=>e&&typeof e.length=="number"&&typeof e!="function";function os(e){return B(e?.then)}function ss(e){return B(e[Ur])}function as(e){return Symbol.asyncIterator&&B(e?.[Symbol.asyncIterator])}function ls(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ey(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cs=Ey();function us(e){return B(e?.[cs])}function ds(e){return up(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield ur(t.read());if(i)return yield ur(void 0);yield yield ur(r)}}finally{t.releaseLock()}})}function fs(e){return B(e?.getReader)}function ke(e){if(e instanceof ee)return e;if(e!=null){if(ss(e))return My(e);if(is(e))return Iy(e);if(os(e))return Sy(e);if(as(e))return fp(e);if(us(e))return Ty(e);if(fs(e))return Ay(e)}throw ls(e)}function My(e){return new ee(n=>{let t=e[Ur]();if(B(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Iy(e){return new ee(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Sy(e){return new ee(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,es)})}function Ty(e){return new ee(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function fp(e){return new ee(n=>{Ny(e,n).catch(t=>n.error(t))})}function Ay(e){return fp(ds(e))}function Ny(e,n){var t,r,i,o;return cp(this,void 0,void 0,function*(){try{for(t=dp(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function at(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ps(e,n=0){return te((t,r)=>{t.subscribe(Y(r,i=>at(r,e,()=>r.next(i),n),()=>at(r,e,()=>r.complete(),n),i=>at(r,e,()=>r.error(i),n)))})}function hs(e,n=0){return te((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function pp(e,n){return ke(e).pipe(hs(n),ps(n))}function hp(e,n){return ke(e).pipe(hs(n),ps(n))}function mp(e,n){return new ee(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function gp(e,n){return new ee(t=>{let r;return at(t,n,()=>{r=e[cs](),at(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function ms(e,n){if(!e)throw new Error("Iterable cannot be null");return new ee(t=>{at(t,n,()=>{let r=e[Symbol.asyncIterator]();at(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function vp(e,n){return ms(ds(e),n)}function yp(e,n){if(e!=null){if(ss(e))return pp(e,n);if(is(e))return mp(e,n);if(os(e))return hp(e,n);if(as(e))return ms(e,n);if(us(e))return gp(e,n);if(fs(e))return vp(e,n)}throw ls(e)}function ve(e,n){return n?yp(e,n):ke(e)}function L(...e){let n=An(e);return ve(e,n)}function Ae(e,n){let t=B(e)?e:()=>e,r=i=>i.error(t());return new ee(n?i=>n.schedule(r,0,i):r)}function ec(e){return!!e&&(e instanceof ee||B(e.lift)&&B(e.subscribe))}var Lt=Lr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function we(e,n){let t=typeof n=="object";return new Promise((r,i)=>{let o=new Tn({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(n.defaultValue):i(new Lt)}});e.subscribe(o)})}function $(e,n){return te((t,r)=>{let i=0;t.subscribe(Y(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:Ry}=Array;function Oy(e,n){return Ry(n)?e(...n):e(n)}function gs(e){return $(n=>Oy(e,n))}var{isArray:ky}=Array,{getPrototypeOf:Py,prototype:Fy,keys:Ly}=Object;function vs(e){if(e.length===1){let n=e[0];if(ky(n))return{args:n,keys:null};if(Vy(n)){let t=Ly(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Vy(e){return e&&typeof e=="object"&&Py(e)===Fy}function ys(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Gi(...e){let n=An(e),t=rs(e),{args:r,keys:i}=vs(e);if(r.length===0)return ve([],n);let o=new ee(jy(r,n,i?s=>ys(i,s):pt));return t?o.pipe(gs(t)):o}function jy(e,n,t=pt){return r=>{bp(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)bp(n,()=>{let d=ve(e[l],n),h=!1;d.subscribe(Y(r,m=>{o[l]=m,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bp(e,n,t){e?at(t,e,n):n()}function _p(e,n,t,r,i,o,s,a){let l=[],d=0,h=0,m=!1,b=()=>{m&&!l.length&&!d&&n.complete()},y=A=>d<r?x(A):l.push(A),x=A=>{o&&n.next(A),d++;let O=!1;ke(t(A,h++)).subscribe(Y(n,U=>{i?.(U),o?y(U):n.next(U)},()=>{O=!0},void 0,()=>{if(O)try{for(d--;l.length&&d<r;){let U=l.shift();s?at(n,s,()=>x(U)):x(U)}b()}catch(U){n.error(U)}}))};return e.subscribe(Y(n,y,()=>{m=!0,b()})),()=>{a?.()}}function Pe(e,n,t=1/0){return B(n)?Pe((r,i)=>$((o,s)=>n(r,o,i,s))(ke(e(r,i))),t):(typeof n=="number"&&(t=n),te((r,i)=>_p(r,i,e,t)))}function Nn(e=1/0){return Pe(pt,e)}function wp(){return Nn(1)}function Hr(...e){return wp()(ve(e,An(e)))}function bs(e){return new ee(n=>{ke(e()).subscribe(n)})}function tc(...e){let n=rs(e),{args:t,keys:r}=vs(e),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let h=0;h<s;h++){let m=!1;ke(t[h]).subscribe(Y(o,b=>{m||(m=!0,d--),a[h]=b},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?ys(r,a):a),o.complete())}))}});return n?i.pipe(gs(n)):i}function We(e,n){return te((t,r)=>{let i=0;t.subscribe(Y(r,o=>e.call(n,o,i++)&&r.next(o)))})}function xe(e){return te((n,t)=>{let r=null,i=!1,o;r=n.subscribe(Y(t,void 0,void 0,s=>{o=ke(e(s,xe(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Cp(e,n,t,r,i){return(o,s)=>{let a=t,l=n,d=0;o.subscribe(Y(s,h=>{let m=d++;l=a?e(l,h,m):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function hn(e,n){return B(n)?Pe(e,n,1):Pe(e,1)}function Rn(e){return te((n,t)=>{let r=!1;n.subscribe(Y(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function wt(e){return e<=0?()=>ht:te((n,t)=>{let r=0;n.subscribe(Y(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function nc(e){return $(()=>e)}function _s(e=Uy){return te((n,t)=>{let r=!1;n.subscribe(Y(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Uy(){return new Lt}function dr(e){return te((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Qt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?We((i,o)=>e(i,o,r)):pt,wt(1),t?Rn(n):_s(()=>new Lt))}function zr(e){return e<=0?()=>ht:te((n,t)=>{let r=[];n.subscribe(Y(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rc(e,n){let t=arguments.length>=2;return r=>r.pipe(e?We((i,o)=>e(i,o,r)):pt,zr(1),t?Rn(n):_s(()=>new Lt))}function ic(e,n){return te(Cp(e,n,arguments.length>=2,!0))}function oc(...e){let n=An(e);return te((t,r)=>{(n?Hr(e,t,n):Hr(e,t)).subscribe(r)})}function $e(e,n){return te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Y(r,l=>{i?.unsubscribe();let d=0,h=o++;ke(e(l,h)).subscribe(i=Y(r,m=>r.next(n?n(l,m,h,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sc(e){return te((n,t)=>{ke(e).subscribe(Y(t,()=>t.complete(),zi)),!t.closed&&n.subscribe(t)})}function se(e,n,t){let r=B(e)||n||t?{next:e,error:n,complete:t}:e;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Y(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):pt}var sh="https://g.co/ng/security#xss",P=class extends Error{constructor(n,t){super(ra(n,t)),this.code=n}};function ra(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}function eo(e){return{toString:e}.toString()}var ws="__parameters__";function By(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function ah(e,n,t){return eo(()=>{let r=By(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,h){let m=l.hasOwnProperty(ws)?l[ws]:Object.defineProperty(l,ws,{value:[]})[ws];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var pr=globalThis;function he(e){for(let n in e)if(e[n]===he)return n;throw Error("Could not find renamed property on target object.")}function $y(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function nt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(nt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function wc(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var Hy=he({__forward_ref__:he});function Ue(e){return e.__forward_ref__=Ue,e.toString=function(){return nt(this())},e}function tt(e){return lh(e)?e():e}function lh(e){return typeof e=="function"&&e.hasOwnProperty(Hy)&&e.__forward_ref__===Ue}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ia(e){return Dp(e,uh)||Dp(e,dh)}function ch(e){return ia(e)!==null}function Dp(e,n){return e.hasOwnProperty(n)?e[n]:null}function zy(e){let n=e&&(e[uh]||e[dh]);return n||null}function xp(e){return e&&(e.hasOwnProperty(Ep)||e.hasOwnProperty(Gy))?e[Ep]:null}var uh=he({\u0275prov:he}),Ep=he({\u0275inj:he}),dh=he({ngInjectableDef:he}),Gy=he({ngInjectorDef:he}),k=class{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fh(e){return e&&!!e.\u0275providers}var Wy=he({\u0275cmp:he}),qy=he({\u0275dir:he}),Zy=he({\u0275pipe:he}),Qy=he({\u0275mod:he}),Rs=he({\u0275fac:he}),qi=he({__NG_ELEMENT_ID__:he}),Mp=he({__NG_ENV_ID__:he});function Kr(e){return typeof e=="string"?e:e==null?"":String(e)}function Yy(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Kr(e)}function Ky(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new P(-200,e)}function bu(e,n){throw new P(-201,!1)}var q=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(q||{}),Cc;function ph(){return Cc}function lt(e){let n=Cc;return Cc=e,n}function hh(e,n,t){let r=ia(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&q.Optional)return null;if(n!==void 0)return n;bu(e,"Injector")}var Jy={},Zi=Jy,Dc="__NG_DI_FLAG__",Os="ngTempTokenPath",Xy="ngTokenPath",eb=/\n/gm,tb="\u0275",Ip="__source",Qr;function nb(){return Qr}function On(e){let n=Qr;return Qr=e,n}function rb(e,n=q.Default){if(Qr===void 0)throw new P(-203,!1);return Qr===null?hh(e,void 0,n):Qr.get(e,n&q.Optional?null:void 0,n)}function F(e,n=q.Default){return(ph()||rb)(tt(e),n)}function D(e,n=q.Default){return F(e,oa(n))}function oa(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xc(e){let n=[];for(let t=0;t<e.length;t++){let r=tt(e[t]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=ib(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(F(i,o))}else n.push(F(r))}return n}function mh(e,n){return e[Dc]=n,e.prototype[Dc]=n,e}function ib(e){return e[Dc]}function ob(e,n,t,r){let i=e[Os];throw n[Ip]&&i.unshift(n[Ip]),e.message=sb(`
`+e.message,i,t,r),e[Xy]=i,e[Os]=null,e}function sb(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==tb?e.slice(2):e;let i=nt(n);if(Array.isArray(n))i=n.map(nt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(eb,`
  `)}`}var sa=mh(ah("Optional"),8);var _u=mh(ah("SkipSelf"),4);function mr(e,n){let t=e.hasOwnProperty(Rs);return t?e[Rs]:null}function ab(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function lb(e){return e.flat(Number.POSITIVE_INFINITY)}function wu(e,n){e.forEach(t=>Array.isArray(t)?wu(t,n):n(t))}function gh(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ks(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function cb(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Cu(e,n,t){let r=to(e,n);return r>=0?e[r|1]=t:(r=~r,cb(e,r,n,t)),r}function ac(e,n){let t=to(e,n);if(t>=0)return e[t|1]}function to(e,n){return ub(e,n,1)}function ub(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Jr={},ct=[],Xr=new k(""),vh=new k("",-1),yh=new k(""),Ps=class{get(n,t=Zi){if(t===Zi){let r=new Error(`NullInjectorError: No provider for ${nt(n)}!`);throw r.name="NullInjectorError",r}return t}},bh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(bh||{}),Jt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Jt||{}),Fn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Fn||{});function db(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Ec(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];fb(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function _h(e){return e===3||e===4||e===6}function fb(e){return e.charCodeAt(0)===64}function Qi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Sp(e,t,i,null,n[++r]):Sp(e,t,i,null,null))}}return e}function Sp(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var wh="ng-template";function pb(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&db(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Du(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Du(e){return e.type===4&&e.value!==wh}function hb(e,n,t){let r=e.type===4&&!t?wh:e.value;return n===r}function mb(e,n,t){let r=4,i=e.attrs,o=i!==null?yb(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Vt(r)&&!Vt(l))return!1;if(s&&Vt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!hb(e,l,t)||l===""&&n.length===1){if(Vt(r))return!1;s=!0}}else if(r&8){if(i===null||!pb(e,i,l,t)){if(Vt(r))return!1;s=!0}}else{let d=n[++a],h=gb(l,i,Du(e),t);if(h===-1){if(Vt(r))return!1;s=!0;continue}if(d!==""){let m;if(h>o?m="":m=i[h+1].toLowerCase(),r&2&&d!==m){if(Vt(r))return!1;s=!0}}}}return Vt(r)||s}function Vt(e){return(e&1)===0}function gb(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bb(n,e)}function vb(e,n,t=!1){for(let r=0;r<n.length;r++)if(mb(e,n[r],t))return!0;return!1}function yb(e){for(let n=0;n<e.length;n++){let t=e[n];if(_h(t))return n}return e.length}function bb(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Tp(e,n){return e?":not("+n.trim()+")":n}function _b(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vt(s)&&(n+=Tp(o,i),i=""),r=s,o=o||!Vt(r);t++}return i!==""&&(n+=Tp(o,i)),n}function wb(e){return e.map(_b).join(",")}function Cb(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Vt(i))break;i=o}r++}return{attrs:n,classes:t}}function fe(e){return eo(()=>{let n=Mh(e),t=z(E({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===bh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Jt.Emulated,styles:e.styles||ct,_:null,schemas:e.schemas||null,tView:null,id:""});Ih(t);let r=e.dependencies;return t.directiveDefs=Np(r,!1),t.pipeDefs=Np(r,!0),t.id=Eb(t),t})}function Db(e){return Ln(e)||Ch(e)}function xb(e){return e!==null}function rn(e){return eo(()=>({type:e.type,bootstrap:e.bootstrap||ct,declarations:e.declarations||ct,imports:e.imports||ct,exports:e.exports||ct,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ap(e,n){if(e==null)return Jr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Fn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(t[o]=a!==Fn.None?[r,a]:r,n[o]=s):t[o]=r}return t}function re(e){return eo(()=>{let n=Mh(e);return Ih(n),n})}function xu(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ln(e){return e[Wy]||null}function Ch(e){return e[qy]||null}function Dh(e){return e[Zy]||null}function xh(e){let n=Ln(e)||Ch(e)||Dh(e);return n!==null?n.standalone:!1}function Eh(e,n){let t=e[Qy]||null;if(!t&&n===!0)throw new Error(`Type ${nt(e)} does not have '\u0275mod' property.`);return t}function Mh(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Jr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||ct,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ap(e.inputs,n),outputs:Ap(e.outputs),debugInfo:null}}function Ih(e){e.features?.forEach(n=>n(e))}function Np(e,n){if(!e)return null;let t=n?Dh:Db;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(xb)}function Eb(e){let n=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function li(e){return{\u0275providers:e}}function Mb(...e){return{\u0275providers:Sh(!0,e),\u0275fromNgModule:!0}}function Sh(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return wu(n,s=>{let a=s;Mc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Th(i,o),t}function Th(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Eu(i,o=>{n(o,r)})}}function Mc(e,n,t,r){if(e=tt(e),!e)return!1;let i=null,o=xp(e),s=!o&&Ln(e);if(!o&&!s){let l=e.ngModule;if(o=xp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Mc(d,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{wu(o.imports,h=>{Mc(h,n,t,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&Th(d,n)}if(!a){let d=mr(i)||(()=>new i);n({provide:i,useFactory:d,deps:ct},i),n({provide:yh,useValue:i,multi:!0},i),n({provide:Xr,useValue:()=>F(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=e;Eu(l,h=>{n(h,d)})}}else return!1;return i!==e&&e.providers!==void 0}function Eu(e,n){for(let t of e)fh(t)&&(t=t.\u0275providers),Array.isArray(t)?Eu(t,n):n(t)}var Ib=he({provide:String,useValue:he});function Ah(e){return e!==null&&typeof e=="object"&&Ib in e}function Sb(e){return!!(e&&e.useExisting)}function Tb(e){return!!(e&&e.useFactory)}function ei(e){return typeof e=="function"}function Ab(e){return!!e.useClass}var aa=new k(""),Ms={},Nb={},lc;function Mu(){return lc===void 0&&(lc=new Ps),lc}var rt=class{},Yi=class extends rt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sc(n,s=>this.processProvider(s)),this.records.set(vh,Gr(void 0,this)),i.has("environment")&&this.records.set(rt,Gr(void 0,this));let o=this.records.get(aa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yh,ct,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let t=On(this),r=lt(void 0),i;try{return n()}finally{On(t),lt(r)}}get(n,t=Zi,r=q.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Mp))return n[Mp](this);r=oa(r);let i,o=On(this),s=lt(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(n);if(l===void 0){let d=Fb(n)&&ia(n);d&&this.injectableDefInScope(d)?l=Gr(Ic(n),Ms):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&q.Self?Mu():this.parent;return t=r&q.Optional&&t===Zi?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Os]=a[Os]||[]).unshift(nt(n)),o)throw a;return ob(a,n,"R3InjectorError",this.source)}else throw a}finally{lt(s),On(o)}}resolveInjectorInitializers(){let n=oe(null),t=On(this),r=lt(void 0),i;try{let o=this.get(Xr,ct,q.Self);for(let s of o)s()}finally{On(t),lt(r),oe(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(nt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(n){n=tt(n);let t=ei(n)?n:tt(n&&n.provide),r=Ob(n);if(!ei(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Gr(void 0,Ms,!0),i.factory=()=>xc(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=oe(null);try{return t.value===Ms&&(t.value=Nb,t.value=t.factory()),typeof t.value=="object"&&t.value&&Pb(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=tt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ic(e){let n=ia(e),t=n!==null?n.factory:mr(e);if(t!==null)return t;if(e instanceof k)throw new P(204,!1);if(e instanceof Function)return Rb(e);throw new P(204,!1)}function Rb(e){if(e.length>0)throw new P(204,!1);let t=zy(e);return t!==null?()=>t.factory(e):()=>new e}function Ob(e){if(Ah(e))return Gr(void 0,e.useValue);{let n=Nh(e);return Gr(n,Ms)}}function Nh(e,n,t){let r;if(ei(e)){let i=tt(e);return mr(i)||Ic(i)}else if(Ah(e))r=()=>tt(e.useValue);else if(Tb(e))r=()=>e.useFactory(...xc(e.deps||[]));else if(Sb(e))r=()=>F(tt(e.useExisting));else{let i=tt(e&&(e.useClass||e.provide));if(kb(e))r=()=>new i(...xc(e.deps));else return mr(i)||Ic(i)}return r}function Gr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function kb(e){return!!e.deps}function Pb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Fb(e){return typeof e=="function"||typeof e=="object"&&e instanceof k}function Sc(e,n){for(let t of e)Array.isArray(t)?Sc(t,n):t&&fh(t)?Sc(t.\u0275providers,n):n(t)}function Et(e,n){e instanceof Yi&&e.assertNotDestroyed();let t,r=On(e),i=lt(void 0);try{return n()}finally{On(r),lt(i)}}function Rh(){return ph()!==void 0||nb()!=null}function Lb(e){if(!Rh())throw new P(-203,!1)}function Vb(e){return typeof e=="function"}var bn=0,G=1,j=2,Qe=3,Ut=4,$t=5,Fs=6,Ls=7,Bt=8,ti=9,Xt=10,Fe=11,Ki=12,Rp=13,ci=14,en=15,gr=16,Wr=17,mn=18,la=19,Oh=20,kn=21,cc=22,Ct=23,Dt=25,kh=1;var vr=7,Vs=8,ni=9,mt=10,js=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(js||{});function Pn(e){return Array.isArray(e)&&typeof e[kh]=="object"}function _n(e){return Array.isArray(e)&&e[kh]===!0}function Ph(e){return(e.flags&4)!==0}function ca(e){return e.componentOffset>-1}function Iu(e){return(e.flags&1)===1}function Vn(e){return!!e.template}function Tc(e){return(e[j]&512)!==0}var Ac=class{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Fh(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}function Ht(){return Lh}function Lh(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ub),jb}Ht.ngInherit=!0;function jb(){let e=jh(this),n=e?.current;if(n){let t=e.previous;if(t===Jr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Ub(e,n,t,r,i){let o=this.declaredInputs[r],s=jh(e)||Bb(e,{previous:Jr,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Ac(d&&d.currentValue,t,l===Jr),Fh(e,n,i,t)}var Vh="__ngSimpleChanges__";function jh(e){return e[Vh]||null}function Bb(e,n){return e[Vh]=n}var Op=null;var Yt=function(e,n,t){Op?.(e,n,t)},Uh="svg",$b="math";function tn(e){for(;Array.isArray(e);)e=e[bn];return e}function Bh(e,n){return tn(n[e])}function Mt(e,n){return tn(n[e.index])}function $h(e,n){return e.data[n]}function Su(e,n){return e[n]}function Un(e,n){let t=n[e];return Pn(t)?t:t[bn]}function Hb(e){return(e[j]&4)===4}function Tu(e){return(e[j]&128)===128}function zb(e){return _n(e[Qe])}function Us(e,n){return n==null?null:e[n]}function Hh(e){e[Wr]=0}function zh(e){e[j]&1024||(e[j]|=1024,Tu(e)&&da(e))}function Gb(e,n){for(;e>0;)n=n[ci],e--;return n}function ua(e){return!!(e[j]&9216||e[Ct]?.dirty)}function Nc(e){e[Xt].changeDetectionScheduler?.notify(8),e[j]&64&&(e[j]|=1024),ua(e)&&da(e)}function da(e){e[Xt].changeDetectionScheduler?.notify(0);let n=yr(e);for(;n!==null&&!(n[j]&8192||(n[j]|=8192,!Tu(n)));)n=yr(n)}function Gh(e,n){if((e[j]&256)===256)throw new P(911,!1);e[kn]===null&&(e[kn]=[]),e[kn].push(n)}function Wb(e,n){if(e[kn]===null)return;let t=e[kn].indexOf(n);t!==-1&&e[kn].splice(t,1)}function yr(e){let n=e[Qe];return _n(n)?n[Qe]:n}var H={lFrame:tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wh=!1;function qb(){return H.lFrame.elementDepthCount}function Zb(){H.lFrame.elementDepthCount++}function Qb(){H.lFrame.elementDepthCount--}function qh(){return H.bindingsEnabled}function Yb(){return H.skipHydrationRootTNode!==null}function Kb(e){return H.skipHydrationRootTNode===e}function Jb(){H.skipHydrationRootTNode=null}function ne(){return H.lFrame.lView}function He(){return H.lFrame.tView}function I(e){return H.lFrame.contextLView=e,e[Bt]}function S(e){return H.lFrame.contextLView=null,e}function Ye(){let e=Zh();for(;e!==null&&e.type===64;)e=e.parent;return e}function Zh(){return H.lFrame.currentTNode}function Xb(){let e=H.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function no(e,n){let t=H.lFrame;t.currentTNode=e,t.isParent=n}function Qh(){return H.lFrame.isParent}function e1(){H.lFrame.isParent=!1}function t1(){return H.lFrame.contextLView}function Yh(){return Wh}function kp(e){Wh=e}function Kh(){let e=H.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function n1(){return H.lFrame.bindingIndex}function r1(e){return H.lFrame.bindingIndex=e}function fa(){return H.lFrame.bindingIndex++}function Au(e){let n=H.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function i1(){return H.lFrame.inI18n}function o1(e,n){let t=H.lFrame;t.bindingIndex=t.bindingRootIndex=e,Rc(n)}function s1(){return H.lFrame.currentDirectiveIndex}function Rc(e){H.lFrame.currentDirectiveIndex=e}function a1(e){let n=H.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Jh(){return H.lFrame.currentQueryIndex}function Nu(e){H.lFrame.currentQueryIndex=e}function l1(e){let n=e[G];return n.type===2?n.declTNode:n.type===1?e[$t]:null}function Xh(e,n,t){if(t&q.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&q.Host);)if(i=l1(o),i===null||(o=o[ci],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=H.lFrame=em();return r.currentTNode=n,r.lView=e,!0}function Ru(e){let n=em(),t=e[G];H.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function em(){let e=H.lFrame,n=e===null?null:e.child;return n===null?tm(e):n}function tm(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function nm(){let e=H.lFrame;return H.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var rm=nm;function Ou(){let e=nm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function c1(e){return(H.lFrame.contextLView=Gb(e,H.lFrame.contextLView))[Bt]}function Bn(){return H.lFrame.selectedIndex}function br(e){H.lFrame.selectedIndex=e}function ku(){let e=H.lFrame;return $h(e.tView,e.selectedIndex)}function N(){H.lFrame.currentNamespace=Uh}function V(){u1()}function u1(){H.lFrame.currentNamespace=null}function d1(){return H.lFrame.currentNamespace}var im=!0;function Pu(){return im}function Fu(e){im=e}function f1(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Lh(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Lu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),h!=null&&(e.destroyHooks??=[]).push(t,h)}}function Is(e,n,t){om(e,n,3,t)}function Ss(e,n,t,r){(e[j]&3)===t&&om(e,n,t,r)}function uc(e,n){let t=e[j];(t&3)===n&&(t&=16383,t+=1,e[j]=t)}function om(e,n,t,r){let i=r!==void 0?e[Wr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[Wr]+=65536),(a<o||o==-1)&&(p1(e,t,n,l),e[Wr]=(e[Wr]&4294901760)+l+2),l++}function Pp(e,n){Yt(4,e,n);let t=oe(null);try{n.call(e)}finally{oe(t),Yt(5,e,n)}}function p1(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[j]>>14<e[Wr]>>16&&(e[j]&3)===n&&(e[j]+=16384,Pp(a,o)):Pp(a,o)}var Yr=-1,_r=class{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function h1(e){return e instanceof _r}function m1(e){return(e.flags&8)!==0}function g1(e){return(e.flags&16)!==0}var dc={},Oc=class{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=oa(r);let i=this.injector.get(n,dc,r);return i!==dc||t===dc?i:this.parentInjector.get(n,t,r)}};function sm(e){return e!==Yr}function Bs(e){return e&32767}function v1(e){return e>>16}function $s(e,n){let t=v1(e),r=n;for(;t>0;)r=r[ci],t--;return r}var kc=!0;function Hs(e){let n=kc;return kc=e,n}var y1=256,am=y1-1,lm=5,b1=0,Kt={};function _1(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qi)&&(r=t[qi]),r==null&&(r=t[qi]=b1++);let i=r&am,o=1<<i;n.data[e+(i>>lm)]|=o}function zs(e,n){let t=cm(e,n);if(t!==-1)return t;let r=n[G];r.firstCreatePass&&(e.injectorIndex=n.length,fc(r.data,e),fc(n,null),fc(r.blueprint,null));let i=Vu(e,n),o=e.injectorIndex;if(sm(i)){let s=Bs(i),a=$s(i,n),l=a[G].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|l[s+d]}return n[o+8]=i,o}function fc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function cm(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Vu(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=hm(i),r===null)return Yr;if(t++,i=i[ci],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Yr}function Pc(e,n,t){_1(e,n,t)}function w1(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(_h(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function um(e,n,t){if(t&q.Optional||e!==void 0)return e;bu(n,"NodeInjector")}function dm(e,n,t,r){if(t&q.Optional&&r===void 0&&(r=null),!(t&(q.Self|q.Host))){let i=e[ti],o=lt(void 0);try{return i?i.get(n,r,t&q.Optional):hh(n,r,t&q.Optional)}finally{lt(o)}}return um(r,n,t)}function fm(e,n,t,r=q.Default,i){if(e!==null){if(n[j]&2048&&!(r&q.Self)){let s=E1(e,n,t,r,Kt);if(s!==Kt)return s}let o=pm(e,n,t,r,Kt);if(o!==Kt)return o}return dm(n,t,r,i)}function pm(e,n,t,r,i){let o=D1(t);if(typeof o=="function"){if(!Xh(n,e,r))return r&q.Host?um(i,t,r):dm(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))bu(t);else return s}finally{rm()}}else if(typeof o=="number"){let s=null,a=cm(e,n),l=Yr,d=r&q.Host?n[en][$t]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?Vu(e,n):n[a+8],l===Yr||!Lp(r,!1)?a=-1:(s=n[G],a=Bs(l),n=$s(l,n)));a!==-1;){let h=n[G];if(Fp(o,a,h.data)){let m=C1(a,n,t,s,r,d);if(m!==Kt)return m}l=n[a+8],l!==Yr&&Lp(r,n[G].data[a+8]===d)&&Fp(o,a,n)?(s=h,a=Bs(l),n=$s(l,n)):a=-1}}return i}function C1(e,n,t,r,i,o){let s=n[G],a=s.data[e+8],l=r==null?ca(a)&&kc:r!=s&&(a.type&3)!==0,d=i&q.Host&&o===a,h=Ts(a,s,t,l,d);return h!==null?wr(n,s,h,a):Kt}function Ts(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,h=o>>20,m=r?a:a+h,b=i?a+h:d;for(let y=m;y<b;y++){let x=s[y];if(y<l&&t===x||y>=l&&x.type===t)return y}if(i){let y=s[l];if(y&&Vn(y)&&y.type===t)return l}return null}function wr(e,n,t,r){let i=e[t],o=n.data;if(h1(i)){let s=i;s.resolving&&Ky(Yy(o[t]));let a=Hs(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?lt(s.injectImpl):null,h=Xh(e,r,q.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&f1(t,o[t],n)}finally{d!==null&&lt(d),Hs(a),s.resolving=!1,rm()}}return i}function D1(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(qi)?e[qi]:void 0;return typeof n=="number"?n>=0?n&am:x1:n}function Fp(e,n,t){let r=1<<e;return!!(t[n+(e>>lm)]&r)}function Lp(e,n){return!(e&q.Self)&&!(e&q.Host&&n)}var hr=class{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return fm(this._tNode,this._lView,n,oa(r),t)}};function x1(){return new hr(Ye(),ne())}function ut(e){return eo(()=>{let n=e.prototype.constructor,t=n[Rs]||Fc(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Rs]||Fc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fc(e){return lh(e)?()=>{let n=Fc(tt(e));return n&&n()}:mr(e)}function E1(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[j]&2048&&!(s[j]&512);){let a=pm(o,s,t,r|q.Self,Kt);if(a!==Kt)return a;let l=o.parent;if(!l){let d=s[Oh];if(d){let h=d.get(t,Kt,r);if(h!==Kt)return h}l=hm(s),s=s[ci]}o=l}return i}function hm(e){let n=e[G],t=n.type;return t===2?n.declTNode:t===1?e[$t]:null}function ju(e){return w1(Ye(),e)}function Vp(e,n=null,t=null,r){let i=mm(e,n,t,r);return i.resolveInjectorInitializers(),i}function mm(e,n=null,t=null,r,i=new Set){let o=[t||ct,Mb(e)];return r=r||(typeof e=="object"?void 0:nt(e)),new Yi(o,n||Mu(),r||null,i)}var xt=class e{static{this.THROW_IF_NOT_FOUND=Zi}static{this.NULL=new Ps}static create(n,t){if(Array.isArray(n))return Vp({name:""},t,n,"");{let r=n.name??"";return Vp({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=R({token:e,providedIn:"any",factory:()=>F(vh)})}static{this.__NG_ELEMENT_ID__=-1}};var M1=new k("");M1.__NG_ELEMENT_ID__=e=>{let n=Ye();if(n===null)throw new P(204,!1);if(n.type&2)return n.value;if(e&q.Optional)return null;throw new P(204,!1)};var I1="ngOriginalError";function pc(e){return e[I1]}var gm=!0,Uu=(()=>{class e{static{this.__NG_ELEMENT_ID__=S1}static{this.__NG_ENV_ID__=t=>t}}return e})(),Lc=class extends Uu{constructor(n){super(),this._lView=n}onDestroy(n){return Gh(this._lView,n),()=>Wb(this._lView,n)}};function S1(){return new Lc(ne())}var $n=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Vc=class extends Be{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Rh()&&(this.destroyRef=D(Uu,{optional:!0})??void 0,this.pendingTasks=D($n,{optional:!0})??void 0)}emit(n){let t=oe(null);try{super.next(n)}finally{oe(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Oe&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ye=Vc;function Gs(...e){}function vm(e){let n,t;function r(){e=Gs;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function jp(e){return queueMicrotask(()=>e()),()=>{e=Gs}}var Bu="isAngularZone",Ws=Bu+"_ID",T1=0,Ee=class e{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ye(!1),this.onMicrotaskEmpty=new ye(!1),this.onStable=new ye(!1),this.onError=new ye(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=gm}=n;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,R1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new P(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,A1,Gs,Gs);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},A1={};function $u(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function N1(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){vm(()=>{e.callbackScheduled=!1,jc(e),e.isCheckStableRunning=!0,$u(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),jc(e)}function R1(e){let n=()=>{N1(e)},t=T1++;e._inner=e._inner.fork({name:"angular",properties:{[Bu]:!0,[Ws]:t,[Ws+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(O1(l))return r.invokeTask(o,s,a,l);try{return Up(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Bp(e)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return Up(e),r.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!k1(l)&&n(),Bp(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,jc(e),$u(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function jc(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Up(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bp(e){e._nesting--,$u(e)}var Uc=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ye,this.onMicrotaskEmpty=new ye,this.onStable=new ye,this.onError=new ye}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function O1(e){return ym(e,"__ignore_ng_zone__")}function k1(e){return ym(e,"__scheduler_tick__")}function ym(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var gn=class{constructor(){this._console=console}handleError(n){let t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&pc(n);for(;t&&pc(t);)t=pc(t);return t||null}},P1=new k("",{providedIn:"root",factory:()=>{let e=D(Ee),n=D(gn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function F1(){return ui(Ye(),ne())}function ui(e,n){return new Ke(Mt(e,n))}var Ke=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=F1}}return e})();function L1(e){return e instanceof Ke?e.nativeElement:e}function V1(){return this._results[Symbol.iterator]()}var Bc=class e{get changes(){return this._changes??=new ye}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=V1)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=lb(n);(this._changesDetected=!ab(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bm(e){return(e.flags&128)===128}var _m=new Map,j1=0;function U1(){return j1++}function B1(e){_m.set(e[la],e)}function $c(e){_m.delete(e[la])}var $p="__ngContext__";function Cr(e,n){Pn(n)?(e[$p]=n[la],B1(n)):e[$p]=n}function wm(e){return Dm(e[Ki])}function Cm(e){return Dm(e[Ut])}function Dm(e){for(;e!==null&&!_n(e);)e=e[Ut];return e}var Hc;function xm(e){Hc=e}function $1(){if(Hc!==void 0)return Hc;if(typeof document<"u")return document;throw new P(210,!1)}var Hu=new k("",{providedIn:"root",factory:()=>H1}),H1="ng",zu=new k(""),on=new k("",{providedIn:"platform",factory:()=>"unknown"});var Gu=new k("",{providedIn:"root",factory:()=>$1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var z1="h",G1="b";var W1=()=>null;function Wu(e,n,t=!1){return W1(e,n,t)}var Em=!1,q1=new k("",{providedIn:"root",factory:()=>Em});var Cs;function Z1(){if(Cs===void 0&&(Cs=null,pr.trustedTypes))try{Cs=pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cs}function Hp(e){return Z1()?.createScriptURL(e)||e}var qs=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sh})`}};function di(e){return e instanceof qs?e.changingThisBreaksApplicationSecurity:e}function qu(e,n){let t=Q1(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${sh})`)}return t===n}function Q1(e){return e instanceof qs&&e.getTypeName()||null}var Y1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mm(e){return e=String(e),e.match(Y1)?e:"unsafe:"+e}var pa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(pa||{});function Zu(e){let n=Sm();return n?n.sanitize(pa.URL,e)||"":qu(e,"URL")?di(e):Mm(Kr(e))}function K1(e){let n=Sm();if(n)return Hp(n.sanitize(pa.RESOURCE_URL,e)||"");if(qu(e,"ResourceURL"))return Hp(di(e));throw new P(904,!1)}function J1(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?K1:Zu}function Im(e,n,t){return J1(n,t)(e)}function Sm(){let e=ne();return e&&e[Xt].sanitizer}function Tm(e){return e instanceof Function?e():e}function X1(e){return(e??D(xt)).get(on)==="browser"}var vn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(vn||{}),e_;function Qu(e,n){return e_(e,n)}function qr(e,n,t,r,i){if(r!=null){let o,s=!1;_n(r)?o=r:Pn(r)&&(s=!0,r=r[bn]);let a=tn(r);e===0&&t!==null?i==null?km(n,t,a):Zs(n,t,a,i||null,!0):e===1&&t!==null?Zs(n,t,a,i||null,!0):e===2?m_(n,a,s):e===3&&n.destroyNode(a),o!=null&&v_(n,e,o,t,i)}}function t_(e,n){return e.createText(n)}function n_(e,n,t){e.setValue(n,t)}function Am(e,n,t){return e.createElement(n,t)}function r_(e,n){Nm(e,n),n[bn]=null,n[$t]=null}function i_(e,n,t,r,i,o){r[bn]=i,r[$t]=n,ha(e,r,t,1,i,o)}function Nm(e,n){n[Xt].changeDetectionScheduler?.notify(9),ha(e,n,n[Fe],2,null,null)}function o_(e){let n=e[Ki];if(!n)return hc(e[G],e);for(;n;){let t=null;if(Pn(n))t=n[Ki];else{let r=n[mt];r&&(t=r)}if(!t){for(;n&&!n[Ut]&&n!==e;)Pn(n)&&hc(n[G],n),n=n[Qe];n===null&&(n=e),Pn(n)&&hc(n[G],n),t=n&&n[Ut]}n=t}}function s_(e,n,t,r){let i=mt+r,o=t.length;r>0&&(t[i-1][Ut]=n),r<o-mt?(n[Ut]=t[i],gh(t,mt+r,n)):(t.push(n),n[Ut]=null),n[Qe]=t;let s=n[gr];s!==null&&t!==s&&Rm(s,n);let a=n[mn];a!==null&&a.insertView(e),Nc(n),n[j]|=128}function Rm(e,n){let t=e[ni],r=n[Qe];if(Pn(r))e[j]|=js.HasTransplantedViews;else{let i=r[Qe][en];n[en]!==i&&(e[j]|=js.HasTransplantedViews)}t===null?e[ni]=[n]:t.push(n)}function Yu(e,n){let t=e[ni],r=t.indexOf(n);t.splice(r,1)}function zc(e,n){if(e.length<=mt)return;let t=mt+n,r=e[t];if(r){let i=r[gr];i!==null&&i!==e&&Yu(i,r),n>0&&(e[t-1][Ut]=r[Ut]);let o=ks(e,mt+n);r_(r[G],r);let s=o[mn];s!==null&&s.detachView(o[G]),r[Qe]=null,r[Ut]=null,r[j]&=-129}return r}function Om(e,n){if(!(n[j]&256)){let t=n[Fe];t.destroyNode&&ha(e,n,t,3,null,null),o_(n)}}function hc(e,n){if(n[j]&256)return;let t=oe(null);try{n[j]&=-129,n[j]|=256,n[Ct]&&Hl(n[Ct]),l_(e,n),a_(e,n),n[G].type===1&&n[Fe].destroy();let r=n[gr];if(r!==null&&_n(n[Qe])){r!==n[Qe]&&Yu(r,n);let i=n[mn];i!==null&&i.detachView(e)}$c(n)}finally{oe(t)}}function a_(e,n){let t=e.cleanup,r=n[Ls];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(n[Ls]=null);let i=n[kn];if(i!==null){n[kn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function l_(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof _r)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Yt(4,a,l);try{l.call(a)}finally{Yt(5,a,l)}}else{Yt(4,i,o);try{o.call(i)}finally{Yt(5,i,o)}}}}}function c_(e,n,t){return u_(e,n.parent,t)}function u_(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[bn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Jt.None||o===Jt.Emulated)return null}return Mt(r,t)}}function Zs(e,n,t,r,i){e.insertBefore(n,t,r,i)}function km(e,n,t){e.appendChild(n,t)}function zp(e,n,t,r,i){r!==null?Zs(e,n,t,r,i):km(e,n,t)}function Pm(e,n){return e.parentNode(n)}function d_(e,n){return e.nextSibling(n)}function f_(e,n,t){return h_(e,n,t)}function p_(e,n,t){return e.type&40?Mt(e,t):null}var h_=p_,Gp;function Ku(e,n,t,r){let i=c_(e,r,n),o=n[Fe],s=r.parent||n[$t],a=f_(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)zp(o,i,t[l],a,!1);else zp(o,i,t,a,!1);Gp!==void 0&&Gp(o,r,n,t,i)}function Wi(e,n){if(n!==null){let t=n.type;if(t&3)return Mt(n,e);if(t&4)return Gc(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Wi(e,r);{let i=e[n.index];return _n(i)?Gc(-1,i):tn(i)}}else{if(t&128)return Wi(e,n.next);if(t&32)return Qu(n,e)()||tn(e[n.index]);{let r=Fm(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=yr(e[en]);return Wi(i,r)}else return Wi(e,n.next)}}}return null}function Fm(e,n){if(n!==null){let r=e[en][$t],i=n.projection;return r.projection[i]}return null}function Gc(e,n){let t=mt+e+1;if(t<n.length){let r=n[t],i=r[G].firstChild;if(i!==null)return Wi(r,i)}return n[vr]}function m_(e,n,t){e.removeChild(null,n,t)}function Ju(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&Cr(tn(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Ju(e,n,t.child,r,i,o,!1),qr(n,e,i,a,o);else if(l&32){let d=Qu(t,r),h;for(;h=d();)qr(n,e,i,h,o);qr(n,e,i,a,o)}else l&16?g_(e,n,r,t,i,o):qr(n,e,i,a,o);t=s?t.projectionNext:t.next}}function ha(e,n,t,r,i,o){Ju(t,r,e.firstChild,n,i,o,!1)}function g_(e,n,t,r,i,o){let s=t[en],l=s[$t].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let h=l[d];qr(n,e,i,h,o)}else{let d=l,h=s[Qe];bm(r)&&(d.flags|=128),Ju(e,n,d,h,i,o,!0)}}function v_(e,n,t,r,i){let o=t[vr],s=tn(t);o!==s&&qr(n,e,r,o,i);for(let a=mt;a<t.length;a++){let l=t[a];ha(l[G],l,e,n,r,o)}}function y_(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:vn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vn.Important),e.setStyle(t,r,i,o))}}function b_(e,n,t){e.setAttribute(n,"style",t)}function Lm(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Vm(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ec(e,n,r),i!==null&&Lm(e,n,i),o!==null&&b_(e,n,o)}var zt={};function p(e=1){jm(He(),ne(),Bn()+e,!1)}function jm(e,n,t,r){if(!r)if((n[j]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Is(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Ss(n,o,0,t)}br(t)}function C(e,n=q.Default){let t=ne();if(t===null)return F(e,n);let r=Ye();return fm(r,t,tt(e),n)}function Um(){let e="invalid";throw new Error(e)}function Bm(e,n,t,r,i,o){let s=oe(null);try{let a=null;i&Fn.SignalBased&&(a=n[r][pn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Fn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,r):Fh(n,a,r,o)}finally{oe(s)}}function __(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)br(~i);else{let o=i,s=t[++r],a=t[++r];o1(s,o);let l=n[o];a(2,l)}}}finally{br(-1)}}function ma(e,n,t,r,i,o,s,a,l,d,h){let m=n.blueprint.slice();return m[bn]=i,m[j]=r|4|128|8|64,(d!==null||e&&e[j]&2048)&&(m[j]|=2048),Hh(m),m[Qe]=m[ci]=e,m[Bt]=t,m[Xt]=s||e&&e[Xt],m[Fe]=a||e&&e[Fe],m[ti]=l||e&&e[ti]||null,m[$t]=o,m[la]=U1(),m[Fs]=h,m[Oh]=d,m[en]=n.type==2?e[en]:m,m}function ga(e,n,t,r,i){let o=e.data[n];if(o===null)o=w_(e,n,t,r,i),i1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Xb();o.injectorIndex=s===null?-1:s.injectorIndex}return no(o,!0),o}function w_(e,n,t,r,i){let o=Zh(),s=Qh(),a=s?o:o&&o.parent,l=e.data[n]=I_(e,a,t,n,r,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function $m(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Hm(e,n,t,r,i){let o=Bn(),s=r&2;try{br(-1),s&&n.length>Dt&&jm(e,n,Dt,!1),Yt(s?2:0,i),t(r,i)}finally{br(o),Yt(s?3:1,i)}}function zm(e,n,t){if(Ph(n)){let r=oe(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{oe(r)}}}function Gm(e,n,t){qh()&&(O_(e,n,t,Mt(t,n)),(t.flags&64)===64&&Km(e,n,t))}function Wm(e,n,t=Mt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function qm(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Xu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Xu(e,n,t,r,i,o,s,a,l,d,h){let m=Dt+r,b=m+i,y=C_(m,b),x=typeof d=="function"?d():d;return y[G]={type:e,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:n,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:h}}function C_(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:zt);return t}function D_(e,n,t,r){let o=r.get(q1,Em)||t===Jt.ShadowDom,s=e.selectRootElement(n,o);return x_(s),s}function x_(e){E_(e)}var E_=()=>null;function M_(e,n,t,r){let i=eg(n);i.push(t),e.firstCreatePass&&tg(e).push(r,i.length-1)}function I_(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Yb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Wp(e,n,t,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=Fn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}e===0?qp(r,t,d,a,l):qp(r,t,d,a)}return r}function qp(e,n,t,r,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,r):o=e[t]=[n,r],i!==void 0&&o.push(i)}function S_(e,n,t){let r=n.directiveStart,i=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,d=null;for(let h=r;h<i;h++){let m=o[h],b=t?t.get(m):null,y=b?b.inputs:null,x=b?b.outputs:null;l=Wp(0,m.inputs,h,l,y),d=Wp(1,m.outputs,h,d,x);let A=l!==null&&s!==null&&!Du(n)?z_(l,h,s):null;a.push(A)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=d}function T_(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Zm(e,n,t,r,i,o,s,a){let l=Mt(n,t),d=n.inputs,h;!a&&d!=null&&(h=d[r])?(ed(e,t,h,r,i),ca(n)&&A_(t,n.index)):n.type&3?(r=T_(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function A_(e,n){let t=Un(n,e);t[j]&16||(t[j]|=64)}function Qm(e,n,t,r){if(qh()){let i=r===null?null:{"":-1},o=P_(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Ym(e,n,t,s,i,a),i&&F_(t,r,i)}t.mergedAttrs=Qi(t.mergedAttrs,t.attrs)}function Ym(e,n,t,r,i,o){for(let d=0;d<r.length;d++)Pc(zs(t,n),e,r[d].type);V_(t,e.data.length,r.length);for(let d=0;d<r.length;d++){let h=r[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=$m(e,n,r.length,null);for(let d=0;d<r.length;d++){let h=r[d];t.mergedAttrs=Qi(t.mergedAttrs,h.hostAttrs),j_(e,t,n,l,h),L_(l,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}S_(e,t,o)}function N_(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;R_(s)!=a&&s.push(a),s.push(t,r,o)}}function R_(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function O_(e,n,t,r){let i=t.directiveStart,o=t.directiveEnd;ca(t)&&U_(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||zs(t,n),Cr(r,n);let s=t.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],d=wr(n,e,a,t);if(Cr(d,n),s!==null&&H_(n,a-i,d,l,t,s),Vn(l)){let h=Un(t.index,n);h[Bt]=wr(n,e,a,t)}}}function Km(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=s1();try{br(o);for(let a=r;a<i;a++){let l=e.data[a],d=n[a];Rc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&k_(l,d)}}finally{br(-1),Rc(s)}}function k_(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function P_(e,n){let t=e.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(vb(n,s.selectors,!1))if(r||(r=[]),Vn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Wc(e,n,l)}else r.unshift(s),Wc(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wc(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function F_(e,n,t){if(n){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new P(-301,!1);r.push(n[i],o)}}}function L_(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Vn(n)&&(t[""]=e)}}function V_(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function j_(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=mr(i.type,!0)),s=new _r(o,Vn(i),C);e.blueprint[r]=s,t[r]=s,N_(e,n,r,$m(e,t,i.hostVars,zt),i)}function U_(e,n,t){let r=Mt(n,e),i=qm(t),o=e[Xt].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=va(e,ma(e,i,null,s,r,n,null,o.createRenderer(r,t),null,null,null));e[n.index]=a}function B_(e,n,t,r,i,o){let s=Mt(e,n);$_(n[Fe],s,o,e.value,t,r,i)}function $_(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Kr(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function H_(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],h=s[a++],m=s[a++];Bm(r,t,l,d,h,m)}}function z_(e,n,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Jm(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Xm(e,n){let t=e.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Nu(o),a.contentQueries(2,n[s],s)}}}finally{oe(r)}}}function va(e,n){return e[Ki]?e[Rp][Ut]=n:e[Ki]=n,e[Rp]=n,n}function qc(e,n,t){Nu(0);let r=oe(null);try{n(e,t)}finally{oe(r)}}function eg(e){return e[Ls]??=[]}function tg(e){return e.cleanup??=[]}function ng(e,n){let t=e[ti],r=t?t.get(gn,null):null;r&&r.handleError(n)}function ed(e,n,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],d=n[s],h=e.data[s];Bm(h,d,r,a,l,i)}}function rg(e,n,t){let r=Bh(n,e);n_(e[Fe],r,t)}function G_(e,n){let t=Un(n,e),r=t[G];W_(r,t);let i=t[bn];i!==null&&t[Fs]===null&&(t[Fs]=Wu(i,t[ti])),td(r,t,t[Bt])}function W_(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function td(e,n,t){Ru(n);try{let r=e.viewQuery;r!==null&&qc(1,r,t);let i=e.template;i!==null&&Hm(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[mn]?.finishViewCreation(e),e.staticContentQueries&&Xm(e,n),e.staticViewQueries&&qc(2,e.viewQuery,t);let o=e.components;o!==null&&q_(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[j]&=-5,Ou()}}function q_(e,n){for(let t=0;t<n.length;t++)G_(e,n[t])}function Z_(e,n,t,r){let i=oe(null);try{let o=n.tView,a=e[j]&4096?4096:16,l=ma(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=e[n.index];l[gr]=d;let h=e[mn];return h!==null&&(l[mn]=h.createEmbeddedView(o)),td(o,l,t),l}finally{oe(i)}}function Zp(e,n){return!n||n.firstChild===null||bm(e)}function Q_(e,n,t,r=!0){let i=n[G];if(s_(i,n,e,t),r){let s=Gc(t,e),a=n[Fe],l=Pm(a,e[vr]);l!==null&&i_(i,e[$t],a,n,l,s)}let o=n[Fs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Qs(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(tn(o)),_n(o)&&Y_(o,r);let s=t.type;if(s&8)Qs(e,n,t.child,r);else if(s&32){let a=Qu(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Fm(n,t);if(Array.isArray(a))r.push(...a);else{let l=yr(n[en]);Qs(l[G],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Y_(e,n){for(let t=mt;t<e.length;t++){let r=e[t],i=r[G].firstChild;i!==null&&Qs(r[G],r,i,n)}e[vr]!==e[bn]&&n.push(e[vr])}var ig=[];function K_(e){return e[Ct]??J_(e)}function J_(e){let n=ig.pop()??Object.create(ew);return n.lView=e,n}function X_(e){e.lView[Ct]!==e&&(e.lView=null,ig.push(e))}var ew=z(E({},$i),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{da(e.lView)},consumerOnSignalRead(){this.lView[Ct]=this}});function tw(e){let n=e[Ct]??Object.create(nw);return n.lView=e,n}var nw=z(E({},$i),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=yr(e.lView);for(;n&&!og(n[G]);)n=yr(n);n&&zh(n)},consumerOnSignalRead(){this.lView[Ct]=this}});function og(e){return e.type!==2}var rw=100;function sg(e,n=!0,t=0){let r=e[Xt],i=r.rendererFactory,o=!1;o||i.begin?.();try{iw(e,t)}catch(s){throw n&&ng(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function iw(e,n){let t=Yh();try{kp(!0),Zc(e,n);let r=0;for(;ua(e);){if(r===rw)throw new P(103,!1);r++,Zc(e,1)}}finally{kp(t)}}function ow(e,n,t,r){let i=n[j];if((i&256)===256)return;let o=!1,s=!1;!o&&n[Xt].inlineEffectRunner?.flush(),Ru(n);let a=!0,l=null,d=null;o||(og(e)?(d=K_(n),l=Qo(d)):jf()===null?(a=!1,d=tw(n),l=Qo(d)):n[Ct]&&(Hl(n[Ct]),n[Ct]=null));try{Hh(n),r1(e.bindingStartIndex),t!==null&&Hm(e,n,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=e.preOrderCheckHooks;y!==null&&Is(n,y,null)}else{let y=e.preOrderHooks;y!==null&&Ss(n,y,0,null),uc(n,0)}if(s||sw(n),ag(n,0),e.contentQueries!==null&&Xm(e,n),!o)if(h){let y=e.contentCheckHooks;y!==null&&Is(n,y)}else{let y=e.contentHooks;y!==null&&Ss(n,y,1),uc(n,1)}__(e,n);let m=e.components;m!==null&&cg(n,m,0);let b=e.viewQuery;if(b!==null&&qc(2,b,r),!o)if(h){let y=e.viewCheckHooks;y!==null&&Is(n,y)}else{let y=e.viewHooks;y!==null&&Ss(n,y,2),uc(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[cc]){for(let y of n[cc])y();n[cc]=null}o||(n[j]&=-73)}catch(h){throw o||da(n),h}finally{d!==null&&(Bl(d,l),a&&X_(d)),Ou()}}function ag(e,n){for(let t=wm(e);t!==null;t=Cm(t))for(let r=mt;r<t.length;r++){let i=t[r];lg(i,n)}}function sw(e){for(let n=wm(e);n!==null;n=Cm(n)){if(!(n[j]&js.HasTransplantedViews))continue;let t=n[ni];for(let r=0;r<t.length;r++){let i=t[r];zh(i)}}}function aw(e,n,t){let r=Un(n,e);lg(r,t)}function lg(e,n){Tu(e)&&Zc(e,n)}function Zc(e,n){let r=e[G],i=e[j],o=e[Ct],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&$l(o)),s||=!1,o&&(o.dirty=!1),e[j]&=-9217,s)ow(r,e,r.template,e[Bt]);else if(i&8192){ag(e,1);let a=r.components;a!==null&&cg(e,a,1)}}function cg(e,n,t){for(let r=0;r<n.length;r++)aw(e,n[r],t)}function nd(e,n){let t=Yh()?64:1088;for(e[Xt].changeDetectionScheduler?.notify(n);e;){e[j]|=t;let r=yr(e);if(Tc(e)&&!r)return e;e=r}return null}var Dr=class{get rootNodes(){let n=this._lView,t=n[G];return Qs(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bt]}set context(n){this._lView[Bt]=n}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Qe];if(_n(n)){let t=n[Vs],r=t?t.indexOf(this):-1;r>-1&&(zc(n,r),ks(t,r))}this._attachedToViewContainer=!1}Om(this._lView[G],this._lView)}onDestroy(n){Gh(this._lView,n)}markForCheck(){nd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[j]&=-129}reattach(){Nc(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,sg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Tc(this._lView),t=this._lView[gr];t!==null&&!n&&Yu(t,this._lView),Nm(this._lView[G],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=n;let t=Tc(this._lView),r=this._lView[gr];r!==null&&!t&&Rm(r,this._lView),Nc(this._lView)}},xr=(()=>{class e{static{this.__NG_ELEMENT_ID__=uw}}return e})(),lw=xr,cw=class extends lw{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=Z_(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new Dr(i)}};function uw(){return ya(Ye(),ne())}function ya(e,n){return e.type&4?new cw(n,e,ui(e,n)):null}var Fk=new RegExp(`^(\\d+)*(${G1}|${z1})*(.*)`);var dw=()=>null;function Qp(e,n){return dw(e,n)}var ri=class{},ba=new k("",{providedIn:"root",factory:()=>!1});var ug=new k(""),dg=new k(""),Qc=class{},Ys=class{};function fw(e){let n=Error(`No component factory found for ${nt(e)}.`);return n[pw]=e,n}var pw="ngComponent";var Yc=class{resolveComponentFactory(n){throw fw(n)}},ii=class{static{this.NULL=new Yc}},oi=class{},It=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hw()}}return e})();function hw(){let e=ne(),n=Ye(),t=Un(n.index,e);return(Pn(t)?t:e)[Fe]}var mw=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>null})}}return e})();function Kc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=wc(i,a);else if(o==2){let l=a,d=n[++s];r=wc(r,l+": "+d+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var Ks=class extends ii{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Ln(n);return new si(t,this.ngModule)}};function Yp(e,n){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Fn.None;n?t.push({propName:s,templateName:r,isSignal:(a&Fn.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function gw(e){let n=e.toLowerCase();return n==="svg"?Uh:n==="math"?$b:null}var si=class extends Ys{get inputs(){let n=this.componentDef,t=n.inputTransforms,r=Yp(n.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Yp(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=wb(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=oe(null);try{i=i||this.ngModule;let s=i instanceof rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Oc(n,s):n,l=a.get(oi,null);if(l===null)throw new P(407,!1);let d=a.get(mw,null),h=a.get(ri,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:h},b=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",x=r?D_(b,r,this.componentDef.encapsulation,a):Am(b,y,gw(y)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let O=null;x!==null&&(O=Wu(x,a,!0));let U=Xu(0,null,null,1,0,null,null,null,null,null,null),De=ma(null,U,null,A,null,null,m,b,a,null,O);Ru(De);let ae,Ge,st=null;try{let Ve=this.componentDef,fn,Ll=null;Ve.findHostDirectiveDefs?(fn=[],Ll=new Map,Ve.findHostDirectiveDefs(Ve,fn,Ll),fn.push(Ve)):fn=[Ve];let dy=vw(De,x);st=yw(dy,x,Ve,fn,De,m,b),Ge=$h(U,Dt),x&&ww(b,Ve,x,r),t!==void 0&&Cw(Ge,this.ngContentSelectors,t),ae=_w(st,Ve,fn,Ll,De,[Dw]),td(U,De,null)}catch(Ve){throw st!==null&&$c(st),$c(De),Ve}finally{Ou()}return new Jc(this.componentType,ae,ui(Ge,De),De,Ge)}finally{oe(o)}}},Jc=class extends Qc{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Dr(i,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;ed(o[G],o,i,n,t),this.previousInputValues.set(n,t);let s=Un(this._tNode.index,o);nd(s,1)}}get injector(){return new hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function vw(e,n){let t=e[G],r=Dt;return e[r]=n,ga(t,r,2,"#host",null)}function yw(e,n,t,r,i,o,s){let a=i[G];bw(r,e,n,s);let l=null;n!==null&&(l=Wu(n,i[ti]));let d=o.rendererFactory.createRenderer(n,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let m=ma(i,qm(t),null,h,i[e.index],e,o,d,null,null,l);return a.firstCreatePass&&Wc(a,e,r.length-1),va(i,m),i[e.index]=m}function bw(e,n,t,r){for(let i of e)n.mergedAttrs=Qi(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(Kc(n,n.mergedAttrs,!0),t!==null&&Vm(r,t,n))}function _w(e,n,t,r,i,o){let s=Ye(),a=i[G],l=Mt(s,i);Ym(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let m=s.directiveStart+h,b=wr(i,a,m,s);Cr(b,i)}Km(a,i,s),l&&Cr(l,i);let d=wr(i,a,s.directiveStart+s.componentOffset,s);if(e[Bt]=i[Bt]=d,o!==null)for(let h of o)h(d,n);return zm(a,s,i),d}function ww(e,n,t,r){if(r)Ec(e,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=Cb(n.selectors[0]);i&&Ec(e,t,i),o&&o.length>0&&Lm(e,t,o.join(" "))}}function Cw(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Dw(){let e=Ye();Lu(ne()[G],e)}var Hn=(()=>{class e{static{this.__NG_ELEMENT_ID__=xw}}return e})();function xw(){let e=Ye();return pg(e,ne())}var Ew=Hn,fg=class extends Ew{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ui(this._hostTNode,this._hostLView)}get injector(){return new hr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Vu(this._hostTNode,this._hostLView);if(sm(n)){let t=$s(n,this._hostLView),r=Bs(n),i=t[G].data[r+8];return new hr(i,t)}else return new hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Kp(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Qp(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Zp(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!Vb(n),a;if(s)a=t;else{let x=t||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let l=s?n:new si(Ln(n)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let A=(s?d:this.parentInjector).get(rt,null);A&&(o=A)}let h=Ln(l.componentType??{}),m=Qp(this._lContainer,h?.id??null),b=m?.firstChild??null,y=l.create(d,i,b,o);return this.insertImpl(y.hostView,a,Zp(this._hostTNode,m)),y}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(zb(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[Qe],d=new fg(l,l[$t],l[Qe]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Q_(s,i,o,r),n.attachToViewContainerRef(),gh(mc(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Kp(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=zc(this._lContainer,t);r&&(ks(mc(this._lContainer),t),Om(r[G],r))}detach(n){let t=this._adjustIndex(n,-1),r=zc(this._lContainer,t);return r&&ks(mc(this._lContainer),t)!=null?new Dr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Kp(e){return e[Vs]}function mc(e){return e[Vs]||(e[Vs]=[])}function pg(e,n){let t,r=n[e.index];return _n(r)?t=r:(t=Jm(r,n,null,e),n[e.index]=t,va(n,t)),Iw(t,n,e,r),new fg(t,e,n)}function Mw(e,n){let t=e[Fe],r=t.createComment(""),i=Mt(n,e),o=Pm(t,i);return Zs(t,o,r,d_(t,i),!1),r}var Iw=Aw,Sw=()=>!1;function Tw(e,n,t){return Sw(e,n,t)}function Aw(e,n,t,r){if(e[vr])return;let i;t.type&8?i=tn(r):i=Mw(n,t),e[vr]=i}var Xc=class e{constructor(n){this.queryList=n,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},eu=class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)rd(n,t).matches!==null&&this.queries[t].setDirty()}},Js=class{constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=Vw(n):this.predicate=n}},tu=class e{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},nu=class e{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,Nw(t,o)),this.matchTNodeWithReadOption(n,t,Ts(t,n,o,!1,!1))}else r===xr?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Ts(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ke||i===Hn||i===xr&&t.type&4)this.addMatch(t.index,-2);else{let o=Ts(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function Nw(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function Rw(e,n){return e.type&11?ui(e,n):e.type&4?ya(e,n):null}function Ow(e,n,t,r){return t===-1?Rw(n,e):t===-2?kw(e,n,r):wr(e,e[G],t,n)}function kw(e,n,t){if(t===Ke)return ui(n,e);if(t===xr)return ya(n,e);if(t===Hn)return pg(n,e)}function hg(e,n,t,r){let i=n[mn].queries[r];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let h=o[d];a.push(Ow(n,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function ru(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=hg(e,n,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let d=o[a+1],h=n[-l];for(let m=mt;m<h.length;m++){let b=h[m];b[gr]===b[Qe]&&ru(b[G],b,d,r)}if(h[ni]!==null){let m=h[ni];for(let b=0;b<m.length;b++){let y=m[b];ru(y[G],y,d,r)}}}}}return r}function Pw(e,n){return e[mn].queries[n].queryList}function mg(e,n,t){let r=new Bc((t&4)===4);return M_(e,n,r,r.destroy),(n[mn]??=new eu).queries.push(new Xc(r))-1}function Fw(e,n,t){let r=He();return r.firstCreatePass&&(gg(r,new Js(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),mg(r,ne(),n)}function Lw(e,n,t,r){let i=He();if(i.firstCreatePass){let o=Ye();gg(i,new Js(n,t,r),o.index),jw(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return mg(i,ne(),t)}function Vw(e){return e.split(",").map(n=>n.trim())}function gg(e,n,t){e.queries===null&&(e.queries=new tu),e.queries.track(new nu(n,t))}function jw(e,n){let t=e.contentQueries||(e.contentQueries=[]),r=t.length?t[t.length-1]:-1;n!==r&&t.push(e.queries.length-1,n)}function rd(e,n){return e.queries.getByIndex(n)}function Uw(e,n){let t=e[G],r=rd(t,n);return r.crossesNgTemplate?ru(t,e,n,[]):hg(t,e,r,n)}var Jp=new Set;function Mr(e){Jp.has(e)||(Jp.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Bw(e){return typeof e=="function"&&e[pn]!==void 0}function fi(e,n){Mr("NgSignals");let t=Yf(e),r=t[pn];return n?.equal&&(r.equal=n.equal),t.set=i=>zl(r,i),t.update=i=>Kf(r,i),t.asReadonly=$w.bind(t),t}function $w(){let e=this[pn];if(e.readonlyFn===void 0){let n=()=>this();n[pn]=e,e.readonlyFn=n}return e.readonlyFn}function vg(e){return Bw(e)&&typeof e.set=="function"}function Hw(e){return Object.getPrototypeOf(e.prototype).constructor}function Ie(e){let n=Hw(e.type),t=!0,r=[e];for(;n;){let i;if(Vn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new P(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Ds(e.inputs),s.inputTransforms=Ds(e.inputTransforms),s.declaredInputs=Ds(e.declaredInputs),s.outputs=Ds(e.outputs);let a=i.hostBindings;a&&Zw(e,a);let l=i.viewQuery,d=i.contentQueries;if(l&&Ww(e,l),d&&qw(e,d),zw(e,i),$y(e.outputs,i.outputs),Vn(i)&&i.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ie&&(t=!1)}}n=Object.getPrototypeOf(n)}Gw(r)}function zw(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];if(r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=n.inputTransforms[i]}}}function Gw(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Qi(i.hostAttrs,t=Qi(t,i.hostAttrs))}}function Ds(e){return e===Jr?{}:e===ct?[]:e}function Ww(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function qw(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function Zw(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function id(e){let n=e.inputConfig,t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}e.inputTransforms=t}var jn=class{},Ji=class{};var iu=class extends jn{constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ks(this);let o=Eh(n);this._bootstrapComponents=Tm(o.bootstrap),this._r3Injector=mm(n,t,[{provide:jn,useValue:this},{provide:ii,useValue:this.componentFactoryResolver},...r],nt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},ou=class extends Ji{constructor(n){super(),this.moduleType=n}create(n){return new iu(this.moduleType,n,[])}};var Xs=class extends jn{constructor(n){super(),this.componentFactoryResolver=new Ks(this),this.instance=null;let t=new Yi([...n.providers,{provide:jn,useValue:this},{provide:ii,useValue:this.componentFactoryResolver}],n.parent||Mu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function _a(e,n,t=null){return new Xs({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}function yg(e){return Yw(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Qw(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function Yw(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function bg(e,n,t){return e[n]=t}function yn(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function od(e,n,t,r){let i=yn(e,n,t);return yn(e,n+1,r)||i}function Kw(e,n,t,r,i){let o=od(e,n,t,r);return yn(e,n+2,i)||o}function Jw(e){return(e.flags&32)===32}function Xw(e,n,t,r,i,o,s,a,l){let d=n.consts,h=ga(n,e,4,s||null,a||null);Qm(n,t,h,Us(d,l)),Lu(n,h);let m=h.tView=Xu(2,h,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,h),m.queries=n.queries.embeddedTView(h)),h}function eC(e,n,t,r,i,o,s,a,l,d){let h=t+Dt,m=n.firstCreatePass?Xw(h,n,e,r,i,o,s,a,l):n.data[h];no(m,!1);let b=tC(n,e,m,t);Pu()&&Ku(n,e,b,m),Cr(b,e);let y=Jm(b,e,b,m);return e[h]=y,va(e,y),Tw(y,m,e),Iu(m)&&Gm(n,e,m),l!=null&&Wm(e,m,d),m}function w(e,n,t,r,i,o,s,a){let l=ne(),d=He(),h=Us(d.consts,o);return eC(l,d,e,n,t,r,i,h,s,a),w}var tC=nC;function nC(e,n,t,r){return Fu(!0),n[Fe].createComment("")}var Zr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Zr||{}),_g=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}}return e})(),su=class e{constructor(){this.ngZone=D(Ee),this.scheduler=D(ri),this.errorHandler=D(gn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zr.EarlyRead,Zr.Write,Zr.MixedReadWrite,Zr.Read]}execute(){this.executing=!0;for(let n of e.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[n]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[n](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}},au=class{constructor(n,t,r,i){this.impl=n,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function sd(e,n){!n?.injector&&Lb(sd);let t=n?.injector??D(xt);return X1(t)?(Mr("NgAfterNextRender"),iC(e,t,n,!0)):oC}function rC(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function iC(e,n,t,r){let i=n.get(_g);i.impl??=n.get(su);let o=t?.phase??Zr.MixedReadWrite,s=t?.manualCleanup!==!0?n.get(Uu):null,a=new au(i.impl,rC(e,o),r,s);return i.impl.register(a),a}var oC={destroy(){}};function sn(e,n,t,r){let i=ne(),o=fa();if(yn(i,o,n)){let s=He(),a=ku();B_(a,i,e,n,t,r)}return sn}function sC(e,n,t,r){return yn(e,fa(),t)?n+Kr(t)+r:zt}function aC(e,n,t,r,i,o){let s=n1(),a=od(e,s,t,i);return Au(2),a?n+Kr(t)+r+Kr(i)+o:zt}function xs(e,n){return e<<17|n<<2}function Er(e){return e>>17&32767}function lC(e){return(e&2)==2}function cC(e,n){return e&131071|n<<17}function lu(e){return e|2}function ai(e){return(e&131068)>>2}function gc(e,n){return e&-131069|n<<2}function uC(e){return(e&1)===1}function cu(e){return e|1}function dC(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Er(s),l=ai(s);e[r]=t;let d=!1,h;if(Array.isArray(t)){let m=t;h=m[1],(h===null||to(m,h)>0)&&(d=!0)}else h=t;if(i)if(l!==0){let b=Er(e[a+1]);e[r+1]=xs(b,a),b!==0&&(e[b+1]=gc(e[b+1],r)),e[a+1]=cC(e[a+1],r)}else e[r+1]=xs(a,0),a!==0&&(e[a+1]=gc(e[a+1],r)),a=r;else e[r+1]=xs(l,0),a===0?a=r:e[l+1]=gc(e[l+1],r),l=r;d&&(e[r+1]=lu(e[r+1])),Xp(e,h,r,!0),Xp(e,h,r,!1),fC(n,h,e,r,o),s=xs(a,l),o?n.classBindings=s:n.styleBindings=s}function fC(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&to(o,n)>=0&&(t[r+1]=cu(t[r+1]))}function Xp(e,n,t,r){let i=e[t+1],o=n===null,s=r?Er(i):ai(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];pC(l,n)&&(a=!0,e[s+1]=r?cu(d):lu(d)),s=r?Er(d):ai(d)}a&&(e[t+1]=r?lu(i):cu(i))}function pC(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?to(e,n)>=0:!1}var jt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hC(e){return e.substring(jt.key,jt.keyEnd)}function mC(e){return gC(e),wg(e,Cg(e,0,jt.textEnd))}function wg(e,n){let t=jt.textEnd;return t===n?-1:(n=jt.keyEnd=vC(e,jt.key=n,t),Cg(e,n,t))}function gC(e){jt.key=0,jt.keyEnd=0,jt.value=0,jt.valueEnd=0,jt.textEnd=e.length}function Cg(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function vC(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function g(e,n,t){let r=ne(),i=fa();if(yn(r,i,n)){let o=He(),s=ku();Zm(o,s,r,e,n,r[Fe],t,!1)}return g}function uu(e,n,t,r,i){let o=n.inputs,s=i?"class":"style";ed(e,t,o[s],s,r)}function gt(e,n){return bC(e,n,null,!0),gt}function Ir(e){_C(MC,yC,e,!0)}function yC(e,n){for(let t=mC(n);t>=0;t=wg(n,t))Cu(e,hC(n),!0)}function bC(e,n,t,r){let i=ne(),o=He(),s=Au(2);if(o.firstUpdatePass&&xg(o,e,s,r),n!==zt&&yn(i,s,n)){let a=o.data[Bn()];Eg(o,a,i,i[Fe],e,i[s+1]=SC(n,t),r,s)}}function _C(e,n,t,r){let i=He(),o=Au(2);i.firstUpdatePass&&xg(i,null,o,r);let s=ne();if(t!==zt&&yn(s,o,t)){let a=i.data[Bn()];if(Mg(a,r)&&!Dg(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=wc(l,t||"")),uu(i,a,s,t,r)}else IC(i,a,s,s[Fe],s[o+1],s[o+1]=EC(e,n,t),r,o)}}function Dg(e,n){return n>=e.expandoStartIndex}function xg(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Bn()],s=Dg(e,t);Mg(o,r)&&n===null&&!s&&(n=!1),n=wC(i,o,n,r),dC(i,o,n,t,s,r)}}function wC(e,n,t,r){let i=a1(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=vc(null,e,n,t,r),t=Xi(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=vc(i,e,n,t,r),o===null){let l=CC(e,n,r);l!==void 0&&Array.isArray(l)&&(l=vc(null,e,n,l[1],r),l=Xi(l,n.attrs,r),DC(e,n,r,l))}else o=xC(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function CC(e,n,t){let r=t?n.classBindings:n.styleBindings;if(ai(r)!==0)return e[Er(r)]}function DC(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Er(i)]=r}function xC(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Xi(r,s,t)}return Xi(r,n.attrs,t)}function vc(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Xi(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Xi(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Cu(e,s,t?!0:n[++o]))}return e===void 0?null:e}function EC(e,n,t){if(t==null||t==="")return ct;let r=[],i=di(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function MC(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&Cu(e,r,t)}function IC(e,n,t,r,i,o,s,a){i===zt&&(i=ct);let l=0,d=0,h=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;h!==null||m!==null;){let b=l<i.length?i[l+1]:void 0,y=d<o.length?o[d+1]:void 0,x=null,A;h===m?(l+=2,d+=2,b!==y&&(x=m,A=y)):m===null||h!==null&&h<m?(l+=2,x=h):(d+=2,x=m,A=y),x!==null&&Eg(e,n,t,r,x,A,s,a),h=l<i.length?i[l]:null,m=d<o.length?o[d]:null}}function Eg(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,d=l[a+1],h=uC(d)?eh(l,n,t,i,ai(d),s):void 0;if(!ea(h)){ea(o)||lC(d)&&(o=eh(l,null,t,i,a,s));let m=Bh(Bn(),t);y_(r,s,m,i,o)}}function eh(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],d=Array.isArray(l),h=d?l[1]:l,m=h===null,b=t[i+1];b===zt&&(b=m?ct:void 0);let y=m?ac(b,r):h===r?b:void 0;if(d&&!ea(y)&&(y=ac(l,r)),ea(y)&&(a=y,s))return a;let x=e[i+1];i=s?Er(x):ai(x)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=ac(l,r))}return a}function ea(e){return e!==void 0}function SC(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=nt(di(e)))),e}function Mg(e,n){return(e.flags&(n?8:16))!==0}function TC(e,n,t,r,i,o){let s=n.consts,a=Us(s,i),l=ga(n,e,2,r,a);return Qm(n,t,l,Us(s,o)),l.attrs!==null&&Kc(l,l.attrs,!1),l.mergedAttrs!==null&&Kc(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function u(e,n,t,r){let i=ne(),o=He(),s=Dt+e,a=i[Fe],l=o.firstCreatePass?TC(s,o,i,n,t,r):o.data[s],d=AC(o,i,l,a,n,e);i[s]=d;let h=Iu(l);return no(l,!0),Vm(a,d,l),!Jw(l)&&Pu()&&Ku(o,i,d,l),qb()===0&&Cr(d,i),Zb(),h&&(Gm(o,i,l),zm(o,l,i)),r!==null&&Wm(i,l),u}function c(){let e=Ye();Qh()?e1():(e=e.parent,no(e,!1));let n=e;Kb(n)&&Jb(),Qb();let t=He();return t.firstCreatePass&&(Lu(t,e),Ph(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&m1(n)&&uu(t,n,ne(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&g1(n)&&uu(t,n,ne(),n.stylesWithoutHost,!1),c}function _(e,n,t,r){return u(e,n,t,r),c(),_}var AC=(e,n,t,r,i,o)=>(Fu(!0),Am(r,i,d1()));function Z(){return ne()}var fr=void 0;function NC(e){let n=e,t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var RC=["en",[["a","p"],["AM","PM"],fr],[["AM","PM"],fr,fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fr,"{1} 'at' {0}",fr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",NC],yc={};function St(e){let n=OC(e),t=th(n);if(t)return t;let r=n.split("-")[0];if(t=th(r),t)return t;if(r==="en")return RC;throw new P(701,!1)}function th(e){return e in yc||(yc[e]=pr.ng&&pr.ng.common&&pr.ng.common.locales&&pr.ng.common.locales[e]),yc[e]}var Ne=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ne||{});function OC(e){return e.toLowerCase().replace(/_/g,"-")}var ta="en-US";var kC=ta;function PC(e){typeof e=="string"&&(kC=e.toLowerCase().replace(/_/g,"-"))}var FC=(e,n,t)=>{};function M(e,n,t,r){let i=ne(),o=He(),s=Ye();return Ig(o,i,i[Fe],s,e,n,r),M}function LC(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[Ls],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Ig(e,n,t,r,i,o,s){let a=Iu(r),d=e.firstCreatePass&&tg(e),h=n[Bt],m=eg(n),b=!0;if(r.type&3||s){let A=Mt(r,n),O=s?s(A):A,U=m.length,De=s?Ge=>s(tn(Ge[r.index])):r.index,ae=null;if(!s&&a&&(ae=LC(e,n,i,r.index)),ae!==null){let Ge=ae.__ngLastListenerFn__||ae;Ge.__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,b=!1}else{o=rh(r,n,h,o),FC(A,i,o);let Ge=t.listen(O,i,o);m.push(o,Ge),d&&d.push(i,De,U,U+1)}}else o=rh(r,n,h,o);let y=r.outputs,x;if(b&&y!==null&&(x=y[i])){let A=x.length;if(A)for(let O=0;O<A;O+=2){let U=x[O],De=x[O+1],st=n[U][De].subscribe(o),Ve=m.length;m.push(o,st),d&&d.push(i,r.index,Ve,-(Ve+1))}}}function nh(e,n,t,r){let i=oe(null);try{return Yt(6,n,t),t(r)!==!1}catch(o){return ng(e,o),!1}finally{Yt(7,n,t),oe(i)}}function rh(e,n,t,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?Un(e.index,n):n;nd(s,5);let a=nh(n,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=nh(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function v(e=1){return c1(e)}function Sg(e,n,t,r){Lw(e,n,t,r)}function wa(e,n,t){Fw(e,n,t)}function pi(e){let n=ne(),t=He(),r=Jh();Nu(r+1);let i=rd(t,r);if(e.dirty&&Hb(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=Uw(n,r);e.reset(o,L1),e.notifyOnChanges()}return!0}return!1}function hi(){return Pw(ne(),Jh())}function VC(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Tg(e){let n=t1();return Su(n,Dt+e)}function f(e,n=""){let t=ne(),r=He(),i=e+Dt,o=r.firstCreatePass?ga(r,i,1,n,null):r.data[i],s=jC(r,t,o,n,e);t[i]=s,Pu()&&Ku(r,t,s,o),no(o,!1)}var jC=(e,n,t,r,i)=>(Fu(!0),t_(n[Fe],r));function ie(e){return T("",e,""),ie}function T(e,n,t){let r=ne(),i=sC(r,e,n,t);return i!==zt&&rg(r,Bn(),i),T}function Ce(e,n,t,r,i){let o=ne(),s=aC(o,e,n,t,r,i);return s!==zt&&rg(o,Bn(),s),Ce}function K(e,n,t){vg(n)&&(n=n());let r=ne(),i=fa();if(yn(r,i,n)){let o=He(),s=ku();Zm(o,s,r,e,n,r[Fe],t,!1)}return K}function X(e,n){let t=vg(e);return t&&e.set(n),t}function J(e,n){let t=ne(),r=He(),i=Ye();return Ig(r,t,t[Fe],i,e,n),J}function UC(e,n,t){let r=He();if(r.firstCreatePass){let i=Vn(e);du(t,r.data,r.blueprint,i,!0),du(n,r.data,r.blueprint,i,!1)}}function du(e,n,t,r,i){if(e=tt(e),Array.isArray(e))for(let o=0;o<e.length;o++)du(e[o],n,t,r,i);else{let o=He(),s=ne(),a=Ye(),l=ei(e)?e:tt(e.provide),d=Nh(e),h=a.providerIndexes&1048575,m=a.directiveStart,b=a.providerIndexes>>20;if(ei(e)||!e.multi){let y=new _r(d,i,C),x=_c(l,n,i?h:h+b,m);x===-1?(Pc(zs(a,s),o,l),bc(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[x]=y,s[x]=y)}else{let y=_c(l,n,h+b,m),x=_c(l,n,h,h+b),A=y>=0&&t[y],O=x>=0&&t[x];if(i&&!O||!i&&!A){Pc(zs(a,s),o,l);let U=HC(i?$C:BC,t.length,i,r,d);!i&&O&&(t[x].providerFactory=U),bc(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=Ag(t[i?x:y],d,!i&&r);bc(o,e,y>-1?y:x,U)}!i&&r&&O&&t[x].componentProviders++}}}function bc(e,n,t,r){let i=ei(n),o=Ab(n);if(i||o){let l=(o?tt(n.useClass):n).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let h=d.indexOf(t);h===-1?d.push(t,[r,l]):d[h+1].push(r,l)}else d.push(t,l)}}}function Ag(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function _c(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function BC(e,n,t,r){return fu(this.multi,[])}function $C(e,n,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=wr(t,t[G],this.providerFactory.index,r);o=a.slice(0,s),fu(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fu(i,o);return o}function fu(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function HC(e,n,t,r,i){let o=new _r(e,t,C);return o.multi=[],o.index=n,o.componentProviders=0,Ag(o,i,r&&!t),o}function qe(e,n=[]){return t=>{t.providersResolver=(r,i)=>UC(r,i?i(e):e,n)}}var zC=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Sh(!1,t.type),i=r.length>0?_a([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(F(rt))})}}return e})();function pe(e){Mr("NgStandalone"),e.getStandaloneInjector=n=>n.get(zC).getOrCreateStandaloneInjector(e)}function Ng(e,n){let t=e[n];return t===zt?void 0:t}function GC(e,n,t,r,i,o,s){let a=n+t;return od(e,a,i,o)?bg(e,a+2,s?r.call(s,i,o):r(i,o)):Ng(e,a+2)}function WC(e,n,t,r,i,o,s,a){let l=n+t;return Kw(e,l,i,o,s)?bg(e,l+3,a?r.call(a,i,o,s):r(i,o,s)):Ng(e,l+3)}function Sr(e,n){let t=He(),r,i=e+Dt;t.firstCreatePass?(r=qC(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=mr(r.type,!0)),s,a=lt(C);try{let l=Hs(!1),d=o();return Hs(l),VC(t,ne(),i,d),d}finally{lt(a)}}function qC(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function ro(e,n,t,r){let i=e+Dt,o=ne(),s=Su(o,i);return Og(o,i)?GC(o,Kh(),n,s.transform,t,r,s):s.transform(t,r)}function Rg(e,n,t,r,i){let o=e+Dt,s=ne(),a=Su(s,o);return Og(s,o)?WC(s,Kh(),n,a.transform,t,r,i,a):a.transform(t,r,i)}function Og(e,n){return e[G].data[n].pure}function kg(e,n){return ya(e,n)}var Ca=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Pg=new k("");function Tr(e){return!!e&&typeof e.then=="function"}function Fg(e){return!!e&&typeof e.subscribe=="function"}var Da=new k(""),Lg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=D(Da,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Tr(o))t.push(o);else if(Fg(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),io=new k("");function ZC(){Qf(()=>{throw new P(600,!1)})}function QC(e){return e.isBoundToModule}var YC=10;function KC(e,n,t){try{let r=t();return Tr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var zn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(P1),this.afterRenderManager=D(_g),this.zonelessEnabled=D(ba),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=D($n).hasPendingTasks.pipe($(t=>!t)),this._injector=D(rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Ys;if(!this._injector.get(Lg).done){let b=!i&&xh(t),y=!1;throw new P(405,y)}let s;i?s=t:s=this._injector.get(ii).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=QC(s)?void 0:this._injector.get(jn),l=r||s.selector,d=s.create(xt.NULL,[],l,a),h=d.location.nativeElement,m=d.injector.get(Pg,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),As(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new P(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,oe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(oi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<YC;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)JC(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ua(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;As(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(io,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>As(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function As(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function JC(e,n,t,r){if(!t&&!ua(e))return;sg(e,n,t&&!r?0:1)}var pu=class{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},xa=(()=>{class e{compileModuleSync(t){return new ou(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Eh(t),o=Tm(i.declarations).reduce((s,a)=>{let l=Ln(a);return l&&s.push(new si(l)),s},[]);return new pu(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var XC=(()=>{class e{constructor(){this.zone=D(Ee),this.changeDetectionScheduler=D(ri),this.applicationRef=D(zn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eD=new k("",{factory:()=>!1});function Vg({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Ee(z(E({},Ug()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:e},{provide:Xr,multi:!0,useFactory:()=>{let r=D(XC,{optional:!0});return()=>r.initialize()}},{provide:Xr,multi:!0,useFactory:()=>{let r=D(tD);return()=>{r.initialize()}}},n===!0?{provide:ug,useValue:!0}:[],{provide:dg,useValue:t??gm}]}function jg(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Vg({ngZoneFactory:()=>{let i=Ug(e);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Mr("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return li([{provide:eD,useValue:!0},{provide:ba,useValue:!1},r])}function Ug(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var tD=(()=>{class e{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=D(Ee),this.pendingTasks=D($n)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var nD=(()=>{class e{constructor(){this.appRef=D(zn),this.taskService=D($n),this.ngZone=D(Ee),this.zonelessEnabled=D(ba),this.disableScheduling=D(ug,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Oe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ws):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(dg,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?jp:vm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ws+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rD(){return typeof $localize<"u"&&$localize.locale||ta}var Ea=new k("",{providedIn:"root",factory:()=>D(Ea,q.Optional|q.SkipSelf)||rD()});var hu=new k("");function Es(e){return!e.moduleRef}function iD(e){let n=Es(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Ee);return t.run(()=>{Es(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(gn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Es(e)){let o=()=>n.destroy(),s=e.platformInjector.get(hu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(hu);s.add(o),e.moduleRef.onDestroy(()=>{As(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return KC(r,t,()=>{let o=n.get(Lg);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Ea,ta);if(PC(s||ta),Es(e)){let a=n.get(zn);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return oD(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function oD(e,n){let t=e.injector.get(zn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new P(-403,!1);n.push(e)}var Ns=null;function sD(e=[],n){return xt.create({name:n,providers:[{provide:aa,useValue:"platform"},{provide:hu,useValue:new Set([()=>Ns=null])},...e]})}function aD(e=[]){if(Ns)return Ns;let n=sD(e);return Ns=n,ZC(),lD(n),n}function lD(e){e.get(zu,null)?.forEach(t=>t())}var Gn=(()=>{class e{static{this.__NG_ELEMENT_ID__=cD}}return e})();function cD(e){return uD(Ye(),ne(),(e&16)===16)}function uD(e,n,t){if(ca(e)&&!t){let r=Un(e.index,n);return new Dr(r,r)}else if(e.type&175){let r=n[en];return new Dr(r,n)}return null}var mu=class{constructor(){}supports(n){return yg(n)}create(n){return new gu(n)}},dD=(e,n)=>n,gu=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||dD}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ih(r,i,o)?t:r,a=ih(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,h=l-i;if(d!=h){for(let b=0;b<d;b++){let y=b<o.length?o[b]:o[b]=0,x=y+b;h<=x&&x<d&&(o[b]=y+1)}let m=s.previousIndex;o[m]=h-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!yg(n))throw new P(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Qw(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new vu(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new na),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new na),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},vu=class{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yu=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},na=class{constructor(){this.map=new Map}put(n){let t=n.trackById,r=this.map.get(t);r||(r=new yu,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ih(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function oh(){return new ad([new mu])}var ad=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:oh})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||oh()),deps:[[e,new _u,new sa]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new P(901,!1)}}return e})();function Bg(e){try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=aD(r),o=[Vg({}),{provide:ri,useExisting:nD},...t||[]],s=new Xs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return iD({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function Wn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function mi(e,n){Mr("NgSignals");let t=Wf(e);return n?.equal&&(t[pn].equal=n.equal),t}function an(e){let n=oe(null);try{return e()}finally{oe(n)}}function $g(e){let n=Ln(e);if(!n)return null;let t=new si(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Qg=null;function xn(){return Qg}function Yg(e){Qg??=e}var ka=class{};var Je=new k(""),vd=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>D(pD),providedIn:"platform"})}}return e})(),Kg=new k(""),pD=(()=>{class e extends vd{constructor(){super(),this._doc=D(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function yd(e,n){if(e.length==0)return n;if(n.length==0)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,t==2?e+n.substring(1):t==1?e+n:e+"/"+n}function Hg(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,r=t-(e[t-1]==="/"?1:0);return e.slice(0,r)+e.slice(t)}function Cn(e){return e&&e[0]!=="?"?"?"+e:e}var En=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>D(bd),providedIn:"root"})}}return e})(),Jg=new k(""),bd=(()=>{class e extends En{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Cn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Cn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Cn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(F(vd),F(Jg,8))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Xg=(()=>{class e extends En{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=yd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Cn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Cn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(F(vd),F(Jg,8))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),vi=(()=>{class e{constructor(t){this._subject=new ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=gD(Hg(zg(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Cn(r))}normalize(t){return e.stripTrailingSlash(mD(this._basePath,zg(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Cn}static{this.joinWithSlash=yd}static{this.stripTrailingSlash=Hg}static{this.\u0275fac=function(r){return new(r||e)(F(En))}}static{this.\u0275prov=R({token:e,factory:()=>hD(),providedIn:"root"})}}return e})();function hD(){return new vi(F(En))}function mD(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function zg(e){return e.replace(/\/index.html$/,"")}function gD(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var it=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(it||{}),me=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(me||{}),vt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(vt||{}),qn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function vD(e){return St(e)[Ne.LocaleId]}function yD(e,n,t){let r=St(e),i=[r[Ne.DayPeriodsFormat],r[Ne.DayPeriodsStandalone]],o=Tt(i,n);return Tt(o,t)}function bD(e,n,t){let r=St(e),i=[r[Ne.DaysFormat],r[Ne.DaysStandalone]],o=Tt(i,n);return Tt(o,t)}function _D(e,n,t){let r=St(e),i=[r[Ne.MonthsFormat],r[Ne.MonthsStandalone]],o=Tt(i,n);return Tt(o,t)}function wD(e,n){let r=St(e)[Ne.Eras];return Tt(r,n)}function Ma(e,n){let t=St(e);return Tt(t[Ne.DateFormat],n)}function Ia(e,n){let t=St(e);return Tt(t[Ne.TimeFormat],n)}function Sa(e,n){let r=St(e)[Ne.DateTimeFormat];return Tt(r,n)}function Fa(e,n){let t=St(e),r=t[Ne.NumberSymbols][n];if(typeof r>"u"){if(n===qn.CurrencyDecimal)return t[Ne.NumberSymbols][qn.Decimal];if(n===qn.CurrencyGroup)return t[Ne.NumberSymbols][qn.Group]}return r}function e0(e){if(!e[Ne.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ne.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function CD(e){let n=St(e);return e0(n),(n[Ne.ExtraData][2]||[]).map(r=>typeof r=="string"?ld(r):[ld(r[0]),ld(r[1])])}function DD(e,n,t){let r=St(e);e0(r);let i=[r[Ne.ExtraData][0],r[Ne.ExtraData][1]],o=Tt(i,n)||[];return Tt(o,t)||[]}function Tt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function ld(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var xD=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ta={},ED=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Dn=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Dn||{}),ce=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ce||{}),le=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(le||{});function MD(e,n,t,r){let i=PD(e);n=wn(t,n)||n;let s=[],a;for(;n;)if(a=ED.exec(n),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;n=h}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=n0(r,l),i=kD(i,r,!0));let d="";return s.forEach(h=>{let m=RD(h);d+=m?m(i,t,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Pa(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function wn(e,n){let t=vD(e);if(Ta[t]??={},Ta[t][n])return Ta[t][n];let r="";switch(n){case"shortDate":r=Ma(e,vt.Short);break;case"mediumDate":r=Ma(e,vt.Medium);break;case"longDate":r=Ma(e,vt.Long);break;case"fullDate":r=Ma(e,vt.Full);break;case"shortTime":r=Ia(e,vt.Short);break;case"mediumTime":r=Ia(e,vt.Medium);break;case"longTime":r=Ia(e,vt.Long);break;case"fullTime":r=Ia(e,vt.Full);break;case"short":let i=wn(e,"shortTime"),o=wn(e,"shortDate");r=Aa(Sa(e,vt.Short),[i,o]);break;case"medium":let s=wn(e,"mediumTime"),a=wn(e,"mediumDate");r=Aa(Sa(e,vt.Medium),[s,a]);break;case"long":let l=wn(e,"longTime"),d=wn(e,"longDate");r=Aa(Sa(e,vt.Long),[l,d]);break;case"full":let h=wn(e,"fullTime"),m=wn(e,"fullDate");r=Aa(Sa(e,vt.Full),[h,m]);break}return r&&(Ta[t][n]=r),r}function Aa(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function Gt(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function ID(e,n){return Gt(e,3).substring(0,n)}function Le(e,n,t=0,r=!1,i=!1){return function(o,s){let a=SD(e,o);if((t>0||a>-t)&&(a+=t),e===ce.Hours)a===0&&t===-12&&(a=12);else if(e===ce.FractionalSeconds)return ID(a,n);let l=Fa(s,qn.MinusSign);return Gt(a,n,l,r,i)}}function SD(e,n){switch(e){case ce.FullYear:return n.getFullYear();case ce.Month:return n.getMonth();case ce.Date:return n.getDate();case ce.Hours:return n.getHours();case ce.Minutes:return n.getMinutes();case ce.Seconds:return n.getSeconds();case ce.FractionalSeconds:return n.getMilliseconds();case ce.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function be(e,n,t=it.Format,r=!1){return function(i,o){return TD(i,o,e,n,t,r)}}function TD(e,n,t,r,i,o){switch(t){case le.Months:return _D(n,i,r)[e.getMonth()];case le.Days:return bD(n,i,r)[e.getDay()];case le.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let d=CD(n),h=DD(n,i,r),m=d.findIndex(b=>{if(Array.isArray(b)){let[y,x]=b,A=s>=y.hours&&a>=y.minutes,O=s<x.hours||s===x.hours&&a<x.minutes;if(y.hours<x.hours){if(A&&O)return!0}else if(A||O)return!0}else if(b.hours===s&&b.minutes===a)return!0;return!1});if(m!==-1)return h[m]}return yD(n,i,r)[s<12?0:1];case le.Eras:return wD(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Na(e){return function(n,t,r){let i=-1*r,o=Fa(t,qn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Dn.Short:return(i>=0?"+":"")+Gt(s,2,o)+Gt(Math.abs(i%60),2,o);case Dn.ShortGMT:return"GMT"+(i>=0?"+":"")+Gt(s,1,o);case Dn.Long:return"GMT"+(i>=0?"+":"")+Gt(s,2,o)+":"+Gt(Math.abs(i%60),2,o);case Dn.Extended:return r===0?"Z":(i>=0?"+":"")+Gt(s,2,o)+":"+Gt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var AD=0,Oa=4;function ND(e){let n=Pa(e,AD,1).getDay();return Pa(e,0,1+(n<=Oa?Oa:Oa+7)-n)}function t0(e){let n=e.getDay(),t=n===0?-3:Oa-n;return Pa(e.getFullYear(),e.getMonth(),e.getDate()+t)}function cd(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=t0(t),s=ND(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Gt(i,e,Fa(r,qn.MinusSign))}}function Ra(e,n=!1){return function(t,r){let o=t0(t).getFullYear();return Gt(o,e,Fa(r,qn.MinusSign),n)}}var ud={};function RD(e){if(ud[e])return ud[e];let n;switch(e){case"G":case"GG":case"GGG":n=be(le.Eras,me.Abbreviated);break;case"GGGG":n=be(le.Eras,me.Wide);break;case"GGGGG":n=be(le.Eras,me.Narrow);break;case"y":n=Le(ce.FullYear,1,0,!1,!0);break;case"yy":n=Le(ce.FullYear,2,0,!0,!0);break;case"yyy":n=Le(ce.FullYear,3,0,!1,!0);break;case"yyyy":n=Le(ce.FullYear,4,0,!1,!0);break;case"Y":n=Ra(1);break;case"YY":n=Ra(2,!0);break;case"YYY":n=Ra(3);break;case"YYYY":n=Ra(4);break;case"M":case"L":n=Le(ce.Month,1,1);break;case"MM":case"LL":n=Le(ce.Month,2,1);break;case"MMM":n=be(le.Months,me.Abbreviated);break;case"MMMM":n=be(le.Months,me.Wide);break;case"MMMMM":n=be(le.Months,me.Narrow);break;case"LLL":n=be(le.Months,me.Abbreviated,it.Standalone);break;case"LLLL":n=be(le.Months,me.Wide,it.Standalone);break;case"LLLLL":n=be(le.Months,me.Narrow,it.Standalone);break;case"w":n=cd(1);break;case"ww":n=cd(2);break;case"W":n=cd(1,!0);break;case"d":n=Le(ce.Date,1);break;case"dd":n=Le(ce.Date,2);break;case"c":case"cc":n=Le(ce.Day,1);break;case"ccc":n=be(le.Days,me.Abbreviated,it.Standalone);break;case"cccc":n=be(le.Days,me.Wide,it.Standalone);break;case"ccccc":n=be(le.Days,me.Narrow,it.Standalone);break;case"cccccc":n=be(le.Days,me.Short,it.Standalone);break;case"E":case"EE":case"EEE":n=be(le.Days,me.Abbreviated);break;case"EEEE":n=be(le.Days,me.Wide);break;case"EEEEE":n=be(le.Days,me.Narrow);break;case"EEEEEE":n=be(le.Days,me.Short);break;case"a":case"aa":case"aaa":n=be(le.DayPeriods,me.Abbreviated);break;case"aaaa":n=be(le.DayPeriods,me.Wide);break;case"aaaaa":n=be(le.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":n=be(le.DayPeriods,me.Abbreviated,it.Standalone,!0);break;case"bbbb":n=be(le.DayPeriods,me.Wide,it.Standalone,!0);break;case"bbbbb":n=be(le.DayPeriods,me.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":n=be(le.DayPeriods,me.Abbreviated,it.Format,!0);break;case"BBBB":n=be(le.DayPeriods,me.Wide,it.Format,!0);break;case"BBBBB":n=be(le.DayPeriods,me.Narrow,it.Format,!0);break;case"h":n=Le(ce.Hours,1,-12);break;case"hh":n=Le(ce.Hours,2,-12);break;case"H":n=Le(ce.Hours,1);break;case"HH":n=Le(ce.Hours,2);break;case"m":n=Le(ce.Minutes,1);break;case"mm":n=Le(ce.Minutes,2);break;case"s":n=Le(ce.Seconds,1);break;case"ss":n=Le(ce.Seconds,2);break;case"S":n=Le(ce.FractionalSeconds,1);break;case"SS":n=Le(ce.FractionalSeconds,2);break;case"SSS":n=Le(ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Na(Dn.Short);break;case"ZZZZZ":n=Na(Dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Na(Dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Na(Dn.Long);break;default:return null}return ud[e]=n,n}function n0(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function OD(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function kD(e,n,t){let r=t?-1:1,i=e.getTimezoneOffset(),o=n0(n,i);return OD(e,r*(o-i))}function PD(e){if(Gg(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Pa(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(xD))return FD(r)}let n=new Date(e);if(!Gg(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function FD(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,d),n}function Gg(e){return e instanceof Date&&!isNaN(e.valueOf())}function La(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var dd=/\s+/,Wg=[],yi=(()=>{class e{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Wg,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(dd):Wg}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(dd):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(dd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(C(Ke),C(It))}}static{this.\u0275dir=re({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var fd=class{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xe=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new fd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),qg(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);qg(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(C(Hn),C(xr),C(ad))}}static{this.\u0275dir=re({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function qg(e,n){e.context.$implicit=n.item}var Se=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new pd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zg("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zg("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(C(Hn),C(xr))}}static{this.\u0275dir=re({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),pd=class{constructor(){this.$implicit=null,this.ngIf=null}};function Zg(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${nt(n)}'.`)}function r0(e,n){return new P(2100,!1)}var LD="mediumDate",VD=new k(""),jD=new k(""),Va=(()=>{class e{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??LD,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return MD(t,s,o||this.locale,a)}catch(s){throw r0(e,s.message)}}static{this.\u0275fac=function(r){return new(r||e)(C(Ea,16),C(VD,24),C(jD,24))}}static{this.\u0275pipe=xu({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var i0=(()=>{class e{transform(t,r,i){if(t==null)return null;if(!this.supports(t))throw r0(e,t);return t.slice(r,i)}supports(t){return typeof t=="string"||Array.isArray(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=xu({name:"slice",type:e,pure:!1,standalone:!0})}}return e})();var ge=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=rn({type:e})}static{this.\u0275inj=nn({})}}return e})(),_d="browser",UD="server";function BD(e){return e===_d}function ja(e){return e===UD}var o0=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>BD(D(on))?new hd(D(Je),window):new md})}}return e})(),hd=class{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=$D(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function $D(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var md=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},gi=class{};var so=class{},ao=class{},At=class e{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Cd=class{encodeKey(n){return s0(n)}encodeValue(n){return s0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function HD(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var zD=/%(\d[a-f0-9])/gi,GD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function s0(e){return encodeURIComponent(e).replace(zD,(n,t)=>GD[t]??n)}function Ua(e){return`${e}`}var et=class e{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Cd,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=HD(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(Ua):[Ua(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Ua(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Ua(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Dd=class{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function WD(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function a0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function l0(e){return typeof Blob<"u"&&e instanceof Blob}function c0(e){return typeof FormData<"u"&&e instanceof FormData}function qD(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var oo=class e{constructor(n,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(WD(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new At,this.context??=new Dd,!this.params)this.params=new et,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||a0(this.body)||l0(this.body)||c0(this.body)||qD(this.body)?this.body:this.body instanceof et?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||c0(this.body)?null:l0(this.body)?this.body.type||null:a0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof et?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,d=n.headers||this.headers,h=n.params||this.params,m=n.context??this.context;return n.setHeaders!==void 0&&(d=Object.keys(n.setHeaders).reduce((b,y)=>b.set(y,n.setHeaders[y]),d)),n.setParams&&(h=Object.keys(n.setParams).reduce((b,y)=>b.set(y,n.setParams[y]),h)),new e(t,r,s,{params:h,headers:d,context:m,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Qn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Qn||{}),lo=class{constructor(n,t=200,r="OK"){this.headers=n.headers||new At,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Ba=class e extends lo{constructor(n={}){super(n),this.type=Qn.ResponseHeader}clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},co=class e extends lo{constructor(n={}){super(n),this.type=Qn.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Zn=class extends lo{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},p0=200,ZD=204;function wd(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Ar=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof oo)o=t;else{let l;i.headers instanceof At?l=i.headers:l=new At(i.headers);let d;i.params&&(i.params instanceof et?d=i.params:d=new et({fromObject:i.params})),o=new oo(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=L(o).pipe(hn(l=>this.handler.handle(l)));if(t instanceof oo||i.observe==="events")return s;let a=s.pipe(We(l=>l instanceof co));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe($(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe($(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe($(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe($(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new et().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wd(i,r))}post(t,r,i={}){return this.request("POST",t,wd(i,r))}put(t,r,i={}){return this.request("PUT",t,wd(i,r))}static{this.\u0275fac=function(r){return new(r||e)(F(so))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),QD=/^\)\]\}',?\n/,YD="X-Request-URL";function u0(e){if(e.url)return e.url;let n=YD.toLocaleLowerCase();return e.headers.get(n)}var xd=(()=>{class e{constructor(){this.fetchImpl=D(Ed,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=D(Ee)}handle(t){return new ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Md,o=>r.error(new Zn({error:o}))),()=>i.abort()})}doRequest(t,r,i){return Q(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));KD(y),i.next({type:Qn.Sent}),s=yield y}catch(y){i.error(new Zn({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new At(s.headers),l=s.statusText,d=u0(s)??t.urlWithParams,h=s.status,m=null;if(t.reportProgress&&i.next(new Ba({headers:a,status:h,statusText:l,url:d})),s.body){let y=s.headers.get("content-length"),x=[],A=s.body.getReader(),O=0,U,De,ae=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Q(this,null,function*(){for(;;){let{done:st,value:Ve}=yield A.read();if(st)break;if(x.push(Ve),O+=Ve.length,t.reportProgress){De=t.responseType==="text"?(De??"")+(U??=new TextDecoder).decode(Ve,{stream:!0}):void 0;let fn=()=>i.next({type:Qn.DownloadProgress,total:y?+y:void 0,loaded:O,partialText:De});ae?ae.run(fn):fn()}}}));let Ge=this.concatChunks(x,O);try{let st=s.headers.get("Content-Type")??"";m=this.parseBody(t,Ge,st)}catch(st){i.error(new Zn({error:st,headers:new At(s.headers),status:s.status,statusText:s.statusText,url:u0(s)??t.urlWithParams}));return}}h===0&&(h=m?p0:0),h>=200&&h<300?(i.next(new co({body:m,headers:a,status:h,statusText:l,url:d})),i.complete()):i.error(new Zn({error:m,headers:a,status:h,statusText:l,url:d}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(QD,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Ed=class{};function Md(){}function KD(e){e.then(Md,Md)}function JD(e,n){return n(e)}function XD(e,n,t){return(r,i)=>Et(t,()=>n(r,o=>e(o,i)))}var Id=new k(""),ex=new k(""),tx=new k("",{providedIn:"root",factory:()=>!0});var d0=(()=>{class e extends so{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=D($n),this.contributeToStability=D(tx)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Id),...this.injector.get(ex,[])]));this.chain=r.reduceRight((i,o)=>XD(i,o,this.injector),JD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(dr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(F(ao),F(rt))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();var nx=/^\)\]\}',?\n/;function rx(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var f0=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ve(r.\u0275loadImpl()):L(null)).pipe($e(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,O)=>s.setRequestHeader(A,O.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader("Content-Type",A)}if(t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let A=s.statusText||"OK",O=new At(s.getAllResponseHeaders()),U=rx(s)||t.url;return l=new Ba({headers:O,status:s.status,statusText:A,url:U}),l},h=()=>{let{headers:A,status:O,statusText:U,url:De}=d(),ae=null;O!==ZD&&(ae=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=ae?p0:0);let Ge=O>=200&&O<300;if(t.responseType==="json"&&typeof ae=="string"){let st=ae;ae=ae.replace(nx,"");try{ae=ae!==""?JSON.parse(ae):null}catch(Ve){ae=st,Ge&&(Ge=!1,ae={error:Ve,text:ae})}}Ge?(o.next(new co({body:ae,headers:A,status:O,statusText:U,url:De||void 0})),o.complete()):o.error(new Zn({error:ae,headers:A,status:O,statusText:U,url:De||void 0}))},m=A=>{let{url:O}=d(),U=new Zn({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(U)},b=!1,y=A=>{b||(o.next(d()),b=!0);let O={type:Qn.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(O.total=A.total),t.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},x=A=>{let O={type:Qn.UploadProgress,loaded:A.loaded};A.lengthComputable&&(O.total=A.total),o.next(O)};return s.addEventListener("load",h),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:Qn.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(F(gi))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),h0=new k(""),ix="XSRF-TOKEN",ox=new k("",{providedIn:"root",factory:()=>ix}),sx="X-XSRF-TOKEN",ax=new k("",{providedIn:"root",factory:()=>sx}),$a=class{},lx=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=La(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(F(Je),F(on),F(ox))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function cx(e,n){let t=e.url.toLowerCase();if(!D(h0)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=D($a).getToken(),i=D(ax);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Sd=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Sd||{});function m0(e,n){return{\u0275kind:e,\u0275providers:n}}function g0(...e){let n=[Ar,f0,d0,{provide:so,useExisting:d0},{provide:ao,useFactory:()=>D(xd,{optional:!0})??D(f0)},{provide:Id,useValue:cx,multi:!0},{provide:h0,useValue:!0},{provide:$a,useClass:lx}];for(let t of e)n.push(...t.\u0275providers);return li(n)}function v0(e){return m0(Sd.Interceptors,e.map(n=>({provide:Id,useValue:n,multi:!0})))}function y0(){return m0(Sd.Fetch,[xd,{provide:ao,useExisting:xd}])}var Rd=class extends ka{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Od=class e extends Rd{static makeCurrent(){Yg(new e)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=ux();return t==null?null:dx(t)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return La(document.cookie,n)}},uo=null;function ux(){return uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null}function dx(e){return new URL(e,document.baseURI).pathname}var fx=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),kd=new k(""),C0=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(F(kd),F(Ee))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Ha=class{constructor(n){this._doc=n}},Ad="ng-app-id",D0=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ja(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Ad}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ad),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ad,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(F(Je),F(Hu),F(Gu,8),F(on))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Nd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fd=/%COMP%/g,x0="%COMP%",px=`_nghost-${x0}`,hx=`_ngcontent-${x0}`,mx=!0,gx=new k("",{providedIn:"root",factory:()=>mx});function vx(e){return hx.replace(Fd,e)}function yx(e){return px.replace(Fd,e)}function E0(e,n){return n.map(t=>t.replace(Fd,e))}var b0=(()=>{class e{constructor(t,r,i,o,s,a,l,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=ja(a),this.defaultRenderer=new fo(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jt.ShadowDom&&(r=z(E({},r),{encapsulation:Jt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof za?i.applyToHost(t):i instanceof po&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Jt.Emulated:o=new za(l,d,r,this.appId,h,s,a,m);break;case Jt.ShadowDom:return new Pd(l,d,t,r,s,a,this.nonce,m);default:o=new po(l,d,r,h,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(F(C0),F(D0),F(Hu),F(gx),F(Je),F(on),F(Ee),F(Gu))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),fo=class{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Nd[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(_0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(_0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new P(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Nd[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Nd[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(vn.DashCase|vn.Important)?n.style.setProperty(t,r,i&vn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&vn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if(typeof n=="string"&&(n=xn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function _0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Pd=class extends fo{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=E0(i.id,i.styles);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},po=class extends fo{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?E0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},za=class extends po{constructor(n,t,r,i,o,s,a,l){let d=i+"-"+r.id;super(n,t,r,o,s,a,l,d),this.contentAttr=vx(d),this.hostAttr=yx(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}},bx=(()=>{class e extends Ha{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(F(Je))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),w0=["alt","control","meta","shift"],_x={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wx={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Cx=(()=>{class e extends Ha{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),w0.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=_x[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),w0.forEach(s=>{if(s!==i){let a=wx[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(F(Je))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function M0(e,n){return Bg(E({rootComponent:e},Dx(n)))}function Dx(e){return{appProviders:[...Sx,...e?.providers??[]],platformProviders:Ix}}function xx(){Od.makeCurrent()}function Ex(){return new gn}function Mx(){return xm(document),document}var Ix=[{provide:on,useValue:_d},{provide:zu,useValue:xx,multi:!0},{provide:Je,useFactory:Mx,deps:[]}];var Sx=[{provide:aa,useValue:"root"},{provide:gn,useFactory:Ex,deps:[]},{provide:kd,useClass:bx,multi:!0,deps:[Je,Ee,on]},{provide:kd,useClass:Cx,multi:!0,deps:[Je]},b0,D0,C0,{provide:oi,useExisting:b0},{provide:gi,useClass:fx,deps:[]},[]];var I0=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(F(Je))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var W="primary",So=Symbol("RouteTitle"),Bd=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function xi(e){return new Bd(e)}function Ax(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Nx(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ln(e[t],n[t]))return!1;return!0}function ln(e,n){let t=e?$d(e):void 0,r=n?$d(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!V0(e[i],n[i]))return!1;return!0}function $d(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function V0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function j0(e){return e.length>0?e[e.length-1]:null}function Kn(e){return ec(e)?e:Tr(e)?ve(Promise.resolve(e)):L(e)}var Rx={exact:B0,subset:$0},U0={exact:Ox,subset:kx,ignored:()=>!0};function S0(e,n,t){return Rx[t.paths](e.root,n.root,t.matrixParams)&&U0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function Ox(e,n){return ln(e,n)}function B0(e,n,t){if(!Rr(e.segments,n.segments)||!qa(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!B0(e.children[r],n.children[r],t))return!1;return!0}function kx(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>V0(e[t],n[t]))}function $0(e,n,t){return H0(e,n,n.segments,t)}function H0(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Rr(i,t)||n.hasChildren()||!qa(i,t,r))}else if(e.segments.length===t.length){if(!Rr(e.segments,t)||!qa(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!$0(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Rr(e.segments,i)||!qa(e.segments,i,r)||!e.children[W]?!1:H0(e.children[W],n,o,r)}}function qa(e,n,t){return n.every((r,i)=>U0[t](e[i].parameters,r.parameters))}var In=class{constructor(n=new ue([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xi(this.queryParams),this._queryParamMap}toString(){return Lx.serialize(this)}},ue=class{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Za(this)}},Nr=class{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=xi(this.parameters),this._parameterMap}toString(){return G0(this)}};function Px(e,n){return Rr(e,n)&&e.every((t,r)=>ln(t.parameters,n[r].parameters))}function Rr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function Fx(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===W&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==W&&(t=t.concat(n(i,r)))}),t}var To=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>new Ei,providedIn:"root"})}}return e})(),Ei=class{parse(n){let t=new zd(n);return new In(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${ho(n.root,!0)}`,r=Ux(n.queryParams),i=typeof n.fragment=="string"?`#${Vx(n.fragment)}`:"";return`${t}${r}${i}`}},Lx=new Ei;function Za(e){return e.segments.map(n=>G0(n)).join("/")}function ho(e,n){if(!e.hasChildren())return Za(e);if(n){let t=e.children[W]?ho(e.children[W],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==W&&r.push(`${i}:${ho(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Fx(e,(r,i)=>i===W?[ho(e.children[W],!1)]:[`${i}:${ho(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[W]!=null?`${Za(e)}/${t[0]}`:`${Za(e)}/(${t.join("//")})`}}function z0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ga(e){return z0(e).replace(/%3B/gi,";")}function Vx(e){return encodeURI(e)}function Hd(e){return z0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qa(e){return decodeURIComponent(e)}function T0(e){return Qa(e.replace(/\+/g,"%20"))}function G0(e){return`${Hd(e.path)}${jx(e.parameters)}`}function jx(e){return Object.entries(e).map(([n,t])=>`;${Hd(n)}=${Hd(t)}`).join("")}function Ux(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ga(t)}=${Ga(i)}`).join("&"):`${Ga(t)}=${Ga(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var Bx=/^[^\/()?;#]+/;function Ld(e){let n=e.match(Bx);return n?n[0]:""}var $x=/^[^\/()?;=#]+/;function Hx(e){let n=e.match($x);return n?n[0]:""}var zx=/^[^=?&#]+/;function Gx(e){let n=e.match(zx);return n?n[0]:""}var Wx=/^[^&#]+/;function qx(e){let n=e.match(Wx);return n?n[0]:""}var zd=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[W]=new ue(n,t)),r}parseSegment(){let n=Ld(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(n),new Nr(Qa(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=Hx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ld(this.remaining);i&&(r=i,this.capture(r))}n[Qa(t)]=Qa(r)}parseQueryParam(n){let t=Gx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=qx(this.remaining);s&&(r=s,this.capture(r))}let i=T0(t),o=T0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ld(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=W);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[W]:new ue([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new P(4011,!1)}};function W0(e){return e.segments.length>0?new ue([],{[W]:e}):e}function q0(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=q0(i);if(r===W&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ue(e.segments,n);return Zx(t)}function Zx(e){if(e.numberOfChildren===1&&e.children[W]){let n=e.children[W];return new ue(e.segments.concat(n.segments),n.children)}return e}function Or(e){return e instanceof In}function Qx(e,n,t=null,r=null){let i=Z0(e);return Q0(i,n,t,r)}function Z0(e){let n;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new ue(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=W0(r);return n??i}function Q0(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return Vd(i,i,i,t,r);let o=Yx(n);if(o.toRoot())return Vd(i,i,new ue([],{}),t,r);let s=Kx(o,i,e),a=s.processChildren?vo(s.segmentGroup,s.index,o.commands):K0(s.segmentGroup,s.index,o.commands);return Vd(i,s.segmentGroup,a,t,r)}function Ya(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function _o(e){return typeof e=="object"&&e!=null&&e.outlets}function Vd(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;e===n?s=t:s=Y0(e,n,t);let a=W0(q0(s));return new In(a,o,i)}function Y0(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Y0(o,n,t)}),new ue(e.segments,r)}var Ka=class{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ya(r[0]))throw new P(4003,!1);let i=r.find(_o);if(i&&i!==j0(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Yx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ka(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ka(t,n,r)}var wi=class{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function Kx(e,n,t){if(e.isAbsolute)return new wi(n,!0,0);if(!t)return new wi(n,!1,NaN);if(t.parent===null)return new wi(t,!0,0);let r=Ya(e.commands[0])?0:1,i=t.segments.length-1+r;return Jx(t,i,e.numberOfDoubleDots)}function Jx(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new wi(r,!1,i-o)}function Xx(e){return _o(e[0])?e[0].outlets:{[W]:e}}function K0(e,n,t){if(e??=new ue([],{}),e.segments.length===0&&e.hasChildren())return vo(e,n,t);let r=eE(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ue(e.segments.slice(0,r.pathIndex),{});return o.children[W]=new ue(e.segments.slice(r.pathIndex),e.children),vo(o,0,i)}else return r.match&&i.length===0?new ue(e.segments,{}):r.match&&!e.hasChildren()?Gd(e,n,t):r.match?vo(e,0,i):Gd(e,n,t)}function vo(e,n,t){if(t.length===0)return new ue(e.segments,{});{let r=Xx(t),i={};if(Object.keys(r).some(o=>o!==W)&&e.children[W]&&e.numberOfChildren===1&&e.children[W].segments.length===0){let o=vo(e.children[W],n,t);return new ue(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=K0(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(e.segments,i)}}function eE(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(_o(a))break;let l=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!N0(l,d,s))return o;r+=2}else{if(!N0(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gd(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(_o(o)){let l=tE(o.outlets);return new ue(r,l)}if(i===0&&Ya(t[0])){let l=e.segments[n];r.push(new Nr(l.path,A0(t[0]))),i++;continue}let s=_o(o)?o.outlets[W]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ya(a)?(r.push(new Nr(s,A0(a))),i+=2):(r.push(new Nr(s,{})),i++)}return new ue(r,{})}function tE(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Gd(new ue([],{}),0,r))}),n}function A0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function N0(e,n,t){return e==t.path&&ln(n,t.parameters)}var yo="imperative",ze=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ze||{}),Nt=class{constructor(n,t){this.id=n,this.url=t}},Mi=class extends Nt{constructor(n,t,r="imperative",i=null){super(n,t),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qt=class extends Nt{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(_t||{}),Ja=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ja||{}),Mn=class extends Nt{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yn=class extends Nt{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=ze.NavigationSkipped}},wo=class extends Nt{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xa=class extends Nt{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends Nt{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class extends Nt{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zd=class extends Nt{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends Nt{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class{constructor(n){this.route=n,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kd=class{constructor(n){this.route=n,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jd=class{constructor(n){this.snapshot=n,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{constructor(n){this.snapshot=n,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{constructor(n){this.snapshot=n,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{constructor(n){this.snapshot=n,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},el=class{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=ze.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Co=class{},Ii=class{constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function nE(e,n){return e.providers&&!e._injector&&(e._injector=_a(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Wt(e){return e.outlet||W}function rE(e,n){let t=e.filter(r=>Wt(r)===n);return t.push(...e.filter(r=>Wt(r)!==n)),t}function Ao(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var nf=class{get injector(){return Ao(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new No(this.rootInjector),this.attachRef=null}},No=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)(F(rt))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tl=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=rf(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=rf(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=of(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return of(n,this._root).map(t=>t.value)}};function rf(e,n){if(e===n.value)return n;for(let t of n.children){let r=rf(e,t);if(r)return r}return null}function of(e,n){if(e===n.value)return[n];for(let t of n.children){let r=of(e,t);if(r.length)return r.unshift(n),r}return[]}var bt=class{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function _i(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var nl=class extends tl{constructor(n,t){super(n),this.snapshot=t,hf(this,n)}toString(){return this.snapshot.toString()}};function J0(e){let n=iE(e),t=new Te([new Nr("",{})]),r=new Te({}),i=new Te({}),o=new Te({}),s=new Te(""),a=new dt(t,r,o,s,i,W,e,n.root);return a.snapshot=n.root,new nl(new bt(a,[]),n)}function iE(e){let n={},t={},r={},i="",o=new Ci([],n,r,i,t,W,e,null,{});return new il("",new bt(o,[]))}var dt=class{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($(d=>d[So]))??L(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(n=>xi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(n=>xi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rl(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:E(E({},n.params),e.params),data:E(E({},n.data),e.data),resolve:E(E(E(E({},e.data),n.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&ev(i)&&(r.resolve[So]=i.title),r}var Ci=class{get title(){return this.data?.[So]}constructor(n,t,r,i,o,s,a,l,d){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},il=class extends tl{constructor(n,t){super(t),this.url=n,hf(this,t)}toString(){return X0(this._root)}};function hf(e,n){n.value._routerState=e,n.children.forEach(t=>hf(e,t))}function X0(e){let n=e.children.length>0?` { ${e.children.map(X0).join(", ")} } `:"";return`${e.value}${n}`}function jd(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ln(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ln(n.params,t.params)||e.paramsSubject.next(t.params),Nx(n.url,t.url)||e.urlSubject.next(t.url),ln(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function sf(e,n){let t=ln(e.params,n.params)&&Px(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||sf(e.parent,n.parent))}function ev(e){return typeof e.title=="string"||e.title===null}var mf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=W,this.activateEvents=new ye,this.deactivateEvents=new ye,this.attachEvents=new ye,this.detachEvents=new ye,this.parentContexts=D(No),this.location=D(Hn),this.changeDetector=D(Gn),this.inputBinder=D(ll,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new af(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=re({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ht]})}}return e})(),af=class e{__ngOutletInjector(n){return new e(this.route,this.childContexts,n)}constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===dt?this.route:n===No?this.childContexts:this.parent.get(n,t)}},ll=new k(""),R0=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Gi([r.queryParams,r.params,r.data]).pipe($e(([o,s,a],l)=>(a=E(E(E({},o),s),a),l===0?L(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=$g(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function oE(e,n,t){let r=Do(e,n._root,t?t._root:void 0);return new nl(r,n)}function Do(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=sE(e,n,t);return new bt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Do(e,a)),s}}let r=aE(n.value),i=n.children.map(o=>Do(e,o));return new bt(r,i)}}function sE(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Do(e,r,i);return Do(e,r)})}function aE(e){return new dt(new Te(e.url),new Te(e.params),new Te(e.queryParams),new Te(e.fragment),new Te(e.data),e.outlet,e.component,e)}var xo=class{constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},tv="ngNavigationCancelingError";function ol(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Or(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=nv(!1,_t.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function nv(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[tv]=!0,t.cancellationCode=n,t}function lE(e){return rv(e)&&Or(e.url)}function rv(e){return!!e&&e[tv]}var cE=(e,n,t,r)=>$(i=>(new lf(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),lf=class{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),jd(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=_i(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=_i(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=_i(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=_i(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Xd(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(jd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jd(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},sl=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Di=class{constructor(n,t){this.component=n,this.route=t}};function uE(e,n,t){let r=e._root,i=n?n._root:null;return mo(r,i,t,[r.value])}function dE(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Ai(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!ch(e)?e:n.get(e):r}function mo(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_i(n);return e.children.forEach(s=>{fE(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>bo(a,t.getContext(s),i)),i}function fE(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=pE(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new sl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mo(e,n,a?a.children:null,r,i):mo(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Di(a.outlet.component,s))}else s&&bo(n,a,i),i.canActivateChecks.push(new sl(r)),o.component?mo(e,null,a?a.children:null,r,i):mo(e,null,t,r,i);return i}function pE(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Rr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Rr(e.url,n.url)||!ln(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sf(e,n)||!ln(e.queryParams,n.queryParams);case"paramsChange":default:return!sf(e,n)}}function bo(e,n,t){let r=_i(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?bo(s,n.children.getContext(o),t):bo(s,null,t):bo(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Di(n.outlet.component,i)):t.canDeactivateChecks.push(new Di(null,i)):t.canDeactivateChecks.push(new Di(null,i))}function Ro(e){return typeof e=="function"}function hE(e){return typeof e=="boolean"}function mE(e){return e&&Ro(e.canLoad)}function gE(e){return e&&Ro(e.canActivate)}function vE(e){return e&&Ro(e.canActivateChild)}function yE(e){return e&&Ro(e.canDeactivate)}function bE(e){return e&&Ro(e.canMatch)}function iv(e){return e instanceof Lt||e?.name==="EmptyError"}var Wa=Symbol("INITIAL_VALUE");function Si(){return $e(e=>Gi(e.map(n=>n.pipe(wt(1),oc(Wa)))).pipe($(n=>{for(let t of n)if(t!==!0){if(t===Wa)return Wa;if(t===!1||_E(t))return t}return!0}),We(n=>n!==Wa),wt(1)))}function _E(e){return Or(e)||e instanceof xo}function wE(e,n){return Pe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?L(z(E({},t),{guardsResult:!0})):CE(s,r,i,e).pipe(Pe(a=>a&&hE(a)?DE(r,o,e,n):L(a)),$(a=>z(E({},t),{guardsResult:a})))})}function CE(e,n,t,r){return ve(e).pipe(Pe(i=>SE(i.component,i.route,t,n,r)),Qt(i=>i!==!0,!0))}function DE(e,n,t,r){return ve(n).pipe(hn(i=>Hr(EE(i.route.parent,r),xE(i.route,r),IE(e,i.path,t),ME(e,i.route,t))),Qt(i=>i!==!0,!0))}function xE(e,n){return e!==null&&n&&n(new ef(e)),L(!0)}function EE(e,n){return e!==null&&n&&n(new Jd(e)),L(!0)}function ME(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let i=r.map(o=>bs(()=>{let s=Ao(n)??t,a=Ai(o,s),l=gE(a)?a.canActivate(n,e):Et(s,()=>a(n,e));return Kn(l).pipe(Qt())}));return L(i).pipe(Si())}function IE(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>dE(s)).filter(s=>s!==null).map(s=>bs(()=>{let a=s.guards.map(l=>{let d=Ao(s.node)??t,h=Ai(l,d),m=vE(h)?h.canActivateChild(r,e):Et(d,()=>h(r,e));return Kn(m).pipe(Qt())});return L(a).pipe(Si())}));return L(o).pipe(Si())}function SE(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let s=o.map(a=>{let l=Ao(n)??i,d=Ai(a,l),h=yE(d)?d.canDeactivate(e,n,t,r):Et(l,()=>d(e,n,t,r));return Kn(h).pipe(Qt())});return L(s).pipe(Si())}function TE(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return L(!0);let o=i.map(s=>{let a=Ai(s,e),l=mE(a)?a.canLoad(n,t):Et(e,()=>a(n,t));return Kn(l)});return L(o).pipe(Si(),ov(r))}function ov(e){return Yl(se(n=>{if(typeof n!="boolean")throw ol(e,n)}),$(n=>n===!0))}function AE(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return L(!0);let o=i.map(s=>{let a=Ai(s,e),l=bE(a)?a.canMatch(n,t):Et(e,()=>a(n,t));return Kn(l)});return L(o).pipe(Si(),ov(r))}var Eo=class{constructor(n){this.segmentGroup=n||null}},Mo=class extends Error{constructor(n){super(),this.urlTree=n}};function bi(e){return Ae(new Eo(e))}function NE(e){return Ae(new P(4e3,!1))}function RE(e){return Ae(nv(!1,_t.GuardRejected))}var cf=class{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return L(r);if(i.numberOfChildren>1||!i.children[W])return NE(`${n.redirectTo}`);i=i.children[W]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:h,url:m,outlet:b,params:y,data:x,title:A}=i,O=Et(o,()=>a({params:y,data:x,queryParams:l,fragment:d,routeConfig:h,url:m,outlet:b,title:A}));if(O instanceof In)throw new Mo(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Mo(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new In(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ue(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},uf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OE(e,n,t,r,i){let o=sv(e,n,t);return o.matched?(r=nE(n,r),AE(r,n,t,i).pipe($(s=>s===!0?o:E({},uf)))):L(o)}function sv(e,n,t){if(n.path==="**")return kE(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?E({},uf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||Ax)(t,e,n);if(!i)return E({},uf);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function kE(e){return{matched:!0,parameters:e.length>0?j0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function O0(e,n,t,r){return t.length>0&&LE(e,t,r)?{segmentGroup:new ue(n,FE(r,new ue(t,e.children))),slicedSegments:[]}:t.length===0&&VE(e,t,r)?{segmentGroup:new ue(e.segments,PE(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ue(e.segments,e.children),slicedSegments:t}}function PE(e,n,t,r){let i={};for(let o of t)if(cl(e,n,o)&&!r[Wt(o)]){let s=new ue([],{});i[Wt(o)]=s}return E(E({},r),i)}function FE(e,n){let t={};t[W]=n;for(let r of e)if(r.path===""&&Wt(r)!==W){let i=new ue([],{});t[Wt(r)]=i}return t}function LE(e,n,t){return t.some(r=>cl(e,n,r)&&Wt(r)!==W)}function VE(e,n,t){return t.some(r=>cl(e,n,r))}function cl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function jE(e,n,t){return n.length===0&&!e.children[t]}var df=class{};function UE(e,n,t,r,i,o,s="emptyOnly"){return new ff(e,n,t,r,i,s,o).recognize()}var BE=31,ff=class{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new P(4002,`'${n.segmentGroup}'`)}recognize(){let n=O0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe($(({children:t,rootSnapshot:r})=>{let i=new bt(r,t),o=new il("",i),s=Qx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Ci([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),W,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,W,t).pipe($(r=>({children:r,rootSnapshot:t})),xe(r=>{if(r instanceof Mo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Eo?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe($(s=>s instanceof bt?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ve(o).pipe(hn(s=>{let a=r.children[s],l=rE(t,s);return this.processSegmentGroup(n,l,a,s,i)}),ic((s,a)=>(s.push(...a),s)),Rn(null),rc(),Pe(s=>{if(s===null)return bi(r);let a=av(s);return $E(a),L(a)}))}processSegment(n,t,r,i,o,s,a){return ve(t).pipe(hn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(xe(d=>{if(d instanceof Eo)return L(null);throw d}))),Qt(l=>!!l),xe(l=>{if(iv(l))return jE(r,i,o)?L(new df):bi(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return Wt(r)!==s&&(s===W||!cl(i,o,r))?bi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):bi(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:m,remainingSegments:b}=sv(t,i,o);if(!l)return bi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BE&&(this.allowRedirects=!1));let y=new Ci(o,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,k0(i),Wt(i),i.component??i._loadedComponent??null,i,P0(i)),x=rl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(x.params),y.data=Object.freeze(x.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,m,y,n);return this.applyRedirects.lineralizeSegments(i,A).pipe(Pe(O=>this.processSegment(n,r,t,O.concat(b),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=OE(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe($e(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe($e(({routes:d})=>{let h=r._loadedInjector??n,{parameters:m,consumedSegments:b,remainingSegments:y}=l,x=new Ci(b,m,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,k0(r),Wt(r),r.component??r._loadedComponent??null,r,P0(r)),A=rl(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(A.params),x.data=Object.freeze(A.data);let{segmentGroup:O,slicedSegments:U}=O0(t,b,y,d);if(U.length===0&&O.hasChildren())return this.processChildren(h,d,O,x).pipe($(ae=>new bt(x,ae)));if(d.length===0&&U.length===0)return L(new bt(x,[]));let De=Wt(r)===o;return this.processSegment(h,d,O,U,De?W:o,!0,x).pipe($(ae=>new bt(x,ae instanceof bt?[ae]:[])))}))):bi(t)))}getChildConfig(n,t,r){return t.children?L({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?L({routes:t._loadedRoutes,injector:t._loadedInjector}):TE(n,t,r,this.urlSerializer).pipe(Pe(i=>i?this.configLoader.loadChildren(n,t).pipe(se(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):RE(t))):L({routes:[],injector:n})}};function $E(e){e.sort((n,t)=>n.value.outlet===W?-1:t.value.outlet===W?1:n.value.outlet.localeCompare(t.value.outlet))}function HE(e){let n=e.value.routeConfig;return n&&n.path===""}function av(e){let n=[],t=new Set;for(let r of e){if(!HE(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=av(r.children);n.push(new bt(r.value,i))}return n.filter(r=>!t.has(r))}function k0(e){return e.data||{}}function P0(e){return e.resolve||{}}function zE(e,n,t,r,i,o){return Pe(s=>UE(e,n,t,r,s.extractedUrl,i,o).pipe($(({state:a,tree:l})=>z(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function GE(e,n){return Pe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return L(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of lv(l))s.add(d);let a=0;return ve(s).pipe(hn(l=>o.has(l)?WE(l,r,e,n):(l.data=rl(l,l.parent,e).resolve,L(void 0))),se(()=>a++),zr(1),Pe(l=>a===s.size?L(t):ht))})}function lv(e){let n=e.children.map(t=>lv(t)).flat();return[e,...n]}function WE(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!ev(i)&&(o[So]=i.title),qE(o,e,n,r).pipe($(s=>(e._resolvedData=s,e.data=rl(e,e.parent,t).resolve,null)))}function qE(e,n,t,r){let i=$d(e);if(i.length===0)return L({});let o={};return ve(i).pipe(Pe(s=>ZE(e[s],n,t,r).pipe(Qt(),se(a=>{if(a instanceof xo)throw ol(new Ei,a);o[s]=a}))),zr(1),nc(o),xe(s=>iv(s)?ht:Ae(s)))}function ZE(e,n,t,r){let i=Ao(n)??r,o=Ai(e,i),s=o.resolve?o.resolve(n,t):Et(i,()=>o(n,t));return Kn(s)}function Ud(e){return $e(n=>{let t=e(n);return t?ve(t).pipe($(()=>n)):L(n)})}var cv=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===W);return r}getResolvedTitleForRoute(t){return t.data[So]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>D(QE),providedIn:"root"})}}return e})(),QE=(()=>{class e extends cv{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(F(I0))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Oo=new k("",{providedIn:"root",factory:()=>({})}),YE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[pe],decls:1,vars:0,template:function(r,i){r&1&&_(0,"router-outlet")},dependencies:[mf],encapsulation:2})}}return e})();function gf(e){let n=e.children&&e.children.map(gf),t=n?z(E({},e),{children:n}):E({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==W&&(t.component=YE),t}var Io=new k(""),vf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(xa)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return L(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Kn(t.loadComponent()).pipe($(uv),se(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),dr(()=>{this.componentLoaders.delete(t)})),i=new $r(r,()=>new Be).pipe(Br());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KE(r,this.compiler,t,this.onLoadEndListener).pipe(dr(()=>{this.childrenLoaders.delete(r)})),s=new $r(o,()=>new Be).pipe(Br());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function KE(e,n,t,r){return Kn(e.loadChildren()).pipe($(uv),Pe(i=>i instanceof Ji||Array.isArray(i)?L(i):ve(n.compileModuleAsync(i))),$(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Io,[],{optional:!0,self:!0}).flat()),{routes:s.map(gf),injector:o}}))}function JE(e){return e&&typeof e=="object"&&"default"in e}function uv(e){return JE(e)?e.default:e}var yf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>D(XE),providedIn:"root"})}}return e})(),XE=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dv=new k(""),fv=new k("");function eM(e,n,t){let r=e.get(fv),i=e.get(Je);return e.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),tM(e))),{onViewTransitionCreated:l}=r;return l&&Et(e,()=>l({transition:a,from:n,to:t})),s})}function tM(e){return new Promise(n=>{sd({read:()=>setTimeout(n)},{injector:e})})}var nM=new k(""),bf=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=D(vf),this.environmentInjector=D(rt),this.urlSerializer=D(To),this.rootContexts=D(No),this.location=D(vi),this.inputBindingEnabled=D(ll,{optional:!0})!==null,this.titleStrategy=D(cv),this.options=D(Oo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(yf),this.createViewTransition=D(dv,{optional:!0}),this.navigationErrorHandler=D(nM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Yd(i)),r=i=>this.events.next(new Kd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(z(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:yo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(o=>o.id!==0),$(o=>z(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$e(o=>{let s=!1,a=!1;return L(o).pipe($e(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",_t.SupersededByNewNavigation),ht;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new Yn(l.id,this.urlSerializer.serialize(l.rawUrl),m,Ja.IgnoredSameUrlNavigation)),l.resolve(!1),ht}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return L(l).pipe($e(m=>{let b=this.transitions?.getValue();return this.events.next(new Mi(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),b!==this.transitions?.getValue()?ht:Promise.resolve(m)}),zE(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),se(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=z(E({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let b=new Xa(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:b,source:y,restoredState:x,extras:A}=l,O=new Mi(m,this.urlSerializer.serialize(b),y,x);this.events.next(O);let U=J0(this.rootComponentType).snapshot;return this.currentTransition=o=z(E({},l),{targetSnapshot:U,urlAfterRedirects:b,extras:z(E({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,L(o)}else{let m="";return this.events.next(new Yn(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Ja.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ht}}),se(l=>{let d=new Wd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),$(l=>(this.currentTransition=o=z(E({},l),{guards:uE(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),wE(this.environmentInjector,l=>this.events.next(l)),se(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ol(this.urlSerializer,l.guardsResult);let d=new qd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),We(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",_t.GuardRejected),!1)),Ud(l=>{if(l.guards.canActivateChecks.length)return L(l).pipe(se(d=>{let h=new Zd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),$e(d=>{let h=!1;return L(d).pipe(GE(this.paramsInheritanceStrategy,this.environmentInjector),se({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",_t.NoDataFromResolver)}}))}),se(d=>{let h=new Qd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Ud(l=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(se(b=>{h.component=b}),$(()=>{})));for(let b of h.children)m.push(...d(b));return m};return Gi(d(l.targetSnapshot.root)).pipe(Rn(null),wt(1))}),Ud(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?ve(h).pipe($(()=>o)):L(o)}),$(l=>{let d=oE(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(E({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),se(()=>{this.events.next(new Co)}),cE(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),wt(1),se({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),sc(this.transitionAbortSubject.pipe(se(l=>{throw l}))),dr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",_t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xe(l=>{if(a=!0,rv(l))this.events.next(new Mn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),lE(l)?this.events.next(new Ii(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof xo){let{message:m,cancellationCode:b}=ol(this.urlSerializer,h);this.events.next(new Mn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,b)),this.events.next(new Ii(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=t.errorHandler(l);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return ht}))}))}cancelNavigationTransition(t,r,i){let o=new Mn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rM(e){return e!==yo}var iM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>D(oM),providedIn:"root"})}}return e})(),pf=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},oM=(()=>{class e extends pf{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pv=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:()=>D(sM),providedIn:"root"})}}return e})(),sM=(()=>{class e extends pv{constructor(){super(...arguments),this.location=D(vi),this.urlSerializer=D(To),this.options=D(Oo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(yf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=J0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Mi)this.stateMemento=this.createStateMemento();else if(t instanceof Yn)this.rawUrlTree=r.initialUrl;else if(t instanceof Xa){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Co?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Mn&&(t.code===_t.GuardRejected||t.code===_t.NoDataFromResolver)?this.restoreHistory(r):t instanceof wo?this.restoreHistory(r,!0):t instanceof qt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof In?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),go=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(go||{});function hv(e,n){e.events.pipe(We(t=>t instanceof qt||t instanceof Mn||t instanceof wo||t instanceof Yn),$(t=>t instanceof qt||t instanceof Yn?go.COMPLETE:(t instanceof Mn?t.code===_t.Redirect||t.code===_t.SupersededByNewNavigation:!1)?go.REDIRECTING:go.FAILED),We(t=>t!==go.REDIRECTING),wt(1)).subscribe(()=>{n()})}function aM(e){throw e}var lM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},de=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=D(Ca),this.stateManager=D(pv),this.options=D(Oo,{optional:!0})||{},this.pendingTasks=D($n),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(bf),this.urlSerializer=D(To),this.location=D(vi),this.urlHandlingStrategy=D(yf),this._events=new Be,this.errorHandler=this.options.errorHandler||aM,this.navigated=!1,this.routeReuseStrategy=D(iM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(Io,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(ll,{optional:!0}),this.eventsSubscription=new Oe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==_t.Redirect&&r.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qt)this.navigated=!0;else if(r instanceof Ii){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rM(i.source)},s);this.scheduleNavigation(a,yo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}dM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let b=i?i.snapshot:this.routerState.snapshot.root;m=Z0(b)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return Q0(m,t,h,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Or(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yo,null,r)}navigate(t,r={skipLocationChange:!1}){return uM(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},lM):r===!1?i=E({},cM):i=r,Or(t))return S0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return S0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,b)=>{a=m,l=b});let h=this.pendingTasks.add();return hv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function uM(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new P(4008,!1)}function dM(e){return!(e instanceof Co)&&!(e instanceof Ii)}var Ti=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof qt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Or(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Im(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Or(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(C(de),C(dt),ju("tabindex"),C(It),C(Ke),C(En))}}static{this.\u0275dir=re({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&M("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&sn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wn],replaceUrl:[2,"replaceUrl","replaceUrl",Wn],routerLink:"routerLink"},standalone:!0,features:[id,Ht]})}}return e})(),mv=(()=>{class e{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ye,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof qt&&this.update()})}ngAfterContentInit(){L(this.links.changes,L(null)).pipe(Nn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ve(t).pipe(Nn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=fM(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||e)(C(de),C(Ke),C(It),C(Gn),C(Ti,8))}}static{this.\u0275dir=re({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Sg(o,Ti,5),r&2){let s;pi(s=hi())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ht]})}}return e})();function fM(e){return!!e.paths}var al=class{};var pM=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(We(t=>t instanceof qt),hn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=_a(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ve(i).pipe(Nn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=L(null);let o=i.pipe(Pe(s=>s===null?L(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ve([o,s]).pipe(Nn())}else return o})}static{this.\u0275fac=function(r){return new(r||e)(F(de),F(xa),F(rt),F(al),F(vf))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gv=new k(""),hM=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Yn&&t.code===Ja.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof el&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new el(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Um()}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function vv(e,...n){return li([{provide:Io,multi:!0,useValue:e},[],{provide:dt,useFactory:yv,deps:[de]},{provide:io,multi:!0,useFactory:bv},n.map(t=>t.\u0275providers)])}function yv(e){return e.routerState.root}function ko(e,n){return{\u0275kind:e,\u0275providers:n}}function bv(){let e=D(xt);return n=>{let t=e.get(zn);if(n!==t.components[0])return;let r=e.get(de),i=e.get(_v);e.get(_f)===1&&r.initialNavigation(),e.get(wv,null,q.Optional)?.setUpPreloading(),e.get(gv,null,q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _v=new k("",{factory:()=>new Be}),_f=new k("",{providedIn:"root",factory:()=>1});function mM(){return ko(2,[{provide:_f,useValue:0},{provide:Da,multi:!0,deps:[xt],useFactory:n=>{let t=n.get(Kg,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=n.get(de),o=n.get(_v);hv(i,()=>{r(!0)}),n.get(bf).afterPreactivation=()=>(r(!0),o.closed?L(void 0):o),i.initialNavigation()}))}}])}function gM(){return ko(3,[{provide:Da,multi:!0,useFactory:()=>{let n=D(de);return()=>{n.setUpLocationChangeListener()}}},{provide:_f,useValue:2}])}var wv=new k("");function vM(e){return ko(0,[{provide:wv,useExisting:pM},{provide:al,useExisting:e}])}function yM(){return ko(8,[R0,{provide:ll,useExisting:R0}])}function bM(e){let n=[{provide:dv,useValue:eM},{provide:fv,useValue:E({skipNextTransition:!!e?.skipInitialTransition},e)}];return ko(9,n)}var F0=new k("ROUTER_FORROOT_GUARD"),_M=[vi,{provide:To,useClass:Ei},de,No,{provide:dt,useFactory:yv,deps:[de]},vf,[]],ul=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[_M,[],{provide:Io,multi:!0,useValue:t},{provide:F0,useFactory:xM,deps:[[de,new sa,new _u]]},{provide:Oo,useValue:r||{}},r?.useHash?CM():DM(),wM(),r?.preloadingStrategy?vM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?EM(r):[],r?.bindToComponentInputs?yM().\u0275providers:[],r?.enableViewTransitions?bM().\u0275providers:[],MM()]}}static forChild(t){return{ngModule:e,providers:[{provide:Io,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(F(F0,8))}}static{this.\u0275mod=rn({type:e})}static{this.\u0275inj=nn({})}}return e})();function wM(){return{provide:gv,useFactory:()=>{let e=D(o0),n=D(Ee),t=D(Oo),r=D(bf),i=D(To);return t.scrollOffset&&e.setOffset(t.scrollOffset),new hM(i,r,e,n,t)}}}function CM(){return{provide:En,useClass:Xg}}function DM(){return{provide:En,useClass:bd}}function xM(e){return"guarded"}function EM(e){return[e.initialNavigation==="disabled"?gM().\u0275providers:[],e.initialNavigation==="enabledBlocking"?mM().\u0275providers:[]]}var L0=new k("");function MM(){return[{provide:L0,useFactory:bv},{provide:io,multi:!0,useExisting:L0}]}var Me=class e{constructor(n){this.http=n;this.loadStoredUser()}baseUrl="/api/auth";currentUserSubject=new Te(null);tokenKey="maraude_token";currentUser$=this.currentUserSubject.asObservable();login(n){return this.http.post(`${this.baseUrl}/login`,n).pipe(se(t=>{this.setCurrentUser(t.user,t.token)}))}register(n){return this.http.post(`${this.baseUrl}/register`,n).pipe(se(t=>{this.setCurrentUser(t.user,t.token)}))}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem("maraude_user"),this.currentUserSubject.next(null)}getCurrentUser(){return this.currentUserSubject.value}getToken(){return localStorage.getItem("maraude_token")}isLoggedIn(){return!!this.getToken()&&!!this.getCurrentUser()}isCoordinatorOrAdmin(){let n=this.getCurrentUser();return n?["coordinator","admin"].includes(n.role):!1}setCurrentUser(n,t){let r=t.trim();localStorage.setItem(this.tokenKey,r),localStorage.setItem("maraude_user",JSON.stringify(n)),this.currentUserSubject.next(n)}updateToken(n){let t=this.getCurrentUser();t&&(localStorage.setItem(this.tokenKey,n),this.currentUserSubject.next(t))}refreshToken(){let n=localStorage.getItem("maraude_refresh_token");return console.log("\u{1F504} Attempting token refresh"),this.http.post(`${this.baseUrl}/auth/refresh`,{refreshToken:n}).pipe(se(t=>{console.log("\u2705 Token refreshed successfully"),this.setCurrentUser(t.user,t.token)}),xe(t=>(console.error("\u274C Token refresh failed:",t),this.logout(),Ae(()=>t))))}loadStoredUser(){let n=this.getToken(),t=localStorage.getItem("maraude_user");if(n&&t)try{let r=JSON.parse(t);this.currentUserSubject.next(r)}catch(r){console.error("Error parsing stored user:",r),this.logout()}}static \u0275fac=function(t){return new(t||e)(F(Ar))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};function IM(e,n){e&1&&(u(0,"nav",12)(1,"div",13)(2,"a",14),f(3," Carte "),c(),u(4,"a",15),f(5," Dashboard "),c()()())}function SM(e,n){e&1&&(u(0,"div")(1,"a",16),f(2," Connexion Association "),c()())}function TM(e,n){if(e&1){let t=Z();u(0,"div",8)(1,"div",17)(2,"div",18)(3,"div",19)(4,"span",20),f(5),c()(),u(6,"div",21)(7,"p",22),f(8),c(),u(9,"p",23),f(10),c()()()(),u(11,"button",24),M("click",function(){I(t);let i=v();return S(i.logout())}),N(),u(12,"svg",25),_(13,"path",26),c(),V(),u(14,"span",27),f(15,"D\xE9connexion"),c()()()}if(e&2){let t=v();p(5),T(" ",t.getUserInitials()," "),p(3),Ce(" ",t.currentUser==null?null:t.currentUser.firstName," ",t.currentUser==null?null:t.currentUser.lastName," "),p(2),Ce(" ",t.getRoleLabel(),"",!(t.currentUser==null||t.currentUser.association==null)&&t.currentUser.association.name?" - "+(t.currentUser==null||t.currentUser.association==null?null:t.currentUser.association.name):""," ")}}function AM(e,n){if(e&1){let t=Z();u(0,"div",28)(1,"button",29),M("click",function(){I(t);let i=v();return S(i.toggleMobileMenu())}),N(),u(2,"svg",30),_(3,"path",31),c()()()}}function NM(e,n){if(e&1){let t=Z();u(0,"div",28)(1,"div",32)(2,"a",33),M("click",function(){I(t);let i=v();return S(i.closeMobileMenu())}),f(3," Carte "),c(),u(4,"a",34),M("click",function(){I(t);let i=v();return S(i.closeMobileMenu())}),f(5," Dashboard "),c(),u(6,"div",35)(7,"div",36)(8,"p",22),f(9),c(),u(10,"p",23),f(11),c()(),u(12,"button",37),M("click",function(){I(t);let i=v();return S(i.logout())}),f(13," D\xE9connexion "),c()()()()}if(e&2){let t=v();p(9),Ce(" ",t.currentUser==null?null:t.currentUser.firstName," ",t.currentUser==null?null:t.currentUser.lastName," "),p(2),Ce(" ",t.getRoleLabel(),"",!(t.currentUser==null||t.currentUser.association==null)&&t.currentUser.association.name?" - "+(t.currentUser==null||t.currentUser.association==null?null:t.currentUser.association.name):""," ")}}var dl=class e{constructor(n,t){this.authService=n;this.router=t}isLoggedIn=!1;currentUser=null;showMobileMenu=!1;ngOnInit(){this.authService.currentUser$.subscribe(n=>{this.currentUser=n,this.isLoggedIn=this.authService.isLoggedIn()})}getUserInitials(){if(!this.currentUser)return"";let n=this.currentUser.firstName?.charAt(0).toUpperCase()||"",t=this.currentUser.lastName?.charAt(0).toUpperCase()||"";return n+t}getRoleLabel(){return this.currentUser?{admin:"Administrateur",coordinator:"Coordinateur",volunteer:"B\xE9n\xE9vole"}[this.currentUser.role]||this.currentUser.role:""}logout(){this.authService.logout(),this.router.navigate(["/map"]),this.closeMobileMenu()}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}closeMobileMenu(){this.showMobileMenu=!1}static \u0275fac=function(t){return new(t||e)(C(Me),C(de))};static \u0275cmp=fe({type:e,selectors:[["app-header"]],standalone:!0,features:[pe],decls:14,vars:5,consts:[[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"text-2xl","font-bold","text-primary-600"],["routerLink","/map"],["class","hidden md:block",4,"ngIf"],[1,"flex","items-center","space-x-4"],[4,"ngIf"],["class","flex items-center space-x-4",4,"ngIf"],["class","md:hidden",4,"ngIf"],[1,"hidden","md:block"],[1,"ml-10","flex","items-baseline","space-x-4"],["routerLink","/map","routerLinkActive","text-primary-600 font-semibold",1,"text-gray-600","hover:text-primary-600","px-3","py-2","rounded-md","text-sm","font-medium"],["routerLink","/dashboard","routerLinkActive","text-primary-600 font-semibold",1,"text-gray-600","hover:text-primary-600","px-3","py-2","rounded-md","text-sm","font-medium"],["routerLink","/login",1,"btn","btn-primary"],[1,"flex","items-center","space-x-3"],[1,"flex","items-center","space-x-2"],[1,"w-8","h-8","bg-primary-600","rounded-full","flex","items-center","justify-center"],[1,"text-white","text-sm","font-semibold"],[1,"hidden","sm:block"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-xs","text-gray-500"],["title","Se d\xE9connecter",1,"btn","btn-secondary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"hidden","sm:inline"],[1,"md:hidden"],[1,"text-gray-600","hover:text-primary-600","p-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"px-2","pt-2","pb-3","space-y-1","sm:px-3","border-t","border-gray-200"],["routerLink","/map","routerLinkActive","text-primary-600 font-semibold",1,"block","px-3","py-2","text-base","font-medium","text-gray-600","hover:text-primary-600",3,"click"],["routerLink","/dashboard","routerLinkActive","text-primary-600 font-semibold",1,"block","px-3","py-2","text-base","font-medium","text-gray-600","hover:text-primary-600",3,"click"],[1,"border-t","border-gray-200","pt-3","mt-3"],[1,"px-3","py-2"],[1,"w-full","text-left","px-3","py-2","text-base","font-medium","text-red-600","hover:text-red-700",3,"click"]],template:function(t,r){t&1&&(u(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5)(6,"a",6),f(7," Mapraude "),c()()()(),w(8,IM,6,0,"nav",7),u(9,"div",8),w(10,SM,3,0,"div",9)(11,TM,16,5,"div",10),c(),w(12,AM,4,0,"div",11),c(),w(13,NM,14,4,"div",11),c()()),t&2&&(p(8),g("ngIf",r.isLoggedIn),p(2),g("ngIf",!r.isLoggedIn),p(),g("ngIf",r.isLoggedIn),p(),g("ngIf",r.isLoggedIn),p(),g("ngIf",r.isLoggedIn&&r.showMobileMenu))},dependencies:[ge,Se,ul,Ti,mv],styles:[".btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:.375rem;border-width:1px;border-color:transparent;padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px }.btn-secondary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(107 114 128 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px }"]})};var fl=class e{title="maraude-tracker-frontend";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=fe({type:e,selectors:[["app-root"]],standalone:!0,features:[pe],decls:3,vars:0,consts:[[1,"min-h-screen","bg-gray-50"]],template:function(t,r){t&1&&(u(0,"div",0),_(1,"app-header")(2,"router-outlet"),c())},dependencies:[ge,mf,dl]})};var Nv=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(C(It),C(Ke))}}static{this.\u0275dir=re({type:e})}}return e})(),Pi=(()=>{class e extends Nv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,features:[Ie]})}}return e})(),nr=new k(""),RM={provide:nr,useExisting:Ue(()=>kr),multi:!0},kr=(()=>{class e extends Pi{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[qe([RM]),Ie]})}}return e})(),OM={provide:nr,useExisting:Ue(()=>Ot),multi:!0};function kM(){let e=xn()?xn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var PM=new k(""),Ot=(()=>{class e extends Nv{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!kM())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(C(It),C(Ke),C(PM,8))}}static{this.\u0275dir=re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&M("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[qe([OM]),Ie]})}}return e})();function Xn(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function Rv(e){return e!=null&&typeof e.length=="number"}var cn=new k(""),Fi=new k(""),FM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ze=class{static min(n){return Ov(n)}static max(n){return kv(n)}static required(n){return Pv(n)}static requiredTrue(n){return LM(n)}static email(n){return VM(n)}static minLength(n){return jM(n)}static maxLength(n){return Fv(n)}static pattern(n){return UM(n)}static nullValidator(n){return hl(n)}static compose(n){return $v(n)}static composeAsync(n){return Hv(n)}};function Ov(e){return n=>{if(Xn(n.value)||Xn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function kv(e){return n=>{if(Xn(n.value)||Xn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function Pv(e){return Xn(e.value)?{required:!0}:null}function LM(e){return e.value===!0?null:{required:!0}}function VM(e){return Xn(e.value)||FM.test(e.value)?null:{email:!0}}function jM(e){return n=>Xn(n.value)||!Rv(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function Fv(e){return n=>Rv(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function UM(e){if(!e)return hl;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Xn(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function hl(e){return null}function Lv(e){return e!=null}function Vv(e){return Tr(e)?ve(e):e}function jv(e){let n={};return e.forEach(t=>{n=t!=null?E(E({},n),t):n}),Object.keys(n).length===0?null:n}function Uv(e,n){return n.map(t=>t(e))}function BM(e){return!e.validate}function Bv(e){return e.map(n=>BM(n)?n:t=>n.validate(t))}function $v(e){if(!e)return null;let n=e.filter(Lv);return n.length==0?null:function(t){return jv(Uv(t,n))}}function Mf(e){return e!=null?$v(Bv(e)):null}function Hv(e){if(!e)return null;let n=e.filter(Lv);return n.length==0?null:function(t){let r=Uv(t,n).map(Vv);return tc(r).pipe($(jv))}}function If(e){return e!=null?Hv(Bv(e)):null}function Cv(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function zv(e){return e._rawValidators}function Gv(e){return e._rawAsyncValidators}function wf(e){return e?Array.isArray(e)?e:[e]:[]}function ml(e,n){return Array.isArray(e)?e.includes(n):e===n}function Dv(e,n){let t=wf(n);return wf(e).forEach(i=>{ml(t,i)||t.push(i)}),t}function xv(e,n){return wf(n).filter(t=>!ml(e,t))}var gl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Mf(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=If(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},ot=class extends gl{get formDirective(){return null}get path(){return null}},er=class extends gl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},vl=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$M={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OF=z(E({},$M),{"[class.ng-submitted]":"isSubmitted"}),kt=(()=>{class e extends vl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(C(er,2))}}static{this.\u0275dir=re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ie]})}}return e})(),rr=(()=>{class e extends vl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(C(ot,10))}}static{this.\u0275dir=re({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ie]})}}return e})();var Po="VALID",pl="INVALID",Ni="PENDING",Fo="DISABLED",tr=class{},yl=class extends tr{constructor(n,t){super(),this.value=n,this.source=t}},Vo=class extends tr{constructor(n,t){super(),this.pristine=n,this.source=t}},jo=class extends tr{constructor(n,t){super(),this.touched=n,this.source=t}},Ri=class extends tr{constructor(n,t){super(),this.status=n,this.source=t}},Cf=class extends tr{constructor(n){super(),this.source=n}},Df=class extends tr{constructor(n){super(),this.source=n}};function Sf(e){return(Cl(e)?e.validators:e)||null}function HM(e){return Array.isArray(e)?Mf(e):e||null}function Tf(e,n){return(Cl(n)?n.asyncValidators:e)||null}function zM(e){return Array.isArray(e)?If(e):e||null}function Cl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Wv(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new P(1e3,"");if(!r[t])throw new P(1001,"")}function qv(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new P(1002,"")})}var Oi=class{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=mi(()=>this.statusReactive()),this.statusReactive=fi(void 0),this._pristine=mi(()=>this.pristineReactive()),this.pristineReactive=fi(!0),this._touched=mi(()=>this.touchedReactive()),this.touchedReactive=fi(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return an(this.statusReactive)}set status(n){an(()=>this.statusReactive.set(n))}get valid(){return this.status===Po}get invalid(){return this.status===pl}get pending(){return this.status==Ni}get disabled(){return this.status===Fo}get enabled(){return this.status!==Fo}get pristine(){return an(this.pristineReactive)}set pristine(n){an(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return an(this.touchedReactive)}set touched(n){an(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Dv(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Dv(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(xv(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(xv(n,this._rawAsyncValidators))}hasValidator(n){return ml(this._rawValidators,n)}hasAsyncValidator(n){return ml(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(z(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new jo(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new jo(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(z(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Vo(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Vo(!0,r))}markAsPending(n={}){this.status=Ni;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ri(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(z(E({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Fo,this.errors=null,this._forEachChild(i=>{i.disable(z(E({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yl(this.value,r)),this._events.next(new Ri(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Po,this._forEachChild(r=>{r.enable(z(E({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(z(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Po||this.status===Ni)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yl(this.value,t)),this._events.next(new Ri(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(z(E({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fo:Po}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Ni,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Vv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Ri(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?Fo:this.errors?pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ni)?Ni:this._anyControlsHaveStatus(pl)?pl:Po}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Vo(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new jo(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Cl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=HM(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=zM(this._rawAsyncValidators)}},ki=class extends Oi{constructor(n,t,r){super(Sf(t),Tf(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){qv(this,!0,n),Object.keys(n).forEach(r=>{Wv(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var xf=class extends ki{};var Li=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Bo}),Bo="always";function Dl(e,n){return[...n.path,e]}function bl(e,n,t=Bo){Af(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),WM(e,n),ZM(e,n),qM(e,n),GM(e,n)}function Ev(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),wl(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function _l(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function GM(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Af(e,n){let t=zv(e);n.validator!==null?e.setValidators(Cv(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=Gv(e);n.asyncValidator!==null?e.setAsyncValidators(Cv(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();_l(n._rawValidators,i),_l(n._rawAsyncValidators,i)}function wl(e,n){let t=!1;if(e!==null){if(n.validator!==null){let i=zv(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let i=Gv(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}let r=()=>{};return _l(n._rawValidators,r),_l(n._rawAsyncValidators,r),t}function WM(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Zv(e,n)})}function qM(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Zv(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function Zv(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ZM(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Qv(e,n){e==null,Af(e,n)}function QM(e,n){return wl(e,n)}function Yv(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function YM(e){return Object.getPrototypeOf(e.constructor)===Pi}function Kv(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Jv(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Ot?t=o:YM(o)?r=o:i=o}),i||r||t||null}function KM(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var JM={provide:ot,useExisting:Ue(()=>Pr)},Lo=Promise.resolve(),Pr=(()=>{class e extends ot{get submitted(){return an(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=mi(()=>this.submittedReactive()),this.submittedReactive=fi(!1),this._directives=new Set,this.ngSubmit=new ye,this.form=new ki({},Mf(t),If(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lo.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),bl(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lo.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lo.then(()=>{let r=this._findContainer(t.path),i=new ki({});Qv(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lo.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Lo.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Kv(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||e)(C(cn,10),C(Fi,10),C(Li,8))}}static{this.\u0275dir=re({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&M("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([JM]),Ie]})}}return e})();function Mv(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Iv(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Uo=class extends Oi{constructor(n=null,t,r){super(Sf(t),Tf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Iv(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Mv(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Mv(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Iv(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var XM=e=>e instanceof Uo,eI=(()=>{class e extends ot{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Dl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,features:[Ie]})}}return e})();var tI={provide:er,useExisting:Ue(()=>Zt)},Sv=Promise.resolve(),Zt=(()=>{class e extends er{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Uo,this._registered=!1,this.name="",this.update=new ye,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Jv(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Yv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Sv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Wn(r);Sv.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Dl(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||e)(C(ot,9),C(cn,10),C(Fi,10),C(nr,10),C(Gn,8),C(Li,8))}}static{this.\u0275dir=re({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([tI]),Ie,Ht]})}}return e})(),ir=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=re({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),nI={provide:nr,useExisting:Ue(()=>$o),multi:!0},$o=(()=>{class e extends Pi{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&M("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[qe([nI]),Ie]})}}return e})(),rI={provide:nr,useExisting:Ue(()=>Nf),multi:!0};var iI=(()=>{class e{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Nf=(()=>{class e extends Pi{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=D(Li,{optional:!0})??Bo}ngOnInit(){this._control=this._injector.get(er),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||e)(C(It),C(Ke),C(iI),C(xt))}}static{this.\u0275dir=re({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[qe([rI]),Ie]})}}return e})();var Xv=new k("");var oI={provide:ot,useExisting:Ue(()=>xl)},xl=(()=>{class e extends ot{get submitted(){return an(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=mi(()=>this._submittedReactive()),this._submittedReactive=fi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ye,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return bl(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ev(t.control||null,t,!1),KM(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Kv(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Cf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Df(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Ev(r||null,t),XM(i)&&(bl(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Qv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&QM(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Af(this.form,this),this._oldForm&&wl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||e)(C(cn,10),C(Fi,10),C(Li,8))}}static{this.\u0275dir=re({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&M("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([oI]),Ie,Ht]})}}return e})(),sI={provide:ot,useExisting:Ue(()=>El)},El=(()=>{class e extends eI{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){ey(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(C(ot,13),C(cn,10),C(Fi,10))}}static{this.\u0275dir=re({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[qe([sI]),Ie]})}}return e})(),aI={provide:ot,useExisting:Ue(()=>Ml)},Ml=(()=>{class e extends ot{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Dl(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){ey(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(C(ot,13),C(cn,10),C(Fi,10))}}static{this.\u0275dir=re({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[qe([aI]),Ie]})}}return e})();function ey(e){return!(e instanceof El)&&!(e instanceof xl)&&!(e instanceof Ml)}var lI={provide:er,useExisting:Ue(()=>Rf)},Rf=(()=>{class e extends er{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ye,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Jv(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Yv(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(C(ot,13),C(cn,10),C(Fi,10),C(nr,10),C(Xv,8))}}static{this.\u0275dir=re({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([lI]),Ie,Ht]})}}return e})(),cI={provide:nr,useExisting:Ue(()=>un),multi:!0};function ty(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function uI(e){return e.split(":")[0]}var un=(()=>{class e extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=ty(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=uI(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([cI]),Ie]})}}return e})(),or=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ty(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(C(Ke),C(It),C(un,9))}}static{this.\u0275dir=re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),dI={provide:nr,useExisting:Ue(()=>ny),multi:!0};function Tv(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function fI(e){return e.split(":")[0]}var ny=(()=>{class e extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=fI(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([dI]),Ie]})}}return e})(),sr=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Tv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Tv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(C(Ke),C(It),C(ny,9))}}static{this.\u0275dir=re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function pI(e){return typeof e=="number"?e:parseInt(e,10)}function ry(e){return typeof e=="number"?e:parseFloat(e)}var Il=(()=>{class e{constructor(){this._validator=hl}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=re({type:e,features:[Ht]})}}return e})(),hI={provide:cn,useExisting:Ue(()=>Of),multi:!0},Of=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>ry(t),this.createValidator=t=>kv(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&sn("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[qe([hI]),Ie]})}}return e})(),mI={provide:cn,useExisting:Ue(()=>Ho),multi:!0},Ho=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>ry(t),this.createValidator=t=>Ov(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&sn("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[qe([mI]),Ie]})}}return e})(),gI={provide:cn,useExisting:Ue(()=>Fr),multi:!0};var Fr=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wn,this.createValidator=t=>Pv}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&sn("required",i._enabled?"":null)},inputs:{required:"required"},features:[qe([gI]),Ie]})}}return e})();var vI={provide:cn,useExisting:Ue(()=>kf),multi:!0},kf=(()=>{class e extends Il{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>pI(t),this.createValidator=t=>Fv(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ut(e)))(i||e)}})()}static{this.\u0275dir=re({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&sn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qe([vI]),Ie]})}}return e})();var iy=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=rn({type:e})}static{this.\u0275inj=nn({})}}return e})(),Ef=class extends Oi{constructor(n,t,r){super(Sf(t),Tf(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){qv(this,!1,n),n.forEach((r,i)=>{Wv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function Av(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var oy=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Av(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ki(i,o)}record(t,r=null){let i=this._reduceControls(t);return new xf(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Av(r)?o=r:(o.validators=r,o.asyncValidators=i),new Uo(t,z(E({},o),{nonNullable:!0}))):new Uo(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Ef(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Uo)return t;if(t instanceof Oi)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Pt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Li,useValue:t.callSetDisabledState??Bo}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=rn({type:e})}static{this.\u0275inj=nn({imports:[iy]})}}return e})(),sy=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Xv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Li,useValue:t.callSetDisabledState??Bo}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=rn({type:e})}static{this.\u0275inj=nn({imports:[iy]})}}return e})();function yI(e,n){if(e&1&&(u(0,"div",18)(1,"div",19)(2,"div",20),N(),u(3,"svg",21),_(4,"path",22),c()(),V(),u(5,"div",23)(6,"h3",24),f(7),c()()()()),e&2){let t=v();p(7),T(" ",t.error," ")}}function bI(e,n){e&1&&(u(0,"span",25),_(1,"div",26),c())}function _I(e,n){e&1&&(u(0,"span",25),N(),u(1,"svg",27),_(2,"path",28),c()())}var Sl=class e{constructor(n,t,r){this.authService=n;this.router=t;this.route=r;this.authService.isLoggedIn()&&this.router.navigate(["/dashboard"])}credentials={email:"",password:""};loading=!1;error="";onSubmit(){if(!this.credentials.email||!this.credentials.password){this.error="Veuillez remplir tous les champs";return}this.loading=!0,this.error="",this.authService.login(this.credentials).subscribe({next:n=>{console.log("Connexion r\xE9ussie:",n),this.router.navigate(["/dashboard"])},error:n=>{console.error("Erreur de connexion:",n),this.error=n.error?.error||"Erreur de connexion",this.loading=!1},complete:()=>{this.loading=!1}})}static \u0275fac=function(t){return new(t||e)(C(Me),C(de),C(dt))};static \u0275cmp=fe({type:e,selectors:[["app-login"]],standalone:!0,features:[pe],decls:30,vars:7,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"mx-auto","h-12","w-auto","flex","justify-center"],[1,"text-3xl","font-bold","text-primary-600"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],[1,"rounded-md","shadow-sm","-space-y-px"],["for","email",1,"sr-only"],["id","email","name","email","type","email","autocomplete","email","required","","placeholder","Adresse email",1,"relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-t-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","password",1,"sr-only"],["id","password","name","password","type","password","autocomplete","current-password","required","","placeholder","Mot de passe",1,"relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-b-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-primary-600","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"text-center"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-primary-600"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-white"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-primary-500","group-hover:text-primary-400"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"h1",3),f(5,"Mapraude"),c()(),u(6,"h2",4),f(7," Connexion Association "),c(),u(8,"p",5),f(9," Acc\xE9dez \xE0 votre espace de gestion des maraudes "),c()(),u(10,"form",6),M("ngSubmit",function(){return r.onSubmit()}),w(11,yI,8,1,"div",7),u(12,"div",8)(13,"div")(14,"label",9),f(15,"Adresse email"),c(),u(16,"input",10),J("ngModelChange",function(o){return X(r.credentials.email,o)||(r.credentials.email=o),o}),c()(),u(17,"div")(18,"label",11),f(19,"Mot de passe"),c(),u(20,"input",12),J("ngModelChange",function(o){return X(r.credentials.password,o)||(r.credentials.password=o),o}),c()()(),u(21,"div")(22,"button",13),w(23,bI,2,0,"span",14)(24,_I,3,0,"span",14),f(25),c()(),u(26,"div",15)(27,"p",16),f(28," Pas encore inscrit ? "),_(29,"span",17),c()()()()()),t&2&&(p(11),g("ngIf",r.error),p(5),K("ngModel",r.credentials.email),p(4),K("ngModel",r.credentials.password),p(2),g("disabled",r.loading),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading),p(),T(" ",r.loading?"Connexion...":"Se connecter"," "))},dependencies:[ge,Se,Pt,ir,Ot,kt,rr,Fr,Zt,Pr],styles:[".primary-600[_ngcontent-%COMP%]{color:#2563eb}.bg-primary-600[_ngcontent-%COMP%]{background-color:#2563eb}.bg-primary-700[_ngcontent-%COMP%], .hover\\:bg-primary-700[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.text-primary-500[_ngcontent-%COMP%]{color:#3b82f6}.text-primary-600[_ngcontent-%COMP%]{color:#2563eb}.hover\\:text-primary-400[_ngcontent-%COMP%]:hover{color:#60a5fa}.hover\\:text-primary-500[_ngcontent-%COMP%]:hover{color:#3b82f6}.focus\\:ring-primary-500[_ngcontent-%COMP%]:focus{--tw-ring-color: #3b82f6}.focus\\:border-primary-500[_ngcontent-%COMP%]:focus{border-color:#3b82f6}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}"]})};var ft=class e{constructor(n,t){this.http=n;this.authService=t}baseUrl="/api";getAssociations(n){let t=new et;return n&&(n.page&&(t=t.set("page",n.page.toString())),n.limit&&(t=t.set("limit",n.limit.toString())),n.active&&(t=t.set("active",n.active)),n.search&&(t=t.set("search",n.search))),this.http.get(`${this.baseUrl}/associations`,{params:t}).pipe(se(r=>{console.log("\u{1F4CB} Associations loaded:",r)}),xe(r=>(console.error("\u274C Error loading associations:",r),Ae(()=>r))))}getAssociationById(n){return this.http.get(`${this.baseUrl}/associations/${n}`).pipe(se(t=>{console.log("\u{1F3E2} Association detail loaded:",t)}),xe(t=>(console.error("\u274C Error loading association:",t),Ae(()=>t))))}createAssociation(n){return console.log("\u2795 Creating association:",n),this.http.post(`${this.baseUrl}/associations`,n).pipe(se(t=>{console.log("\u2705 Association created:",t)}),xe(t=>(console.error("\u274C Error creating association:",t),Ae(()=>t))))}updateAssociation(n,t){return console.log("\u{1F504} Updating association:",n,t),this.http.put(`${this.baseUrl}/associations/${n}`,t).pipe(se(r=>{console.log("\u2705 Association updated:",r)}),xe(r=>(console.error("\u274C Error updating association:",r),Ae(()=>r))))}deleteAssociation(n){return console.log("\u{1F5D1}\uFE0F Deleting association:",n),this.http.delete(`${this.baseUrl}/associations/${n}`).pipe(se(t=>{console.log("\u2705 Association deleted:",t)}),xe(t=>(console.error("\u274C Error deleting association:",t),Ae(()=>t))))}getAssociationStats(n){return this.http.get(`${this.baseUrl}/associations/${n}/stats`).pipe(se(t=>{console.log("\u{1F4CA} Association stats loaded:",t)}),xe(t=>(console.error("\u274C Error loading association stats:",t),Ae(()=>t))))}getMaraudes(n){let t=`${this.baseUrl}/maraudes`,r=new et;return n&&Object.keys(n).forEach(i=>{let o=n[i];o!=null&&o!==""&&(r=r.set(i,o.toString()))}),this.http.get(t,{params:r})}getMaraude(n){return this.http.get(`${this.baseUrl}/maraudes/${n}`)}createMaraude(n){return console.log("\u{1F510} Cr\xE9ation maraude avec waypoints"),console.log("\u{1F4CA} Donn\xE9es maraude envoy\xE9es:",n),this.http.post(`${this.baseUrl}/maraudes`,n).pipe(se(t=>{console.log("\u{1F4E6} R\xE9ponse cr\xE9ation maraude:",t)}),xe(t=>(console.error("\u274C Erreur cr\xE9ation maraude:",t),Ae(()=>t))))}updateMaraude(n,t){return console.log("\u{1F504} API Service - Updating maraude ID:",n),this.http.put(`${this.baseUrl}/maraudes/${n}`,t).pipe(se(r=>{console.log("\u2705 API Service - Update successful:",r)}),xe(r=>(console.error("\u274C API Service - Update error:",r),Ae(()=>r))))}deleteMaraude(n){return this.http.delete(`${this.baseUrl}/maraudes/${n}`)}toggleMaraudeActive(n){return this.http.patch(`${this.baseUrl}/maraudes/${n}/toggle`,{})}getTodayActiveMaraudes(){return this.http.get(`${this.baseUrl}/maraudes/today/active`)}getWeeklySchedule(){return this.http.get(`${this.baseUrl}/maraudes/weekly-schedule`)}getMerchants(n){let t=`${this.baseUrl}/merchants`,r=new et;return n&&Object.keys(n).forEach(i=>{let o=n[i];o!=null&&o!==""&&(r=r.set(i,o.toString()))}),this.http.get(t,{params:r})}getNearbyMerchants(n,t,r=5){return this.http.get(`${this.baseUrl}/merchants/nearby/${n}/${t}?radius=${r}`)}getDashboardStats(){return this.http.get(`${this.baseUrl}/reports/dashboard/stats`).pipe(se(n=>{console.log("\u{1F4CA} Dashboard stats loaded:",n)}),xe(n=>(console.error("\u274C Dashboard stats error:",n),Ae(()=>n))))}static \u0275fac=function(t){return new(t||e)(F(Ar),F(Me))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};var ar=class e{constructor(n){this.http=n}baseUrl="/api/reports";getAuthHeaders(){let n=localStorage.getItem("maraude_token");return console.log("\u{1F510} Token r\xE9cup\xE9r\xE9:",n?"pr\xE9sent":"absent"),n?new At({Authorization:`Bearer ${n}`,"Content-Type":"application/json"}):new At({"Content-Type":"application/json"})}getDistributionTypes(){return this.http.get(`${this.baseUrl}/distribution-types`)}getReports(n){let t=new et;return n&&Object.keys(n).forEach(r=>{let i=n[r];i!=null&&i!==""&&(t=t.set(r,i.toString()))}),this.http.get(this.baseUrl,{params:t,headers:this.getAuthHeaders()})}getReport(n){return this.http.get(`${this.baseUrl}/${n}`,{headers:this.getAuthHeaders()})}createReport(n){let t=localStorage.getItem("maraude_token");if(console.log("\u{1F510} Cr\xE9ation rapport - Token pr\xE9sent:",!!t),console.log("\u{1F4CA} Donn\xE9es envoy\xE9es:",n),!t)throw new Error("Token d'authentification manquant");return this.http.post(this.baseUrl,n,{headers:this.getAuthHeaders()})}updateReport(n,t){return this.http.put(`${this.baseUrl}/${n}`,t,{headers:this.getAuthHeaders()})}deleteReport(n){return this.http.delete(`${this.baseUrl}/${n}`,{headers:this.getAuthHeaders()})}submitReport(n){return this.http.patch(`${this.baseUrl}/${n}/submit`,{},{headers:this.getAuthHeaders()})}validateReport(n){return this.http.patch(`${this.baseUrl}/${n}/validate`,{},{headers:this.getAuthHeaders()})}sendReportEmail(n,t){return this.http.post(`${this.baseUrl}/${n}/send-email`,t,{headers:this.getAuthHeaders()})}getReportStats(n){let t=new et;return n&&Object.keys(n).forEach(r=>{let i=n[r];i!=null&&i!==""&&(t=t.set(r,i.toString()))}),this.http.get(`${this.baseUrl}/stats/summary`,{params:t,headers:this.getAuthHeaders()})}checkDuplicateReport(n,t){let r=new et().set("maraudeActionId",n).set("reportDate",t);return this.http.get(`${this.baseUrl}/check-duplicate`,{params:r,headers:this.getAuthHeaders()})}static \u0275fac=function(t){return new(t||e)(F(Ar))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};function wI(e,n){e&1&&(u(0,"div",3),_(1,"div",4),u(2,"p",5),f(3,"Chargement des donn\xE9es..."),c()())}function CI(e,n){if(e&1){let t=Z();u(0,"button",61),M("click",function(){I(t);let i=v(2);return S(i.navigateToAssociations())}),u(1,"div",27)(2,"div",28),N(),u(3,"svg",29),_(4,"path",62),c()(),V(),u(5,"div",31)(6,"h3",32),f(7,"G\xE9rer les associations"),c(),u(8,"p",63),f(9,"Administrer les organisations"),c()()()()}}function DI(e,n){e&1&&(u(0,"span",64),f(1,"(toutes associations)"),c())}function xI(e,n){if(e&1){let t=Z();u(0,"div",65),N(),u(1,"svg",66),_(2,"path",67),c(),V(),u(3,"p"),f(4,"Aucune maraude planifi\xE9e"),c(),u(5,"button",68),M("click",function(){I(t);let i=v(2);return S(i.navigateToAddMaraude())}),f(6," Cr\xE9er votre premi\xE8re maraude "),c()()}}function EI(e,n){if(e&1&&(u(0,"span",80),f(1),c()),e&2){let t=v().$implicit;p(),T(" ",t.association.name," ")}}function MI(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),Ce(" \u{1F504} Tous les ",t.dayName,"s \xE0 ",t.startTime," ")}}function II(e,n){if(e&1&&(u(0,"span"),f(1),Sr(2,"date"),c()),e&2){let t=v().$implicit;p(),Ce(" \u{1F4C5} ",ro(2,2,t.scheduledDate,"dd/MM/yyyy")," \xE0 ",t.startTime," ")}}function SI(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),T(" \u2764\uFE0F ",t.beneficiariesHelped," personnes aid\xE9es ")}}function TI(e,n){e&1&&(u(0,"span",81),f(1," Aujourd'hui "),c())}function AI(e,n){if(e&1){let t=Z();u(0,"div",69),M("click",function(){let i=I(t).$implicit,o=v(2);return S(o.navigateToEditMaraude(i.id))}),u(1,"div",70)(2,"div",71)(3,"div",72)(4,"h4",73),f(5),c(),w(6,EI,2,1,"span",74),c(),u(7,"p",75),f(8),c(),u(9,"div",76),w(10,MI,2,2,"span",2)(11,II,3,5,"span",2),u(12,"span"),f(13),c(),w(14,SI,2,1,"span",2),c()(),u(15,"div",77)(16,"span",78),f(17),c(),w(18,TI,2,0,"span",79),c()()()}if(e&2){let t=n.$implicit,r=v(2);p(5),ie(t.title),p(),g("ngIf",r.isAdmin&&t.association),p(2),ie(t.startAddress),p(2),g("ngIf",t.isRecurring),p(),g("ngIf",!t.isRecurring&&t.scheduledDate),p(2),T("\u{1F465} ",t.participantsCount," b\xE9n\xE9voles"),p(),g("ngIf",t.beneficiariesHelped>0),p(2),g("ngClass",r.getStatusClass(t.status)),p(),T(" ",r.getStatusText(t.status)," "),p(),g("ngIf",t.isHappeningToday)}}function NI(e,n){if(e&1){let t=Z();u(0,"div",82)(1,"button",83),M("click",function(){I(t);let i=v(2);return S(i.navigateToAllMaraudes())}),f(2),c()()}if(e&2){let t=v(2);p(2),T(" Voir toutes les maraudes (",t.myMaraudes.length,") ")}}function RI(e,n){e&1&&(u(0,"span",64),f(1,"(toutes associations)"),c())}function OI(e,n){if(e&1){let t=Z();u(0,"div",65),N(),u(1,"svg",66),_(2,"path",35),c(),V(),u(3,"p"),f(4,"Aucun compte-rendu"),c(),u(5,"button",68),M("click",function(){I(t);let i=v(2);return S(i.navigateToAddReport())}),f(6," Cr\xE9er un compte-rendu "),c()()}}function kI(e,n){if(e&1&&(u(0,"span",80),f(1),c()),e&2){let t=v().$implicit;p(),T(" ",t.association.name," ")}}function PI(e,n){e&1&&(u(0,"span",86),f(1," \u{1F6A8} Alertes "),c())}function FI(e,n){if(e&1){let t=Z();u(0,"div",69),M("click",function(){let i=I(t).$implicit,o=v(2);return S(o.navigateToViewReport(i.id))}),u(1,"div",70)(2,"div",71)(3,"div",72)(4,"h4",73),f(5),c(),w(6,kI,2,1,"span",74),c(),u(7,"div",84)(8,"span"),f(9),c(),u(10,"span"),f(11),c(),u(12,"span"),f(13),c()()(),u(14,"div",77)(15,"span",78),f(16),c(),w(17,PI,2,0,"span",85),c()()()}if(e&2){let t=n.$implicit,r=v(2);p(5),T(" ",(t.maraudeAction==null?null:t.maraudeAction.title)||"Maraude sans titre"," "),p(),g("ngIf",r.isAdmin&&t.association),p(3),T("\u{1F4C5} ",r.formatDate(t.maraudeDate),""),p(2),T("\u{1F465} ",t.volunteersCount," b\xE9n\xE9voles"),p(2),T("\u2764\uFE0F ",t.beneficiariesCount," b\xE9n\xE9ficiaires"),p(2),g("ngClass",r.getReportStatusClass(t.status)),p(),T(" ",r.getReportStatusText(t.status)," "),p(),g("ngIf",t.hasAlerts)}}function LI(e,n){if(e&1){let t=Z();u(0,"div",82)(1,"button",83),M("click",function(){I(t);let i=v(2);return S(i.navigateToReports())}),f(2),c()()}if(e&2){let t=v(2);p(2),T(" Voir tous les rapports (",t.recentReports.length,") ")}}function VI(e,n){e&1&&(u(0,"div",87)(1,"div",54),N(),u(2,"svg",88),_(3,"path",89),c(),V(),u(4,"div")(5,"h4",90),f(6,"\u{1F511} Mode Administrateur"),c(),u(7,"p",91),f(8," Vous voyez toutes les maraudes et tous les rapports de toutes les associations. Vous pouvez cr\xE9er des maraudes pour n'importe quelle association et g\xE9rer les associations depuis le bouton en haut \xE0 droite. "),c()()()())}function jI(e,n){if(e&1){let t=Z();u(0,"div")(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div")(6,"p",10),f(7,"Total Maraudes"),c(),u(8,"p",11),f(9),c(),u(10,"p",12)(11,"span",13),f(12),c()()(),u(13,"div",14),N(),u(14,"svg",15),_(15,"path",16),c()()()(),V(),u(16,"div",17)(17,"div",9)(18,"div")(19,"p",10),f(20,"B\xE9n\xE9ficiaires Aid\xE9s"),c(),u(21,"p",11),f(22),c(),u(23,"p",12),f(24),c()(),u(25,"div",18),N(),u(26,"svg",19),_(27,"path",20),c()()()(),V(),u(28,"div",21)(29,"div",9)(30,"div")(31,"p",10),f(32,"B\xE9n\xE9voles Actifs"),c(),u(33,"p",11),f(34),c(),u(35,"p",12),f(36," Sur toutes les maraudes "),c()(),u(37,"div",22),N(),u(38,"svg",23),_(39,"path",24),c()()()()(),V(),u(40,"div",25)(41,"button",26),M("click",function(){I(t);let i=v();return S(i.navigateToAddMaraude())}),u(42,"div",27)(43,"div",28),N(),u(44,"svg",29),_(45,"path",30),c()(),V(),u(46,"div",31)(47,"h3",32),f(48,"Cr\xE9er une maraude"),c(),u(49,"p",33),f(50,"Planifier une nouvelle action"),c()()()(),u(51,"button",34),M("click",function(){I(t);let i=v();return S(i.navigateToAddReport())}),u(52,"div",27)(53,"div",28),N(),u(54,"svg",29),_(55,"path",35),c()(),V(),u(56,"div",31)(57,"h3",32),f(58,"Cr\xE9er un compte-rendu"),c(),u(59,"p",36),f(60,"Documenter une maraude"),c()()()(),w(61,CI,10,0,"button",37),c(),u(62,"div",38)(63,"div",39)(64,"div",40)(65,"div",41)(66,"h3",42),f(67),w(68,DI,2,0,"span",43),c(),u(69,"span",44),f(70),c()()(),u(71,"div",45),w(72,xI,7,0,"div",46),u(73,"div",47),w(74,AI,19,10,"div",48),c(),w(75,NI,3,1,"div",49),c()(),u(76,"div",39)(77,"div",40)(78,"div",41)(79,"h3",42),f(80," Derniers comptes-rendus "),w(81,RI,2,0,"span",43),c(),u(82,"button",50),M("click",function(){I(t);let i=v();return S(i.navigateToReports())}),f(83," Voir tout "),c()()(),u(84,"div",45),w(85,OI,7,0,"div",46),u(86,"div",47),w(87,FI,18,8,"div",48),c(),w(88,LI,3,1,"div",49),c()()(),u(89,"div",51)(90,"h3",52),f(91,"\u{1F4A1} Conseils rapides"),c(),u(92,"div",53)(93,"div",54),N(),u(94,"svg",55),_(95,"path",56),c(),V(),u(96,"div")(97,"strong"),f(98,"Statistiques pr\xE9cises :"),c(),f(99," Les chiffres sont calcul\xE9s \xE0 partir de vos rapports valid\xE9s "),c()(),u(100,"div",54),N(),u(101,"svg",55),_(102,"path",57),c(),V(),u(103,"div")(104,"strong"),f(105,"Comptes-rendus :"),c(),f(106," Cr\xE9ez des rapports d\xE9taill\xE9s apr\xE8s chaque maraude avec distributions et alertes "),c()(),u(107,"div",54),N(),u(108,"svg",55),_(109,"path",58),c(),V(),u(110,"div")(111,"strong"),f(112,"Localisation :"),c(),f(113," Pr\xE9cisez l'adresse pour aider les b\xE9n\xE9voles \xE0 vous rejoindre "),c()(),u(114,"div",54),N(),u(115,"svg",55),_(116,"path",59),c(),V(),u(117,"div")(118,"strong"),f(119,"Workflow rapports :"),c(),f(120," Brouillon \u2192 Soumission \u2192 Validation par un coordinateur "),c()()()(),w(121,VI,9,0,"div",60),c()()}if(e&2){let t=v();p(9),ie(t.stats.totalMaraudes),p(3),T("",t.stats.activeMaraudes," actives"),p(10),ie(t.stats.totalBeneficiaries),p(2),T(" Moy: ",t.stats.avgBeneficiariesPerReport,"/maraude "),p(10),ie(t.stats.totalVolunteers),p(27),g("ngIf",(t.currentUser==null?null:t.currentUser.role)==="admin"),p(6),T(" ",t.isAdmin?"Toutes les maraudes":"Mes maraudes"," "),p(),g("ngIf",t.isAdmin),p(2),Ce(" ",t.stats.totalMaraudes," maraude",t.stats.totalMaraudes>1?"s":""," au total "),p(2),g("ngIf",t.myMaraudes.length===0),p(2),g("ngForOf",t.myMaraudes.slice(0,5)),p(),g("ngIf",t.myMaraudes.length>5),p(6),g("ngIf",t.isAdmin),p(4),g("ngIf",t.recentReports.length===0),p(2),g("ngForOf",t.recentReports.slice(0,5)),p(),g("ngIf",t.recentReports.length>5),p(33),g("ngIf",t.isAdmin)}}var Tl=class e{constructor(n,t,r,i){this.authService=n;this.apiService=t;this.reportService=r;this.router=i}currentUser=null;myMaraudes=[];recentReports=[];stats={totalMaraudes:0,completedMaraudes:0,activeMaraudes:0,totalBeneficiaries:0,totalReports:0,validatedReports:0,pendingReports:0,draftReports:0,avgBeneficiariesPerReport:0,totalVolunteers:0};loading=!0;isAdmin=!1;ngOnInit(){if(this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.router.navigate(["/login"]);return}this.isAdmin=this.currentUser.role==="admin",console.log("\u{1F464} User role:",this.currentUser.role,"| Is admin:",this.isAdmin),this.loadDashboardData()}loadDashboardData(){Promise.all([this.loadStats(),this.loadMaraudes(),this.loadReports()]).then(()=>{this.loading=!1}).catch(n=>{console.error("Erreur lors du chargement des donn\xE9es:",n),this.loading=!1})}loadStats(){return Q(this,null,function*(){try{let n=yield we(this.apiService.getDashboardStats());this.stats=n?.stats||this.stats,console.log("\u{1F4CA} Stats loaded:",this.stats)}catch(n){console.error("Erreur chargement stats:",n),this.calculateStatsFromMaraudesAndReports()}})}loadMaraudes(){return Q(this,null,function*(){try{let n={limit:100};!this.isAdmin&&this.currentUser?.associationId?(n.associationId=this.currentUser.associationId,console.log("\u{1F464} Loading maraudes for association:",n.associationId)):this.isAdmin&&console.log("\u{1F511} Admin: Loading ALL maraudes");let t=yield we(this.apiService.getMaraudes(n));if(this.myMaraudes=t?.actions||[],console.log(`\u2705 Loaded ${this.myMaraudes.length} maraudes`),this.isAdmin&&this.myMaraudes.length>0){let r=[...new Set(this.myMaraudes.map(i=>i.association?.name))];console.log("\u{1F4CB} Associations in maraudes:",r)}}catch(n){console.error("Erreur chargement maraudes:",n),this.myMaraudes=[]}})}loadReports(){return Q(this,null,function*(){try{let n={limit:10};!this.isAdmin&&this.currentUser?.associationId&&(n.associationId=this.currentUser.associationId);let t=yield we(this.reportService.getReports(n));this.recentReports=t?.reports||[],console.log(`\u2705 Loaded ${this.recentReports.length} reports`)}catch(n){console.error("Erreur chargement rapports:",n),this.recentReports=[]}})}calculateStatsFromMaraudesAndReports(){console.log("\u26A0\uFE0F Fallback: calcul des stats localement"),this.stats.totalMaraudes=this.myMaraudes.length,this.stats.activeMaraudes=this.myMaraudes.filter(n=>n.status==="planned"||n.status==="in_progress").length,this.stats.completedMaraudes=this.myMaraudes.filter(n=>n.status==="completed").length,this.stats.totalReports=this.recentReports.length,this.stats.totalBeneficiaries=this.recentReports.reduce((n,t)=>n+(t.beneficiariesCount||0),0),this.stats.totalVolunteers=this.recentReports.reduce((n,t)=>n+(t.volunteersCount||0),0),this.stats.validatedReports=this.recentReports.filter(n=>n.status==="validated").length,this.stats.pendingReports=this.recentReports.filter(n=>n.status==="submitted").length,this.stats.totalReports>0&&(this.stats.avgBeneficiariesPerReport=Math.round(this.stats.totalBeneficiaries/this.stats.totalReports))}logout(){this.authService.logout(),this.router.navigate(["/"])}navigateToAddMaraude(){this.router.navigate(["/dashboard/add-maraude"])}navigateToEditMaraude(n){this.router.navigate(["/dashboard/edit-maraude",n])}navigateToReports(){this.router.navigate(["/reports"])}navigateToAddReport(){this.router.navigate(["/reports/create"])}navigateToEditReport(n){this.router.navigate(["/reports/edit",n])}navigateToViewReport(n){this.router.navigate(["/reports",n])}navigateToAssociations(){this.router.navigate(["/dashboard/associations"])}navigateToAllMaraudes(){this.router.navigate(["/dashboard/maraudes"])}getStatusText(n){return{planned:"Planifi\xE9e",in_progress:"En cours",completed:"Termin\xE9e",cancelled:"Annul\xE9e"}[n]||n}getStatusClass(n){switch(n){case"planned":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}getReportStatusText(n){return{draft:"Brouillon",submitted:"Soumis",validated:"Valid\xE9"}[n]||n}getReportStatusClass(n){switch(n){case"draft":return"bg-gray-100 text-gray-800";case"submitted":return"bg-yellow-100 text-yellow-800";case"validated":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}formatDate(n){return new Date(n).toLocaleDateString("fr-FR")}static \u0275fac=function(t){return new(t||e)(C(Me),C(ft),C(ar),C(de))};static \u0275cmp=fe({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[pe],decls:3,vars:2,consts:[[1,"min-h-screen","bg-gray-50"],["class","text-center py-12",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"mt-4","text-gray-600"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-lg","shadow","p-6","border-l-4","border-blue-500"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-xs","text-gray-500","mt-1"],[1,"text-green-600"],[1,"bg-blue-100","rounded-full","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],[1,"bg-white","rounded-lg","shadow","p-6","border-l-4","border-green-500"],[1,"bg-green-100","rounded-full","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"bg-white","rounded-lg","shadow","p-6","border-l-4","border-orange-500"],[1,"bg-orange-100","rounded-full","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-8"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","text-white","rounded-lg","p-6","shadow-lg","hover:from-blue-600","hover:to-blue-700","transition-all","transform","hover:scale-105",3,"click"],[1,"flex","items-center"],[1,"bg-white","bg-opacity-20","rounded-full","p-3","mr-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"text-left"],[1,"text-lg","font-semibold"],[1,"text-sm","text-blue-100","mt-1"],[1,"bg-gradient-to-r","from-green-500","to-green-600","text-white","rounded-lg","p-6","shadow-lg","hover:from-green-600","hover:to-green-700","transition-all","transform","hover:scale-105",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-green-100","mt-1"],["class","bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-lg p-6 shadow-lg hover:from-indigo-600 hover:to-indigo-700 transition-all transform hover:scale-105",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-lg","shadow"],[1,"border-b","border-gray-200","px-6","py-4"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-semibold","text-gray-900"],["class","ml-2 text-sm text-indigo-600 font-normal",4,"ngIf"],[1,"text-sm","text-gray-500"],[1,"p-6"],["class","text-center py-8 text-gray-500",4,"ngIf"],[1,"space-y-4"],["class","border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],["class","text-center pt-4 border-t border-gray-200 mt-4",4,"ngIf"],[1,"text-sm","text-blue-600","hover:text-blue-500","font-medium",3,"click"],[1,"mt-8","bg-blue-50","border","border-blue-200","rounded-lg","p-6"],[1,"text-lg","font-semibold","text-blue-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm","text-blue-800"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-blue-600","mr-2","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-5a2 2 0 00-2 2v10a2 2 0 002 2z"],["class","mt-4 bg-indigo-50 border border-indigo-200 rounded-lg p-6",4,"ngIf"],[1,"bg-gradient-to-r","from-indigo-500","to-indigo-600","text-white","rounded-lg","p-6","shadow-lg","hover:from-indigo-600","hover:to-indigo-700","transition-all","transform","hover:scale-105",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"text-sm","text-indigo-100","mt-1"],[1,"ml-2","text-sm","text-indigo-600","font-normal"],[1,"text-center","py-8","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"mt-4","text-blue-600","hover:text-blue-500","font-medium",3,"click"],[1,"border","border-gray-200","rounded-lg","p-4","hover:bg-gray-50","cursor-pointer","transition-colors",3,"click"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"flex","items-center","gap-2","flex-wrap"],[1,"font-medium","text-gray-900"],["class","px-2 py-0.5 bg-indigo-100 text-indigo-800 text-xs rounded-full font-medium",4,"ngIf"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","items-center","mt-2","space-x-4","text-sm","text-gray-500","flex-wrap","gap-2"],[1,"flex","flex-col","items-end","ml-4"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","whitespace-nowrap",3,"ngClass"],["class","mt-1 px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium animate-pulse",4,"ngIf"],[1,"px-2","py-0.5","bg-indigo-100","text-indigo-800","text-xs","rounded-full","font-medium"],[1,"mt-1","px-2","py-1","bg-orange-100","text-orange-800","rounded-full","text-xs","font-medium","animate-pulse"],[1,"text-center","pt-4","border-t","border-gray-200","mt-4"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium",3,"click"],[1,"flex","items-center","mt-2","space-x-4","text-sm","text-gray-500"],["class","mt-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",4,"ngIf"],[1,"mt-1","px-2","py-1","bg-red-100","text-red-800","rounded-full","text-xs","font-medium"],[1,"mt-4","bg-indigo-50","border","border-indigo-200","rounded-lg","p-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600","mr-3","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"text-sm","font-semibold","text-indigo-900","mb-1"],[1,"text-sm","text-indigo-800"]],template:function(t,r){t&1&&(u(0,"div",0),w(1,wI,4,0,"div",1)(2,jI,122,18,"div",2),c()),t&2&&(p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[ge,yi,Xe,Se,Va],styles:[".primary-600[_ngcontent-%COMP%]{color:#2563eb}.btn[_ngcontent-%COMP%]{border-radius:.5rem;padding:.5rem 1rem;font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1));color:#1f2937}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-white[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .2s ease-in-out}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.text-blue-800[_ngcontent-%COMP%]{color:#1e40af}.bg-orange-100[_ngcontent-%COMP%]{background-color:#fed7aa}.text-orange-800[_ngcontent-%COMP%]{color:#9a3412}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7}.text-green-800[_ngcontent-%COMP%]{color:#166534}.bg-red-100[_ngcontent-%COMP%]{background-color:#fee2e2}.text-red-800[_ngcontent-%COMP%]{color:#991b1b}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6}.text-gray-800[_ngcontent-%COMP%]{color:#1f2937}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})};var UI=["mapContainer"];function BI(e,n){e&1&&(u(0,"div",11),_(1,"div",12),c())}function $I(e,n){if(e&1&&(u(0,"div",79)(1,"div",80),f(2),c()()),e&2){let t=v(2);p(2),ie(t.error)}}function HI(e,n){e&1&&(u(0,"div",89),f(1," Chargement des associations... "),c())}function zI(e,n){if(e&1&&(u(0,"option",94),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),T(" ",t.name," ")}}function GI(e,n){if(e&1){let t=Z();u(0,"div")(1,"label",90),f(2," Association * "),c(),u(3,"select",91),J("ngModelChange",function(i){I(t);let o=v(3);return X(o.maraudeData.associationId,i)||(o.maraudeData.associationId=i),S(i)}),u(4,"option",92),f(5,"-- S\xE9lectionner une association --"),c(),w(6,zI,2,2,"option",93),c()()}if(e&2){let t=v(3);p(3),K("ngModel",t.maraudeData.associationId),p(3),g("ngForOf",t.associations)}}function WI(e,n){e&1&&(u(0,"div",89),f(1," Aucune association active disponible "),c())}function qI(e,n){if(e&1&&(u(0,"div",81)(1,"div",82)(2,"div",83),N(),u(3,"svg",84),_(4,"path",85),c()(),V(),u(5,"div",86)(6,"h3",87),f(7," S\xE9lection d'association (Admin) "),c(),w(8,HI,2,0,"div",88)(9,GI,7,2,"div",32)(10,WI,2,0,"div",88),c()()()),e&2){let t=v(2);p(8),g("ngIf",t.loadingAssociations),p(),g("ngIf",!t.loadingAssociations&&t.associations.length>0),p(),g("ngIf",!t.loadingAssociations&&t.associations.length===0)}}function ZI(e,n){if(e&1&&(u(0,"option",94),f(1),c()),e&2){let t=n.$implicit;g("value",t.value),p(),T(" ",t.name," ")}}function QI(e,n){if(e&1){let t=Z();u(0,"div")(1,"label",95),f(2," Jour de la semaine * "),c(),u(3,"select",96),J("ngModelChange",function(i){I(t);let o=v(2);return X(o.maraudeData.dayOfWeek,i)||(o.maraudeData.dayOfWeek=i),S(i)}),w(4,ZI,2,2,"option",93),c()()}if(e&2){let t=v(2);p(3),K("ngModel",t.maraudeData.dayOfWeek),p(),g("ngForOf",t.daysOfWeek)}}function YI(e,n){if(e&1){let t=Z();u(0,"div")(1,"label",97),f(2," Date * "),c(),u(3,"input",98),J("ngModelChange",function(i){I(t);let o=v(2);return X(o.maraudeData.scheduledDate,i)||(o.maraudeData.scheduledDate=i),S(i)}),c()()}if(e&2){let t=v(2);p(3),K("ngModel",t.maraudeData.scheduledDate)}}function KI(e,n){e&1&&(u(0,"p",99)(1,"span",100),f(2,"Mode actif :"),c(),f(3," Cliquez sur la carte pour d\xE9finir le point de d\xE9part "),c())}function JI(e,n){if(e&1&&(u(0,"span",55)(1,"strong"),f(2),c(),f(3," km estim\xE9s "),c()),e&2){let t=v(2);p(2),ie(t.maraudeData.estimatedDistance)}}function XI(e,n){if(e&1&&(u(0,"span",55)(1,"strong"),f(2),c(),f(3," min estim\xE9es "),c()),e&2){let t=v(2);p(2),ie(t.maraudeData.estimatedDuration)}}function eS(e,n){if(e&1){let t=Z();u(0,"div",103)(1,"div",104)(2,"div",105),f(3),c(),u(4,"div",106)(5,"p",107),f(6),c()()(),u(7,"div",108)(8,"button",109),M("click",function(){let i=I(t).$implicit,o=v(3);return S(o.moveWaypoint(i.id,"up"))}),N(),u(9,"svg",41),_(10,"path",110),c()(),V(),u(11,"button",109),M("click",function(){let i=I(t).$implicit,o=v(3);return S(o.moveWaypoint(i.id,"down"))}),N(),u(12,"svg",41),_(13,"path",111),c()(),V(),u(14,"button",112),M("click",function(){let i=I(t).$implicit,o=v(3);return S(o.removeWaypoint(i.id))}),N(),u(15,"svg",41),_(16,"path",113),c()()()()}if(e&2){let t=n.$implicit,r=n.index,i=v(3);p(3),T(" ",r+1," "),p(3),T(" ",t.name," "),p(2),g("disabled",r===0),p(3),g("disabled",r===i.maraudeData.waypoints.length-1)}}function tS(e,n){if(e&1&&(u(0,"div",101),w(1,eS,17,4,"div",102),c()),e&2){let t=v(2);p(),g("ngForOf",t.maraudeData.waypoints)("ngForTrackBy",t.trackByWaypoint)}}function nS(e,n){e&1&&(u(0,"div",114)(1,"span",115),f(2," \u{1F3AF} Mode d\xE9finition point de d\xE9part actif - cliquez sur la carte "),c()())}function rS(e,n){e&1&&(u(0,"span",117),N(),u(1,"svg",118),_(2,"circle",119)(3,"path",120),c(),f(4," Suppression... "),c())}function iS(e,n){e&1&&(u(0,"span",117),N(),u(1,"svg",121),_(2,"path",113),c(),f(3," Supprimer cette maraude "),c())}function oS(e,n){if(e&1){let t=Z();u(0,"div")(1,"button",116),M("click",function(){I(t);let i=v(2);return S(i.deleteMaraude())}),w(2,rS,5,0,"span",70)(3,iS,4,0,"span",70),c()()}if(e&2){let t=v(2);p(),g("disabled",t.deleting||t.saving),p(),g("ngIf",t.deleting),p(),g("ngIf",!t.deleting)}}function sS(e,n){e&1&&_(0,"div")}function aS(e,n){e&1&&(u(0,"span",117),N(),u(1,"svg",118),_(2,"circle",119)(3,"path",120),c(),f(4," Sauvegarde... "),c())}function lS(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v(2);p(),T(" ",t.isEditing?"Modifier":"Cr\xE9er"," la maraude ")}}function cS(e,n){e&1&&(u(0,"div",122)(1,"div",123),_(2,"div",124),u(3,"p",59),f(4,"Chargement de la carte..."),c()()())}function uS(e,n){e&1&&(u(0,"div",125)(1,"p",126),f(2," \u{1F3AF} Mode actif : Cliquez sur la carte pour d\xE9finir le point de d\xE9part "),c()())}function dS(e,n){if(e&1){let t=Z();u(0,"div",13)(1,"div",14)(2,"form",15),M("ngSubmit",function(){I(t);let i=v();return S(i.onSubmit())}),w(3,$I,3,1,"div",16),u(4,"div",17)(5,"h2",18),f(6,"Informations g\xE9n\xE9rales"),c(),w(7,qI,11,3,"div",19),u(8,"div",20)(9,"div")(10,"label",21),f(11," Titre de la maraude * "),c(),u(12,"input",22),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.title,i)||(o.maraudeData.title=i),S(i)}),c()(),u(13,"div")(14,"label",23),f(15," Description "),c(),u(16,"textarea",24),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.description,i)||(o.maraudeData.description=i),S(i)}),c()()()(),u(17,"div",17)(18,"h2",18),f(19,"Planning"),c(),u(20,"div",25)(21,"label",26),f(22,"Type de maraude"),c(),u(23,"div",27)(24,"label",28)(25,"input",29),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.isRecurring,i)||(o.maraudeData.isRecurring=i),S(i)}),M("change",function(){I(t);let i=v();return S(i.onRecurringChange())}),c(),u(26,"span",30),f(27,"R\xE9currente (chaque semaine)"),c()(),u(28,"label",28)(29,"input",29),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.isRecurring,i)||(o.maraudeData.isRecurring=i),S(i)}),M("change",function(){I(t);let i=v();return S(i.onRecurringChange())}),c(),u(30,"span",30),f(31,"Ponctuelle (une seule fois)"),c()()()(),u(32,"div",31),w(33,QI,5,2,"div",32)(34,YI,4,1,"div",32),u(35,"div")(36,"label",33),f(37," Heure de d\xE9but * "),c(),u(38,"input",34),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.startTime,i)||(o.maraudeData.startTime=i),S(i)}),c()(),u(39,"div")(40,"label",35),f(41," Heure de fin "),c(),u(42,"input",36),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.endTime,i)||(o.maraudeData.endTime=i),S(i)}),c()()()(),u(43,"div",17)(44,"h2",18),f(45,"Point de d\xE9part"),c(),u(46,"div",20)(47,"div")(48,"label",37),f(49," Adresse de d\xE9part "),c(),u(50,"div",38)(51,"input",39),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.startAddress,i)||(o.maraudeData.startAddress=i),S(i)}),c(),u(52,"button",40),M("click",function(){I(t);let i=v();return S(i.getCurrentLocation())}),N(),u(53,"svg",41),_(54,"path",42)(55,"path",43),c()(),V(),u(56,"button",44),M("click",function(){I(t);let i=v();return S(i.toggleStartPointMode())}),N(),u(57,"svg",41),_(58,"path",45),c(),f(59),c()(),w(60,KI,4,0,"p",46),c(),V(),u(61,"div",47)(62,"div")(63,"label",48),f(64," Latitude * "),c(),u(65,"input",49),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.startLatitude,i)||(o.maraudeData.startLatitude=i),S(i)}),c()(),u(66,"div")(67,"label",50),f(68," Longitude * "),c(),u(69,"input",51),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.startLongitude,i)||(o.maraudeData.startLongitude=i),S(i)}),c()()()()(),u(70,"div",17)(71,"h2",18),f(72,"Points d'\xE9tape du parcours"),c(),u(73,"div",52)(74,"div",53)(75,"div",54)(76,"span",55)(77,"strong"),f(78),c(),f(79," points au total "),c(),w(80,JI,4,1,"span",56)(81,XI,4,1,"span",56),c()()(),w(82,tS,2,2,"div",57),u(83,"div",58)(84,"p",59),f(85," \u{1F4A1} "),u(86,"strong"),f(87,"Comment planifier votre parcours :"),c(),_(88,"br"),f(89," \u2022 "),u(90,"strong"),f(91,"Point de d\xE9part :"),c(),f(92,' Utilisez le bouton "Carte" pour d\xE9finir le point de d\xE9part en cliquant sur la carte'),_(93,"br"),f(94," \u2022 "),u(95,"strong"),f(96,"Points d'\xE9tape :"),c(),f(97," Cliquez directement sur la carte pour ajouter des points d'\xE9tape"),_(98,"br"),f(99," \u2022 "),u(100,"strong"),f(101,"Organisation :"),c(),f(102," R\xE9organisez les points avec les fl\xE8ches ou supprimez-les si n\xE9cessaire "),c(),w(103,nS,3,0,"div",60),c()(),u(104,"div",61)(105,"h2",18),f(106,"Informations compl\xE9mentaires"),c(),u(107,"div",20)(108,"div")(109,"label",62),f(110," Nombre de b\xE9n\xE9voles pr\xE9vus "),c(),u(111,"input",63),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.participantsCount,i)||(o.maraudeData.participantsCount=i),S(i)}),c()(),u(112,"div")(113,"label",64),f(114," Notes "),c(),u(115,"textarea",65),J("ngModelChange",function(i){I(t);let o=v();return X(o.maraudeData.notes,i)||(o.maraudeData.notes=i),S(i)}),c()()()(),u(116,"div",66),w(117,oS,4,3,"div",32)(118,sS,1,0,"div",32),u(119,"div",67)(120,"button",68),M("click",function(){I(t);let i=v();return S(i.goBack())}),f(121," Annuler "),c(),u(122,"button",69),w(123,aS,5,0,"span",70)(124,lS,2,1,"span",32),c()()()()(),u(125,"div",71)(126,"h2",18),f(127,"Planification du parcours"),c(),u(128,"div",72),_(129,"div",73,0),w(131,cS,5,0,"div",74),c(),u(132,"div",75)(133,"h3",76),f(134,"Instructions :"),c(),u(135,"ul",77)(136,"li"),f(137,'\u{1F3C1} Le point de d\xE9part est marqu\xE9 par un drapeau (utilisez le bouton "Carte" pour le d\xE9finir)'),c(),u(138,"li"),f(139,"\u{1F3AF} Cliquez sur la carte pour ajouter des points d'\xE9tape"),c(),u(140,"li"),f(141,"\u{1F4CD} Les points sont num\xE9rot\xE9s dans l'ordre du parcours"),c(),u(142,"li"),f(143,"\u{1F5FA}\uFE0F Une ligne bleue montre le parcours pr\xE9vu"),c(),u(144,"li"),f(145,"\u270F\uFE0F Utilisez la liste de gauche pour r\xE9organiser les points"),c()(),w(146,uS,3,0,"div",78),c()()()}if(e&2){let t=v();p(3),g("ngIf",t.error),p(4),g("ngIf",t.isAdmin),p(5),K("ngModel",t.maraudeData.title),p(4),K("ngModel",t.maraudeData.description),p(9),K("ngModel",t.maraudeData.isRecurring),g("value",!0),p(4),K("ngModel",t.maraudeData.isRecurring),g("value",!1),p(4),g("ngIf",t.maraudeData.isRecurring),p(),g("ngIf",!t.maraudeData.isRecurring),p(4),K("ngModel",t.maraudeData.startTime),p(4),K("ngModel",t.maraudeData.endTime),p(9),K("ngModel",t.maraudeData.startAddress),p(5),Ir(t.isSettingStartPoint?"inline-flex items-center px-3 py-2 border border-l-0 border-red-300 bg-red-50 text-red-600 text-sm hover:bg-red-100 rounded-r-md":"inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 bg-blue-50 text-blue-600 text-sm hover:bg-blue-100 rounded-r-md"),p(3),T(" ",t.isSettingStartPoint?"Annuler":"Carte"," "),p(),g("ngIf",t.isSettingStartPoint),p(5),K("ngModel",t.maraudeData.startLatitude),p(4),K("ngModel",t.maraudeData.startLongitude),p(9),ie(t.maraudeData.waypoints.length+1),p(2),g("ngIf",t.maraudeData.estimatedDistance>0),p(),g("ngIf",t.maraudeData.estimatedDuration>0),p(),g("ngIf",t.maraudeData.waypoints.length>0),p(21),g("ngIf",t.isSettingStartPoint),p(8),K("ngModel",t.maraudeData.participantsCount),p(4),K("ngModel",t.maraudeData.notes),p(2),g("ngIf",t.isEditing&&t.canDelete()),p(),g("ngIf",!t.isEditing||!t.canDelete()),p(2),g("disabled",t.saving||t.deleting),p(2),g("disabled",t.saving||t.deleting),p(),g("ngIf",t.saving),p(),g("ngIf",!t.saving),p(7),g("ngIf",!t.isMapReady),p(15),g("ngIf",t.isSettingStartPoint)}}var zo=class e{constructor(n,t,r,i){this.authService=n;this.apiService=t;this.router=r;this.route=i}mapContainer;currentUser=null;isEditing=!1;maraudeId=null;loading=!1;saving=!1;deleting=!1;error="";isAdmin=!1;associations=[];loadingAssociations=!1;map=null;markers=[];routePolyline=null;isMapReady=!1;isSettingStartPoint=!1;pendingMapUpdate=!1;maraudeData={title:"",description:"",startLatitude:44.825674,startLongitude:-.556708,startAddress:"",waypoints:[],estimatedDistance:0,estimatedDuration:0,isRecurring:!0,dayOfWeek:1,scheduledDate:"",startTime:"",endTime:"",participantsCount:0,notes:"",associationId:""};daysOfWeek=[{value:1,name:"Lundi",short:"Lun"},{value:2,name:"Mardi",short:"Mar"},{value:3,name:"Mercredi",short:"Mer"},{value:4,name:"Jeudi",short:"Jeu"},{value:5,name:"Vendredi",short:"Ven"},{value:6,name:"Samedi",short:"Sam"},{value:7,name:"Dimanche",short:"Dim"}];normalizeWaypoints(n){try{if(Array.isArray(n))return n;if(typeof n=="string"){let t=JSON.parse(n);return Array.isArray(t)?t:[]}return[]}catch{return[]}}getLeaflet(){return Q(this,null,function*(){let n=yield import("./chunk-LD4LOLAU.js");return n.default??n})}ngOnInit(){return Q(this,null,function*(){if(this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.router.navigate(["/login"]);return}this.isAdmin=this.currentUser.role==="admin",this.isAdmin?yield this.loadAssociations():this.maraudeData.associationId=this.currentUser.associationId||"",this.route.params.subscribe(n=>Q(this,null,function*(){n.id&&(this.isEditing=!0,this.maraudeId=n.id,yield this.loadMaraudeData())}))})}ngAfterViewInit(){setTimeout(()=>{this.loadMap()},0)}loadAssociations(){return Q(this,null,function*(){this.loadingAssociations=!0;try{let n=yield we(this.apiService.getAssociations({active:"true",limit:100}));this.associations=n.associations,this.associations.length===1&&!this.isEditing&&(this.maraudeData.associationId=this.associations[0].id)}catch(n){console.error("Error loading associations:",n),this.error="Erreur lors du chargement des associations"}finally{this.loadingAssociations=!1}})}loadMap(){return Q(this,null,function*(){try{if(!this.mapContainer?.nativeElement){console.error("Map container not found"),this.error="Erreur lors de l'initialisation de la carte";return}let n=yield this.getLeaflet();this.map&&this.map.remove(),this.map=n.map(this.mapContainer.nativeElement).setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13),n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors"}).addTo(this.map),this.map.on("click",t=>{this.isSettingStartPoint?this.setStartPoint(t.latlng.lat,t.latlng.lng):this.addWaypoint(t.latlng.lat,t.latlng.lng)}),this.map.on("popupopen",t=>{let r=t?.popup?.getElement?.();if(!r)return;let i=r.querySelector('[data-action="edit-start"]');i&&i.addEventListener("click",()=>this.toggleStartPointMode(),{once:!0}),r.querySelectorAll('[data-action="remove-waypoint"]').forEach(o=>{let s=o.getAttribute("data-id");s&&o.addEventListener("click",()=>this.removeWaypoint(s),{once:!0})})}),this.isMapReady=!0,((this.maraudeData.waypoints?.length??0)>0||this.pendingMapUpdate)&&(this.pendingMapUpdate=!1,this.map.setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13),yield this.updateMapMarkers(),this.centerMapOnRoute())}catch(n){console.error("Error loading map:",n),this.error="Erreur lors du chargement de la carte"}})}loadMaraudeData(){return Q(this,null,function*(){if(this.maraudeId){this.loading=!0;try{let t=(yield we(this.apiService.getMaraude(this.maraudeId))).action,r=this.normalizeWaypoints(t.waypoints);this.maraudeData={title:t.title??"",description:t.description||"",startLatitude:t.startLatitude??44.825674,startLongitude:t.startLongitude??-.556708,startAddress:t.startAddress||"",waypoints:r,estimatedDistance:t.estimatedDistance||0,estimatedDuration:t.estimatedDuration||0,isRecurring:!!t.isRecurring,dayOfWeek:t.dayOfWeek||1,scheduledDate:t.scheduledDate?t.scheduledDate instanceof Date?t.scheduledDate.toISOString().split("T")[0]:t.scheduledDate:"",startTime:t.startTime||"",endTime:t.endTime||"",participantsCount:t.participantsCount||0,notes:t.notes||"",associationId:t.associationId},this.isMapReady?(this.map.setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13),yield this.updateMapMarkers(),this.centerMapOnRoute()):this.pendingMapUpdate=!0}catch(n){console.error("Erreur lors du chargement de la maraude:",n),this.error="Erreur lors du chargement des donn\xE9es de la maraude"}finally{this.loading=!1}}})}setStartPoint(n,t,r){return Q(this,null,function*(){if(this.maraudeData.startLatitude=n,this.maraudeData.startLongitude=t,r)this.maraudeData.startAddress=r;else try{let o=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?lat=${n}&lon=${t}&format=json`)).json();o?.display_name?this.maraudeData.startAddress=o.display_name:this.maraudeData.startAddress=`${n.toFixed(6)}, ${t.toFixed(6)}`}catch(i){console.error("Error reverse geocoding start point:",i),this.maraudeData.startAddress=`${n.toFixed(6)}, ${t.toFixed(6)}`}this.isSettingStartPoint=!1,this.updateMapMarkers(),this.calculateRoute()})}toggleStartPointMode(){this.isSettingStartPoint=!this.isSettingStartPoint}addWaypoint(n,t,r,i){let o={id:Date.now().toString(),latitude:n,longitude:t,address:r||`${n.toFixed(6)}, ${t.toFixed(6)}`,name:i||`Point ${this.maraudeData.waypoints.length+1}`,order:this.maraudeData.waypoints.length};this.maraudeData.waypoints.push(o),this.updateMapMarkers(),this.calculateRoute(),this.reverseGeocodeWaypoint(o)}removeWaypoint(n){this.maraudeData.waypoints=this.maraudeData.waypoints.filter(t=>t.id!==n),this.maraudeData.waypoints.forEach((t,r)=>{t.order=r}),this.updateMapMarkers(),this.calculateRoute()}moveWaypoint(n,t){let r=this.maraudeData.waypoints.findIndex(o=>o.id===n);if(r===-1)return;let i=t==="up"?r-1:r+1;i<0||i>=this.maraudeData.waypoints.length||([this.maraudeData.waypoints[r],this.maraudeData.waypoints[i]]=[this.maraudeData.waypoints[i],this.maraudeData.waypoints[r]],this.maraudeData.waypoints.forEach((o,s)=>{o.order=s}),this.updateMapMarkers(),this.calculateRoute())}updateMapMarkers(){return Q(this,null,function*(){if(!this.map)return;this.markers.forEach(s=>this.map.removeLayer(s)),this.markers=[],this.routePolyline&&(this.map.removeLayer(this.routePolyline),this.routePolyline=null);let n=yield this.getLeaflet(),t=this.isSettingStartPoint?"#EF4444":"#10B981",r=n.marker([this.maraudeData.startLatitude,this.maraudeData.startLongitude],{icon:n.divIcon({html:`
          <div style="position: relative; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
            <div style="position: absolute; width: 40px; height: 40px; background: ${t}; border: 3px solid white; border-radius: 50%; box-shadow: 0 4px 8px rgba(0,0,0,0.3); z-index: 1; ${this.isSettingStartPoint?"animation: pulse 1.5s infinite;":""}"></div>
            <div style="position: relative; font-size: 20px; z-index: 2; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">\u{1F3C1}</div>
          </div>
        `,className:"custom-start-marker",iconSize:[40,40],iconAnchor:[20,20]})}).addTo(this.map),i=this.isSettingStartPoint?`
        <div class="marker-popup">
          <strong style="color: #EF4444;">Mode: D\xE9finition du point de d\xE9part</strong><br>
          Cliquez sur la carte pour d\xE9finir le point de d\xE9part
        </div>
      `:`
        <div class="marker-popup">
          <strong>Point de d\xE9part</strong><br>
          ${this.maraudeData.startAddress||"Adresse non d\xE9finie"}
          <div class="popup-actions" style="margin-top: 8px;">
            <button data-action="edit-start" class="popup-btn popup-btn-primary" style="background: #3B82F6; color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 12px; cursor: pointer;">
              Modifier le point de d\xE9part
            </button>
          </div>
        </div>
      `;r.bindPopup(i),this.markers.push(r);let o=this.normalizeWaypoints(this.maraudeData.waypoints);o.forEach((s,a)=>{let l=n.marker([s.latitude,s.longitude],{icon:n.divIcon({html:`
            <div style="position: relative; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center;">
              <div style="position: absolute; width: 35px; height: 35px; background: #3B82F6; border: 3px solid white; border-radius: 50%; box-shadow: 0 4px 8px rgba(0,0,0,0.3); z-index: 1;"></div>
              <div style="position: relative; color: white; font-size: 14px; font-weight: bold; z-index: 2; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);">${a+1}</div>
            </div>
          `,className:"custom-waypoint-marker",iconSize:[35,35],iconAnchor:[17.5,17.5]})}).addTo(this.map);l.bindPopup(`
        <div class="marker-popup">
          <strong>${s.name??`Point ${a+1}`}</strong><br>
          ${s.address??`${s.latitude.toFixed(6)}, ${s.longitude.toFixed(6)}`}<br>
          <div class="popup-actions">
            <button data-action="remove-waypoint" data-id="${s.id}" class="popup-btn popup-btn-danger">
              Supprimer ce point
            </button>
          </div>
        </div>
      `),this.markers.push(l)}),o.length>0&&(yield this.drawRoute())})}calculateRoute(){return Q(this,null,function*(){let n=this.normalizeWaypoints(this.maraudeData.waypoints);if(n.length===0){this.maraudeData.estimatedDistance=0,this.maraudeData.estimatedDuration=0;return}try{let t=0,r={lat:this.maraudeData.startLatitude,lng:this.maraudeData.startLongitude};for(let i of n){let o=this.calculateDistance(r.lat,r.lng,i.latitude,i.longitude);t+=o,r={lat:i.latitude,lng:i.longitude}}this.maraudeData.estimatedDistance=Math.round(t*100)/100,this.maraudeData.estimatedDuration=Math.round(t*12),yield this.drawRoute()}catch(t){console.error("Error calculating route:",t)}})}drawRoute(){return Q(this,null,function*(){let n=this.normalizeWaypoints(this.maraudeData.waypoints);if(!this.map||n.length===0){this.routePolyline&&(this.map.removeLayer(this.routePolyline),this.routePolyline=null);return}let t=yield this.getLeaflet(),r=[[this.maraudeData.startLatitude,this.maraudeData.startLongitude],...n.map(i=>[i.latitude,i.longitude])];this.routePolyline&&(this.map.removeLayer(this.routePolyline),this.routePolyline=null),r.length>1&&(this.routePolyline=t.polyline(r,{color:"#3B82F6",weight:4,opacity:.7}).addTo(this.map))})}centerMapOnRoute(){if(!this.map)return;let n=this.normalizeWaypoints(this.maraudeData.waypoints),t=[[this.maraudeData.startLatitude,this.maraudeData.startLongitude],...n.map(r=>[r.latitude,r.longitude])];t.length>1?this.map.fitBounds(t,{padding:[20,20]}):this.map.setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13)}calculateDistance(n,t,r,i){let s=(r-n)*Math.PI/180,a=(i-t)*Math.PI/180,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}reverseGeocodeWaypoint(n){return Q(this,null,function*(){try{let r=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?lat=${n.latitude}&lon=${n.longitude}&format=json`)).json();r?.display_name&&(n.address=r.display_name)}catch(t){console.error("Error reverse geocoding:",t)}})}onSubmit(){return Q(this,null,function*(){if(this.validateForm()){this.saving=!0,this.error="";try{let t=this.normalizeWaypoints(this.maraudeData.waypoints).map(i=>({id:i.id,latitude:i.latitude,longitude:i.longitude,address:i.address||"",name:i.name||"",order:i.order})),r={title:this.maraudeData.title,startLatitude:this.maraudeData.startLatitude,startLongitude:this.maraudeData.startLongitude,waypoints:t,estimatedDistance:this.maraudeData.estimatedDistance,estimatedDuration:this.maraudeData.estimatedDuration,isRecurring:this.maraudeData.isRecurring,startTime:this.maraudeData.startTime,participantsCount:this.maraudeData.participantsCount,description:this.maraudeData.description.trim()===""?void 0:this.maraudeData.description,startAddress:this.maraudeData.startAddress.trim()===""?void 0:this.maraudeData.startAddress,notes:this.maraudeData.notes.trim()===""?void 0:this.maraudeData.notes,endTime:this.maraudeData.endTime.trim()===""?void 0:this.maraudeData.endTime,dayOfWeek:this.maraudeData.isRecurring?this.maraudeData.dayOfWeek:void 0,scheduledDate:this.maraudeData.isRecurring?void 0:this.maraudeData.scheduledDate,latitude:this.maraudeData.startLatitude,longitude:this.maraudeData.startLongitude,address:this.maraudeData.startAddress};this.isAdmin&&this.maraudeData.associationId&&(r.associationId=this.maraudeData.associationId),console.log("\u{1F4E4} Submitting maraude with payload:",r),this.isEditing&&this.maraudeId?yield we(this.apiService.updateMaraude(this.maraudeId,r)):yield we(this.apiService.createMaraude(r)),this.router.navigate(["/dashboard"])}catch(n){console.error("Erreur lors de la sauvegarde:",n),this.error=n.error?.error||n.error?.message||"Erreur lors de la sauvegarde"}finally{this.saving=!1}}})}validateForm(){return this.error="",this.maraudeData.title.trim()?this.maraudeData.startTime?this.isAdmin&&!this.maraudeData.associationId?(this.error="Veuillez s\xE9lectionner une association",!1):this.maraudeData.isRecurring&&!this.maraudeData.dayOfWeek?(this.error="Le jour de la semaine est requis pour les maraudes r\xE9currentes",!1):!this.maraudeData.isRecurring&&!this.maraudeData.scheduledDate?(this.error="La date est requise pour les maraudes ponctuelles",!1):!0:(this.error="L'heure de d\xE9but est requise",!1):(this.error="Le titre est requis",!1)}onRecurringChange(){this.maraudeData.isRecurring?(this.maraudeData.scheduledDate="",this.maraudeData.dayOfWeek||(this.maraudeData.dayOfWeek=1)):this.maraudeData.dayOfWeek=1}getCurrentLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(n=>{this.maraudeData.startLatitude=n.coords.latitude,this.maraudeData.startLongitude=n.coords.longitude,this.reverseGeocodeStart(),this.isMapReady&&(this.map.setView([this.maraudeData.startLatitude,this.maraudeData.startLongitude],13),this.updateMapMarkers())},n=>{console.error("Erreur de g\xE9olocalisation:",n),alert("Impossible d'obtenir votre position.")})}reverseGeocodeStart(){return Q(this,null,function*(){try{let t=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?lat=${this.maraudeData.startLatitude}&lon=${this.maraudeData.startLongitude}&format=json`)).json();t?.display_name&&(this.maraudeData.startAddress=t.display_name)}catch(n){console.error("Error reverse geocoding:",n)}})}goBack(){this.router.navigate(["/dashboard"])}getDayName(n){let t=this.daysOfWeek.find(r=>r.value===n);return t?t.name:""}deleteMaraude(){return Q(this,null,function*(){if(!(!this.isEditing||!this.maraudeId||!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la maraude "${this.maraudeData.title}" ?

Cette action est irr\xE9versible.`))){this.deleting=!0,this.error="";try{yield we(this.apiService.deleteMaraude(this.maraudeId)),this.router.navigate(["/dashboard"])}catch(t){console.error("Erreur lors de la suppression:",t),this.error=t.error?.error||"Erreur lors de la suppression de la maraude"}finally{this.deleting=!1}}})}canDelete(){return!this.isEditing||!this.currentUser?!1:["admin","coordinator"].includes(this.currentUser.role)}trackByWaypoint(n,t){return t.id}static \u0275fac=function(t){return new(t||e)(C(Me),C(ft),C(de),C(dt))};static \u0275cmp=fe({type:e,selectors:[["app-create-maraude"]],viewQuery:function(t,r){if(t&1&&wa(UI,5),t&2){let i;pi(i=hi())&&(r.mapContainer=i.first)}},standalone:!0,features:[pe],decls:13,vars:4,consts:[["mapContainer",""],[1,"min-h-screen","bg-gray-50","py-8"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"inline-flex","items-center","text-sm","text-gray-500","hover:text-gray-700","mb-4",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],["class","flex justify-center py-12",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-2 gap-8",4,"ngIf"],[1,"flex","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-primary-600"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","shadow-sm","rounded-lg"],[1,"p-6","space-y-6",3,"ngSubmit"],["class","rounded-md bg-red-50 p-4",4,"ngIf"],[1,"border-b","border-gray-200","pb-6"],[1,"text-lg","font-medium","text-gray-900","mb-4"],["class","bg-blue-50 border-l-4 border-blue-400 p-6 mb-6",4,"ngIf"],[1,"grid","grid-cols-1","gap-6"],["for","title",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","title","name","title","required","","maxlength","100","placeholder","Ex: Maraude centre-ville",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","description",1,"block","text-sm","font-medium","text-gray-700"],["id","description","name","description","rows","3","placeholder","D\xE9crivez le parcours, les objectifs, etc.",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"flex","space-x-6"],[1,"flex","items-center"],["type","radio","name","isRecurring",1,"focus:ring-primary-500","h-4","w-4","text-primary-600","border-gray-300",3,"ngModelChange","change","ngModel","value"],[1,"ml-2","text-sm","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[4,"ngIf"],["for","startTime",1,"block","text-sm","font-medium","text-gray-700"],["type","time","id","startTime","name","startTime","required","",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","endTime",1,"block","text-sm","font-medium","text-gray-700"],["type","time","id","endTime","name","endTime",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","startAddress",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","flex","rounded-md","shadow-sm"],["type","text","id","startAddress","name","startAddress","placeholder","Point de d\xE9part de la maraude",1,"flex-1","block","w-full","border-gray-300","rounded-l-md","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-l-0","border-gray-300","bg-gray-50","text-gray-500","text-sm","hover:bg-gray-100",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["type","button","title","Cliquer pour d\xE9finir le point de d\xE9part sur la carte",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"],["class","mt-1 text-xs text-gray-500",4,"ngIf"],[1,"grid","grid-cols-2","gap-4"],["for","startLatitude",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","startLatitude","name","startLatitude","step","0.000001","min","-90","max","90","required","",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","startLongitude",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","startLongitude","name","startLongitude","step","0.000001","min","-180","max","180","required","",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"bg-blue-50","p-4","rounded-lg","mb-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4","text-sm"],[1,"text-blue-700"],["class","text-blue-700",4,"ngIf"],["class","space-y-3",4,"ngIf"],[1,"mt-4","p-4","bg-gray-50","rounded-lg"],[1,"text-sm","text-gray-600"],["class","mt-2 text-xs text-gray-500",4,"ngIf"],[1,"pb-6"],["for","participantsCount",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","participantsCount","name","participantsCount","min","0",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","notes",1,"block","text-sm","font-medium","text-gray-700"],["id","notes","name","notes","rows","3","placeholder","Informations compl\xE9mentaires, consignes particuli\xE8res...",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-between","pt-6","border-t","border-gray-200"],[1,"flex","space-x-3"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","inline-flex items-center",4,"ngIf"],[1,"bg-white","shadow-sm","rounded-lg","p-6"],[1,"relative"],[1,"w-full","h-96","rounded-lg","border","border-gray-300","bg-gray-100"],["class","absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",4,"ngIf"],[1,"mt-4","p-4","bg-blue-50","rounded-lg"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-700","space-y-1"],["class","mt-3 p-2 bg-white rounded border-l-4 border-blue-400",4,"ngIf"],[1,"rounded-md","bg-red-50","p-4"],[1,"text-sm","text-red-700"],[1,"bg-blue-50","border-l-4","border-blue-400","p-6","mb-6"],[1,"flex","items-start"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-blue-400"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3","flex-1"],[1,"text-sm","font-medium","text-blue-800","mb-2"],["class","text-sm text-blue-700",4,"ngIf"],[1,"text-sm","text-blue-700"],["for","associationSelect",1,"block","text-sm","font-medium","text-blue-700","mb-1"],["id","associationSelect","name","associationId","required","",1,"block","w-full","max-w-md","border-blue-300","rounded-md","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","dayOfWeek",1,"block","text-sm","font-medium","text-gray-700"],["id","dayOfWeek","name","dayOfWeek",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","scheduledDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","scheduledDate","name","scheduledDate",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-1","text-xs","text-gray-500"],[1,"text-red-600","font-medium"],[1,"space-y-3"],["class","flex items-center justify-between p-3 border border-gray-200 rounded-lg",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","justify-between","p-3","border","border-gray-200","rounded-lg"],[1,"flex","items-center","space-x-3"],[1,"flex-shrink-0","w-8","h-8","bg-primary-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"flex","items-center","space-x-2"],["type","button",1,"p-1","text-gray-400","hover:text-gray-600","disabled:opacity-50",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["type","button",1,"p-1","text-red-400","hover:text-red-600",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"mt-2","text-xs","text-gray-500"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"inline-flex","items-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-gray-100","rounded-lg"],[1,"text-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-primary-600","mx-auto","mb-2"],[1,"mt-3","p-2","bg-white","rounded","border-l-4","border-blue-400"],[1,"text-sm","text-blue-800","font-medium"]],template:function(t,r){t&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),M("click",function(){return r.goBack()}),N(),u(4,"svg",5),_(5,"path",6),c(),f(6," Retour au dashboard "),c(),V(),u(7,"h1",7),f(8),c(),u(9,"p",8),f(10),c()(),w(11,BI,2,0,"div",9)(12,dS,147,34,"div",10),c()()),t&2&&(p(8),T(" ",r.isEditing?"Modifier la maraude":"Cr\xE9er une nouvelle maraude"," "),p(2),T(" ",r.isEditing?"Modifiez le parcours et les informations de votre maraude":"Planifiez une nouvelle maraude avec son parcours"," "),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[ge,Xe,Se,Pt,ir,or,sr,Ot,$o,un,Nf,kt,rr,Fr,kf,Ho,Of,Zt,Pr],styles:[".btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:.375rem;border-width:1px;border-color:transparent;padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.btn-primary[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.btn-secondary[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.btn-secondary[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.btn-danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn-danger[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.btn-danger[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}#mapContainer[_ngcontent-%COMP%]{min-height:400px}.custom-start-marker[_ngcontent-%COMP%], .custom-waypoint-marker[_ngcontent-%COMP%]{background:transparent;border:none}.start-marker-container[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.start-marker-circle[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;background:#10b981;border:3px solid white;border-radius:50%;box-shadow:0 4px 8px #0000004d;z-index:1}.start-marker-flag[_ngcontent-%COMP%]{position:relative;font-size:20px;z-index:2;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.waypoint-marker-container[_ngcontent-%COMP%]{position:relative;width:35px;height:35px;display:flex;align-items:center;justify-content:center}.waypoint-marker-circle[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;background:#3b82f6;border:3px solid white;border-radius:50%;box-shadow:0 4px 8px #0000004d;z-index:1}.waypoint-marker-number[_ngcontent-%COMP%]{position:relative;color:#fff;font-size:14px;font-weight:700;z-index:2;text-shadow:1px 1px 2px rgba(0,0,0,.7)}.marker-popup[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,sans-serif;font-size:13px;line-height:1.4}.popup-actions[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.popup-btn[_ngcontent-%COMP%]{padding:4px 8px;border:none;border-radius:4px;font-size:11px;font-weight:500;cursor:pointer;transition:background-color .2s}.popup-btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.popup-btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}input[type=radio][_ngcontent-%COMP%]:checked{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.waypoint-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.waypoint-item[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.route-summary[_ngcontent-%COMP%], .map-instructions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ebf8ff,#bee3f8)}@media (max-width: 1024px){.lg\\\\[_ngcontent-%COMP%]:grid-cols-2{grid-template-columns:1fr}#mapContainer[_ngcontent-%COMP%]{min-height:300px}}.btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 6px #0000001a}.error-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fecaca)}.success-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#bbf7d0)}"]})};var dn=(e,n)=>{let t=D(Me),r=D(de);return t.isLoggedIn()?!0:(r.navigate(["/login"]),!1)};var ay=[{value:1,name:"Lundi",shortName:"Lun"},{value:2,name:"Mardi",shortName:"Mar"},{value:3,name:"Mercredi",shortName:"Mer"},{value:4,name:"Jeudi",shortName:"Jeu"},{value:5,name:"Vendredi",shortName:"Ven"},{value:6,name:"Samedi",shortName:"Sam"},{value:7,name:"Dimanche",shortName:"Dim"}];function fS(e,n){e&1&&_(0,"div",27)}function pS(e,n){if(e&1){let t=Z();u(0,"button",25),M("click",function(){let i=I(t).$implicit,o=v();return S(o.toggleDay(i.value))}),f(1),w(2,fS,1,0,"div",26),c()}if(e&2){let t=n.$implicit,r=v();gt("bg-blue-600",r.isSelected(t.value))("border-blue-600",r.isSelected(t.value))("text-white",r.isSelected(t.value))("shadow-md",r.isSelected(t.value))("bg-white",!r.isSelected(t.value))("border-gray-200",!r.isSelected(t.value))("text-gray-700",!r.isSelected(t.value))("hover:border-blue-300",!r.isSelected(t.value))("hover:bg-blue-50",!r.isSelected(t.value))("hover:shadow-sm",!r.isSelected(t.value)),sn("aria-pressed",r.isSelected(t.value))("title",t.name),p(),T(" ",r.shortLabel(t.value)," "),p(),g("ngIf",r.isSelected(t.value))}}var Al=class e{filtersChanged=new ye;days=ay;dayNameByValue=new Map(this.days.map(n=>[n.value,n.name]));getTodayNumber(){let n=new Date().getDay();return n===0?7:n}filters={showMaraudes:!0,showMerchants:!0,maraudeStatus:"",merchantCategory:"",radius:10,selectedDays:[this.getTodayNumber()]};shortLabel(n){switch(n){case 1:return"L";case 2:return"Ma";case 3:return"Me";case 4:return"Je";case 5:return"Ve";case 6:return"Sa";case 7:return"Di";default:return""}}isSelected(n){return this.filters.selectedDays.includes(n)}toggleDay(n){let t=this.filters.selectedDays.indexOf(n);t>=0?this.filters.selectedDays.splice(t,1):(this.filters.selectedDays.push(n),this.filters.selectedDays.sort((r,i)=>r-i)),this.emit()}selectAllDays(){this.filters.selectedDays=[1,2,3,4,5,6,7],this.emit()}clearDays(){this.filters.selectedDays=[],this.emit()}selectToday(){this.filters.selectedDays=[this.getTodayNumber()],this.emit()}emit(){this.filtersChanged.emit(z(E({},this.filters),{selectedDays:[...this.filters.selectedDays]}))}get selectedDaysLabel(){let n=this.filters?.selectedDays??[];return n.length===0?"Tous les jours":n.map(t=>this.dayNameByValue.get(t)??`Jour ${t}`).join(", ")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=fe({type:e,selectors:[["app-filter-panel"]],outputs:{filtersChanged:"filtersChanged"},standalone:!0,features:[pe],decls:40,vars:8,consts:[[1,"bg-white","shadow-lg","rounded-xl","p-6","border","border-gray-100"],[1,"text-xl","font-bold","text-gray-900","mb-6","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"mb-6"],[1,"text-sm","font-semibold","text-gray-800","mb-3","block"],[1,"grid","grid-cols-7","gap-1","mb-3"],["type","button","class","relative h-10 text-sm font-medium rounded-lg border-2 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",3,"bg-blue-600","border-blue-600","text-white","shadow-md","bg-white","border-gray-200","text-gray-700","hover:border-blue-300","hover:bg-blue-50","hover:shadow-sm","click",4,"ngFor","ngForOf"],[1,"bg-gray-50","rounded-lg","p-3"],[1,"text-xs","text-gray-600","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1.5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"font-medium"],[1,"ml-1"],[1,"pt-4","border-t","border-gray-200"],[1,"text-sm","font-semibold","text-gray-800","mb-4"],[1,"space-y-3"],[1,"flex","items-start","p-4","rounded-lg","border","border-gray-200","hover:bg-gray-50","hover:border-gray-300","cursor-pointer","transition-all","duration-200"],["type","checkbox",1,"mt-0.5","rounded","border-gray-300","text-blue-600","focus:ring-blue-500","focus:ring-offset-0","h-4","w-4",3,"ngModelChange","ngModel"],[1,"ml-3","flex-1"],[1,"flex","items-center"],[1,"text-sm","font-medium","text-gray-900"],[1,"ml-2","w-3","h-3","bg-blue-600","rounded-full"],[1,"text-xs","text-gray-500","mt-1"],[1,"ml-2","w-3","h-3","bg-green-600","rounded-full"],["type","button",1,"relative","h-10","text-sm","font-medium","rounded-lg","border-2","transition-all","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-1",3,"click"],["class","absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white",4,"ngIf"],[1,"absolute","-top-1","-right-1","w-3","h-3","bg-green-400","rounded-full","border-2","border-white"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"h3",1),N(),u(2,"svg",2),_(3,"path",3),c(),f(4," Filtres "),c(),V(),u(5,"div",4)(6,"label",5),f(7,"Jours de la semaine"),c(),u(8,"div",6),w(9,pS,3,24,"button",7),c(),u(10,"div",8)(11,"p",9),N(),u(12,"svg",10),_(13,"path",11),c(),V(),u(14,"span",12),f(15,"S\xE9lection:"),c(),u(16,"span",13),f(17),c()()()(),u(18,"div",14)(19,"h4",15),f(20,"Types d'\xE9tablissements"),c(),u(21,"div",16)(22,"label",17)(23,"input",18),J("ngModelChange",function(o){return X(r.filters.showMaraudes,o)||(r.filters.showMaraudes=o),o}),M("ngModelChange",function(){return r.emit()}),c(),u(24,"div",19)(25,"div",20)(26,"span",21),f(27,"Maraudes"),c(),_(28,"div",22),c(),u(29,"p",23),f(30,"Points de distribution alimentaire"),c()()(),u(31,"label",17)(32,"input",18),J("ngModelChange",function(o){return X(r.filters.showMerchants,o)||(r.filters.showMerchants=o),o}),M("ngModelChange",function(){return r.emit()}),c(),u(33,"div",19)(34,"div",20)(35,"span",21),f(36,"Commerces"),c(),_(37,"div",24),c(),u(38,"p",23),f(39,"Partenaires solidaires"),c()()()()()()),t&2&&(p(9),g("ngForOf",r.days),p(7),gt("text-blue-600",r.filters.selectedDays.length>0)("font-medium",r.filters.selectedDays.length>0),p(),T(" ",r.selectedDaysLabel," "),p(6),K("ngModel",r.filters.showMaraudes),p(9),K("ngModel",r.filters.showMerchants))},dependencies:[ge,Xe,Se,Pt,kr,kt,Zt],styles:[".input-select[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.input-select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1)) }.range-slider[_ngcontent-%COMP%]{height:.5rem;width:100%;cursor:pointer;appearance:none;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.range-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{height:1rem;width:1rem;cursor:pointer;appearance:none;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}"]})};function hS(e,n){e&1&&(u(0,"span",15),f(1," Aujourd'hui "),c())}function mS(e,n){if(e&1&&(u(0,"p",16),f(1),c()),e&2){let t=v();p(),T(" ",t.maraude.description," ")}}function gS(e,n){if(e&1&&(u(0,"div",8),N(),u(1,"svg",9),_(2,"path",17),c(),f(3),c()),e&2){let t=v();p(3),Ce(" Tous les ",t.maraude.dayName,"s \xE0 ",t.maraude.startTime," ")}}function vS(e,n){if(e&1&&(u(0,"div",8),N(),u(1,"svg",9),_(2,"path",17),c(),f(3),Sr(4,"date"),c()),e&2){let t=v();p(3),Ce(" ",ro(4,2,t.maraude.scheduledDate,"dd/MM/yyyy")," \xE0 ",t.maraude.startTime," ")}}function yS(e,n){if(e&1&&(u(0,"div",8),N(),u(1,"svg",9),_(2,"path",18),c(),f(3),Sr(4,"date"),c()),e&2){let t=v();p(3),T(" Prochaine: ",ro(4,1,t.maraude.nextOccurrence,"dd/MM/yyyy")," ")}}function bS(e,n){if(e&1&&(u(0,"span",19),f(1),c()),e&2){let t=v();p(),T(" \u2022 ",t.maraude.beneficiariesHelped," personnes aid\xE9es ")}}function _S(e,n){if(e&1&&(u(0,"div",8),N(),u(1,"svg",9),_(2,"path",20),c(),f(3),c()),e&2){let t=v();p(3),T(" ",t.maraude.association.name," ")}}var Nl=class e{maraude;getStatusClass(){switch(this.maraude.status){case"planned":return"status-planned";case"in_progress":return"status-progress";case"completed":return"status-completed";case"cancelled":return"status-cancelled";default:return"status-default"}}getStatusText(){switch(this.maraude.status){case"planned":return"Planifi\xE9e";case"in_progress":return"En cours";case"completed":return"Termin\xE9e";case"cancelled":return"Annul\xE9e";default:return"Inconnu"}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=fe({type:e,selectors:[["app-maraude-card"]],inputs:{maraude:"maraude"},standalone:!0,features:[pe],decls:24,vars:12,consts:[[1,"card","p-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-lg","font-semibold","text-gray-800"],[1,"flex","items-center","space-x-2"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],["class","px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium animate-pulse",4,"ngIf"],["class","text-gray-600 text-sm mb-3",4,"ngIf"],[1,"space-y-2","text-sm","text-gray-600"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["class","flex items-center",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],["class","ml-2",4,"ngIf"],[1,"px-2","py-1","bg-orange-100","text-orange-800","rounded-full","text-xs","font-medium","animate-pulse"],[1,"text-gray-600","text-sm","mb-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"h4",2),f(3),c(),u(4,"div",3)(5,"span",4),f(6),c(),w(7,hS,2,0,"span",5),c()(),w(8,mS,2,1,"p",6),u(9,"div",7)(10,"div",8),N(),u(11,"svg",9),_(12,"path",10)(13,"path",11),c(),f(14),c(),w(15,gS,4,2,"div",12)(16,vS,5,5,"div",12)(17,yS,5,4,"div",12),V(),u(18,"div",8),N(),u(19,"svg",9),_(20,"path",13),c(),f(21),w(22,bS,2,1,"span",14),c(),w(23,_S,4,1,"div",12),c()()),t&2&&(p(3),ie(r.maraude.title),p(2),g("ngClass",r.getStatusClass()),p(),T(" ",r.getStatusText()," "),p(),g("ngIf",r.maraude.isHappeningToday),p(),g("ngIf",r.maraude.description),p(6),T(" ",r.maraude.address," "),p(),g("ngIf",r.maraude.isRecurring),p(),g("ngIf",!r.maraude.isRecurring&&r.maraude.scheduledDate),p(),g("ngIf",r.maraude.isRecurring&&r.maraude.nextOccurrence),p(4),T(" ",r.maraude.participantsCount," b\xE9n\xE9voles "),p(),g("ngIf",r.maraude.beneficiariesHelped>0),p(),g("ngIf",r.maraude.association))},dependencies:[Pt,ge,yi,Se,Va],styles:[".card[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.icon[_ngcontent-%COMP%]{height:1rem;width:1rem}.status-planned[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.status-progress[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(154 52 18 / var(--tw-text-opacity, 1))}.status-completed[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.status-cancelled[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.status-default[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}"]})};var _e=fy(py());var Go=class e{maraudes=[];merchants=[];filters={};map;maraudeMarkers=new _e.LayerGroup;merchantMarkers=new _e.LayerGroup;maraudePaths=new _e.LayerGroup;defaultCenter=[44.8378,-.5792];defaultZoom=12;ngOnInit(){this.fixLeafletIcons()}ngAfterViewInit(){this.initializeMap(),this.updateMarkers()}ngOnDestroy(){this.map&&this.map.remove()}fixLeafletIcons(){delete _e.Icon.Default.prototype._getIconUrl,_e.Icon.Default.mergeOptions({iconRetinaUrl:"assets/marker-icon-2x.png",iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"})}initializeMap(){this.map=_e.map("map",{center:this.defaultCenter,zoom:this.defaultZoom,zoomControl:!1}),_e.control.zoom({position:"bottomright"}).addTo(this.map),_e.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"\xA9 OpenStreetMap \xA9 CartoDB",subdomains:"abcd",maxZoom:19}).addTo(this.map),this.maraudePaths.addTo(this.map),this.maraudeMarkers.addTo(this.map),this.merchantMarkers.addTo(this.map)}updateMarkers(){this.clearMarkers(),this.filters.showMaraudes&&(this.addMaraudeMarkers(),this.addMaraudePaths()),this.filters.showMerchants&&this.addMerchantMarkers()}clearMarkers(){this.maraudeMarkers.clearLayers(),this.merchantMarkers.clearLayers(),this.maraudePaths.clearLayers()}addMaraudePaths(){this.maraudes.forEach(n=>{n.waypoints&&n.waypoints.length>0&&this.addMaraudePath(n)})}addMaraudePath(n){let t=this.generatePathColor(n.id),r=[],i=[Number(n.startLatitude),Number(n.startLongitude)];r.push(i),n.waypoints?.forEach(o=>{r.push([Number(o.latitude),Number(o.longitude)])}),r.length>1&&this.createRouteWithBuffer(r,t,n.title,n)}createRouteWithBuffer(n,t,r,i){let o=i.status==="in_progress"||i.isHappeningToday;for(let a=0;a<n.length-1;a++){let l=n[a],d=n[a+1],h=this.createSegmentBuffer(l,d,150),m=_e.polygon(h,{color:t,fillColor:t,fillOpacity:o?.12:.08,opacity:o?.4:.25,weight:1,className:o?"blinking-path":""});m.bindPopup(`
        <div class="popup-content">
          <h3 class="popup-title">Zone de couverture</h3>
          <p class="popup-description">
            <strong>${r}</strong><br>
            Segment ${a+1} sur ${n.length-1}<br>
            Zone d'intervention approximative
            ${o?"<br><strong>\u{1F534} En cours ou aujourd'hui</strong>":""}
          </p>
        </div>
      `),this.maraudePaths.addLayer(m)}let s=_e.polyline(n,{color:t,weight:o?4:3,opacity:o?1:.8,dashArray:"10, 5",className:o?"blinking-path":""});s.bindPopup(`
      <div class="popup-content">
        <h3 class="popup-title">Parcours de maraude</h3>
        <p class="popup-description">
          <strong>${r}</strong><br>
          ${n.length} points sur le parcours
          ${o?"<br><strong>\u{1F534} En cours ou aujourd'hui</strong>":""}
        </p>
      </div>
    `),this.maraudePaths.addLayer(s)}createSegmentBuffer(n,t,r){let o=n[0]*Math.PI/180,s=t[0]*Math.PI/180,a=(t[0]-n[0])*Math.PI/180,l=(t[1]-n[1])*Math.PI/180,d=Math.sin(l)*Math.cos(s),h=Math.cos(o)*Math.sin(s)-Math.sin(o)*Math.cos(s)*Math.cos(l),m=Math.atan2(d,h),b=m+Math.PI/2,y=m-Math.PI/2,x=r/6371e3*180/Math.PI,A=x*Math.cos(b),O=x*Math.sin(b)/Math.cos(o),U=x*Math.cos(y),De=x*Math.sin(y)/Math.cos(o);return[[n[0]+A,n[1]+O],[t[0]+A,t[1]+O],[t[0]+U,t[1]+De],[n[0]+U,n[1]+De]]}generatePathColor(n){let t=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#EC4899","#6366F1"],r=0;for(let o=0;o<n.length;o++){let s=n.charCodeAt(o);r=(r<<5)-r+s,r=r&r}let i=Math.abs(r)%t.length;return t[i]}addMaraudeMarkers(){this.maraudes.forEach(n=>{let t=this.generatePathColor(n.id),r=this.createMaraudeStartIcon(t),i=_e.marker([Number(n.startLatitude),Number(n.startLongitude)],{icon:r}).bindPopup(this.createMaraudePopup(n));this.maraudeMarkers.addLayer(i),n.waypoints&&n.waypoints.length>0&&n.waypoints.forEach((o,s)=>{let a=this.createWaypointIcon(s+1,t),l=_e.marker([Number(o.latitude),Number(o.longitude)],{icon:a}).bindPopup(this.createWaypointPopup(n,o,s));this.maraudeMarkers.addLayer(l)})})}createWaypointPopup(n,t,r){let i=this.getStatusText(n.status),o=this.getMaraudeColor(n.status);return`
    <div class="popup-content">
      <h3 class="popup-title">${n.title} - Point ${r+1}</h3>
      <div class="popup-status" style="background-color: ${o}">
        ${i}
      </div>
      <div class="popup-body">
        <p class="popup-description">${t.description||n.description||"Aucune description disponible"}</p>
        <div class="popup-details">
          <div class="popup-detail">
            <strong>\u{1F4CD}</strong> ${t.address||"Adresse non d\xE9finie"}
          </div>
          <div class="popup-detail">
            <strong>\u{1F3AF}</strong> Point ${r+1} sur ${n.waypoints?.length||0}
          </div>
          ${n.isHappeningToday?`
            <div class="popup-detail">
              <strong>\u{1F4C5}</strong> Aujourd'hui \xE0 ${n.startTime}
            </div>
          `:n.scheduledDate?`
            <div class="popup-detail">
              <strong>\u{1F4C5}</strong> ${new Date(n.scheduledDate).toLocaleDateString("fr-FR")} \xE0 ${n.startTime}
            </div>
          `:""}
          ${n.endTime?`
            <div class="popup-detail">
              <strong>\u23F0</strong> Fin pr\xE9vue: ${n.endTime}
            </div>
          `:""}
          <div class="popup-detail">
            <strong>\u{1F465}</strong> ${n.participantsCount} b\xE9n\xE9voles
          </div>
          ${n.beneficiariesHelped>0?`
            <div class="popup-detail">
              <strong>\u2764\uFE0F</strong> ${n.beneficiariesHelped} personnes aid\xE9es
            </div>
          `:""}
          <div class="popup-detail">
            <strong>\u{1F3E2}</strong> ${n.association?.name||"Association"}
          </div>
        </div>
      </div>
    </div>
  `}createMaraudeStartIcon(n){return _e.divIcon({className:"custom-maraude-start-marker",html:`
        <div class="waypoint-marker" style="background-color: ${n}; border-color: ${n}">
          <span style="color: white; font-size: 16px;">\u{1F3C1}</span>
        </div>
      `,iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]})}createWaypointIcon(n,t){return _e.divIcon({className:"custom-waypoint-marker",html:`
        <div class="waypoint-marker" style="background-color: ${t}; border-color: ${t}">
          <span style="color: white; font-weight: bold; font-size: 11px;">${n}</span>
        </div>
      `,iconSize:[24,24],iconAnchor:[12,12],popupAnchor:[0,-12]})}addMerchantMarkers(){this.merchants.forEach(n=>{let t=this.createMerchantIcon(n.category),r=_e.marker([n.latitude,n.longitude],{icon:t}).bindPopup(this.createMerchantPopup(n));this.merchantMarkers.addLayer(r)})}createMaraudeIcon(n){let t=this.getMaraudeColor(n);return _e.divIcon({className:"custom-maraude-marker",html:`
        <div class="marker-pin" style="background-color: ${t}">
          <div style="position: relative; font-size: 18px; color: white; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">\u{1F3C1}</div>
        </div>
        <div class="marker-pulse" style="background-color: ${t}"></div>
      `,iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]})}createMerchantIcon(n){let t=this.getMerchantIcon(n);return _e.divIcon({className:"custom-merchant-marker",html:`
        <div class="marker-pin" style="background-color: #10b981">
          <svg class="marker-icon" viewBox="0 0 24 24" fill="white">
            ${t}
          </svg>
        </div>
      `,iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]})}getMaraudeColor(n){switch(n){case"planned":return"#3b82f6";case"in_progress":return"#f59e0b";case"completed":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}}getMerchantIcon(n){return{restaurant:'<path d="M8 22h8v-9l4.159-6.238A1 1 0 0019.414 5H4.586a1 1 0 00-.745 1.762L8 13v9z"/>',cafe:'<path d="M5 11h14v2a6 6 0 01-6 6H7a6 6 0 01-6-6v-2zm1-4V2h12v5M8 7v4m4-4v4m4-4v4"/>',bakery:'<path d="M6 2l3 6 3-6 3 6 3-6v18a2 2 0 01-2 2H8a2 2 0 01-2-2V2z"/>',pharmacy:'<path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l7-3 7 3z"/>',supermarket:'<path d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v3H2V5a1 1 0 011-1h4zM6 9v10a2 2 0 002 2h8a2 2 0 002-2V9H6z"/>',health_center:'<path d="M12 2l8 4v10.5c0 5.99-4.99 10.5-8 10.5s-8-4.51-8-10.5V6l8-4z"/>',laundromat:'<path d="M4 6h16v2H4V6zm0 5h16v6a2 2 0 01-2 2H6a2 2 0 01-2-2v-6z"/>',clothing_store:'<path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>',other:'<path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l7-3 7 3z"/>'}[n]||'<path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l7-3 7 3z"/>'}createMaraudePopup(n){let t=this.getStatusText(n.status),r=this.getMaraudeColor(n.status),i=n.isRecurring?`Tous les ${n.dayName}s \xE0 ${n.startTime}`:`${n.scheduledDate?new Date(n.scheduledDate).toLocaleDateString("fr-FR"):""} \xE0 ${n.startTime}`,o=n.waypoints&&n.waypoints.length>0?`
        <div class="popup-detail">
          <strong>\u{1F5FA}\uFE0F</strong> Parcours: ${n.waypoints.length+1} points
        </div>
        ${n.estimatedDistance?`
          <div class="popup-detail">
            <strong>\u{1F4CF}</strong> Distance estim\xE9e: ${n.estimatedDistance} km
          </div>
        `:""}
        ${n.estimatedDuration?`
          <div class="popup-detail">
            <strong>\u23F1\uFE0F</strong> Dur\xE9e estim\xE9e: ${n.estimatedDuration} min
          </div>
        `:""}
      `:"";return`
      <div class="popup-content">
        <div class="popup-header">
          <h3 class="popup-title">${n.title}</h3>
          <div style="display: flex; gap: 4px; flex-wrap: wrap;">
            <span class="popup-status" style="background-color: ${r}20; color: ${r}">
              ${t}
            </span>
            ${n.isHappeningToday?`<span class="popup-today" style="background-color: #f59e0b20; color: #f59e0b; padding: 2px 6px; border-radius: 4px; font-size: 11px;">Aujourd'hui</span>`:""}
          </div>
        </div>
        <div class="popup-body">
          <p class="popup-description">${n.description||""}</p>
          <div class="popup-details">
            <div class="popup-detail">
              <strong>\u{1F3C1}</strong> D\xE9part: ${n.address||n.startAddress||"Adresse de d\xE9part"}
            </div>
            <div class="popup-detail">
              <strong>\u{1F4C5}</strong> ${i}
            </div>
            ${n.endTime?`
              <div class="popup-detail">
                <strong>\u23F0</strong> Fin pr\xE9vue: ${n.endTime}
              </div>
            `:""}
            ${o}
            <div class="popup-detail">
              <strong>\u{1F465}</strong> ${n.participantsCount} b\xE9n\xE9voles
            </div>
            ${n.beneficiariesHelped>0?`
              <div class="popup-detail">
                <strong>\u2764\uFE0F</strong> ${n.beneficiariesHelped} personnes aid\xE9es
              </div>
            `:""}
            ${n.nextOccurrence&&n.isRecurring?`
              <div class="popup-detail">
                <strong>\u{1F504}</strong> Prochaine: ${new Date(n.nextOccurrence).toLocaleDateString("fr-FR")}
              </div>
            `:""}
            <div class="popup-detail">
              <strong>\u{1F3E2}</strong> ${n.association?.name||"Association"}
            </div>
          </div>
        </div>
      </div>
    `}createMerchantPopup(n){let t=n.services.map(r=>this.getServiceText(r)).join(", ");return`
      <div class="popup-content">
        <div class="popup-header">
          <h3 class="popup-title">${n.name}</h3>
          <span class="popup-category">${this.getCategoryText(n.category)}</span>
          ${n.isVerified?'<span class="popup-verified">\u2713 V\xE9rifi\xE9</span>':""}
        </div>
        <div class="popup-body">
          <p class="popup-description">${n.description||""}</p>
          <div class="popup-details">
            <div class="popup-detail">
              <strong>\u{1F4CD}</strong> ${n.address}
            </div>
            ${n.phone?`
              <div class="popup-detail">
                <strong>\u{1F4DE}</strong> ${n.phone}
              </div>
            `:""}
            ${t?`
              <div class="popup-detail">
                <strong>\u{1F3AF}</strong> ${t}
              </div>
            `:""}
            ${n.contactPerson?`
              <div class="popup-detail">
                <strong>\u{1F464}</strong> ${n.contactPerson}
              </div>
            `:""}
          </div>
          ${n.specialInstructions?`
            <div class="popup-instructions">
              <strong>\u2139\uFE0F Instructions:</strong> ${n.specialInstructions}
            </div>
          `:""}
        </div>
      </div>
    `}getStatusText(n){return{planned:"Planifi\xE9e",in_progress:"En cours",completed:"Termin\xE9e",cancelled:"Annul\xE9e"}[n]||n}getCategoryText(n){return{restaurant:"Restaurant",cafe:"Caf\xE9",bakery:"Boulangerie",pharmacy:"Pharmacie",supermarket:"Supermarch\xE9",health_center:"Centre de sant\xE9",laundromat:"Laverie",clothing_store:"Magasin de v\xEAtements",other:"Autre"}[n]||n}getServiceText(n){return{free_coffee:"Caf\xE9 gratuit",free_meal:"Repas gratuit",restroom:"Toilettes",wifi:"WiFi",phone_charging:"Recharge t\xE9l\xE9phone",hygiene_kit:"Kit hygi\xE8ne",first_aid:"Premiers secours",information:"Information",shower:"Douche",food_distribution:"Distribution alimentaire",medical_consultation:"Consultation m\xE9dicale"}[n]||n}updateMapData(n,t,r){this.maraudes=n,this.merchants=t,this.filters=r,this.updateMarkers()}centerOnLocation(n,t,r=15){this.map&&this.map.setView([n,t],r)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=fe({type:e,selectors:[["app-map-view"]],inputs:{maraudes:"maraudes",merchants:"merchants",filters:"filters"},standalone:!0,features:[pe],decls:3,vars:0,consts:[[1,"map-container"],["id","map",1,"map"],[1,"map-controls"]],template:function(t,r){t&1&&(u(0,"div",0),_(1,"div",1)(2,"div",2),c())},dependencies:[ge],styles:[".map-container[_ngcontent-%COMP%]{position:relative;height:100%;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px -1px #0000001a}.map[_ngcontent-%COMP%]{height:100%;width:100%}.map-controls[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;z-index:1000}.map-legend[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:12px;box-shadow:0 2px 8px #0000001a;min-width:180px}.legend-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#374151;margin:0 0 8px}.legend-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#6b7280}.legend-marker[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.legend-marker.maraude-planned[_ngcontent-%COMP%]{background-color:#3b82f6}.legend-marker.maraude-progress[_ngcontent-%COMP%]{background-color:#f59e0b}.legend-marker.maraude-completed[_ngcontent-%COMP%], .legend-marker.merchant[_ngcontent-%COMP%]{background-color:#10b981}[_nghost-%COMP%]     .custom-maraude-marker, [_nghost-%COMP%]     .custom-merchant-marker, [_nghost-%COMP%]     .custom-waypoint-marker, [_nghost-%COMP%]     .custom-maraude-start-marker{background:transparent!important;border:none!important}[_nghost-%COMP%]     .custom-maraude-start-marker{animation:none!important}[_nghost-%COMP%]     .marker-pin{width:24px;height:24px;border-radius:50% 50% 50% 0;transform:rotate(-45deg);display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000004d;position:relative}[_nghost-%COMP%]     .marker-icon{width:14px;height:14px;transform:rotate(45deg)}[_nghost-%COMP%]     .marker-pulse{position:absolute;width:24px;height:24px;border-radius:50%;opacity:.6;animation:_ngcontent-%COMP%_pulse 2s infinite;top:0;left:0}[_nghost-%COMP%]     .waypoint-marker{width:24px;height:24px;border-radius:50%;border:2px solid white;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000004d;position:relative}[_nghost-%COMP%]     .leaflet-interactive{cursor:pointer}[_nghost-%COMP%]     .leaflet-container .leaflet-interactive:hover{opacity:.8}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:.6}50%{transform:scale(1.5);opacity:.3}to{transform:scale(2);opacity:0}}[_nghost-%COMP%]     .leaflet-popup-content{margin:0!important;width:280px!important;padding:16px!important}[_nghost-%COMP%]     .popup-content{font-family:Inter,system-ui,-apple-system,sans-serif;padding:0}[_nghost-%COMP%]     .popup-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:8px}[_nghost-%COMP%]     .popup-title{font-size:16px;font-weight:600;color:#111827;margin:0;line-height:1.3;flex:1}[_nghost-%COMP%]     .popup-status, [_nghost-%COMP%]     .popup-category{background:#f3f4f6;color:#374151;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:500;white-space:nowrap}[_nghost-%COMP%]     .popup-verified{background:#d1fae5;color:#065f46;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:500}[_nghost-%COMP%]     .popup-description{color:#6b7280;font-size:13px;margin:0 0 12px;line-height:1.5}[_nghost-%COMP%]     .popup-details{display:flex;flex-direction:column;gap:6px}[_nghost-%COMP%]     .popup-detail{font-size:13px;color:#374151;display:flex;align-items:flex-start;gap:8px;line-height:1.4}[_nghost-%COMP%]     .popup-instructions{margin-top:12px;padding:8px 10px;background:#fef3c7;border-radius:6px;font-size:12px;color:#92400e;line-height:1.4}[_nghost-%COMP%]     .leaflet-overlay-pane svg{pointer-events:auto}[_nghost-%COMP%]     .leaflet-overlay-pane path{pointer-events:auto}[_nghost-%COMP%]     .blinking-path{animation:_ngcontent-%COMP%_pathBlink 2s infinite}@keyframes _ngcontent-%COMP%_pathBlink{0%,50%{opacity:1}51%,to{opacity:.3}}[_nghost-%COMP%]     .leaflet-overlay-pane circle:hover{opacity:.8!important;fill-opacity:.2!important}[_nghost-%COMP%]     .leaflet-overlay-pane polyline:hover{opacity:.8!important;stroke-width:4!important}[_nghost-%COMP%]     .leaflet-overlay-pane .blinking-path:hover{animation:none!important;opacity:.9!important}@media (max-width: 768px){.map-controls[_ngcontent-%COMP%]{top:8px;left:8px}.map-legend[_ngcontent-%COMP%]{padding:8px;min-width:150px}.legend-title[_ngcontent-%COMP%]{font-size:12px}.legend-item[_ngcontent-%COMP%]{font-size:11px}}"]})};function wS(e,n){e&1&&(u(0,"div",19),_(1,"div",20),u(2,"p",21),f(3,"Chargement..."),c()())}function CS(e,n){if(e&1&&_(0,"app-maraude-card",27),e&2){let t=n.$implicit;g("maraude",t)}}function DS(e,n){if(e&1&&(u(0,"div",25),w(1,CS,1,1,"app-maraude-card",26),c()),e&2){let t=v(2);p(),g("ngForOf",t.todayMaraudes)}}function xS(e,n){e&1&&(u(0,"div",28),N(),u(1,"svg",29),_(2,"path",30),c(),V(),u(3,"p",31),f(4,"Aucune maraude active aujourd'hui"),c(),u(5,"p",32),f(6,"Les prochaines maraudes appara\xEEtront ici"),c()())}function ES(e,n){if(e&1&&(u(0,"div",22)(1,"h2",23),f(2,"Maraudes d'aujourd'hui"),c(),w(3,DS,2,1,"div",24)(4,xS,7,0,"ng-template",null,0,kg),c()),e&2){let t=Tg(5),r=v();p(3),g("ngIf",r.todayMaraudes.length>0)("ngIfElse",t)}}var Rl=class e{constructor(n){this.apiService=n}mapComponent;todayMaraudes=[];allMaraudes=[];merchants=[];filteredMaraudes=[];filteredMerchants=[];activeMaraudesCount=0;merchantsCount=0;loading=!1;getTodayNumber(){let n=new Date().getDay();return n===0?7:n}getDayNumberFromDate(n){if(!n)return null;let t=new Date(n);if(isNaN(t.getTime()))return null;let r=t.getDay();return r===0?7:r}currentFilters={showMaraudes:!0,showMerchants:!0,maraudeStatus:"",merchantCategory:"",radius:10,selectedDays:[this.getTodayNumber()]};ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.loadTodayMaraudes(),this.loadAllMaraudes(),this.loadMerchants()}loadTodayMaraudes(){this.apiService.getTodayActiveMaraudes().subscribe({next:n=>{this.todayMaraudes=n.actions,this.activeMaraudesCount=n.count,this.loading=!1},error:n=>{console.error("Error loading today maraudes:",n),this.loading=!1}})}loadAllMaraudes(){this.apiService.getMaraudes({limit:100}).subscribe({next:n=>{this.allMaraudes=n.actions,this.applyFilters()},error:n=>{console.error("Error loading all maraudes:",n)}})}loadMerchants(){this.apiService.getMerchants({limit:100}).subscribe({next:n=>{this.merchants=n.merchants,this.merchantsCount=n.merchants.length,this.applyFilters()},error:n=>{console.error("Error loading merchants:",n)}})}onFiltersChanged(n){this.currentFilters=z(E({},n),{selectedDays:[...n.selectedDays]}),this.applyFilters(),this.mapComponent&&this.mapComponent.updateMapData(this.filteredMaraudes,this.filteredMerchants,this.currentFilters)}matchesSelectedDays(n,t){if(!t||t.length===0)return!0;if(n.isRecurring&&n.dayOfWeek)return t.includes(n.dayOfWeek);let r=this.getDayNumberFromDate(n.scheduledDate);return r?t.includes(r):!1}applyFilters(){let{maraudeStatus:n,merchantCategory:t,selectedDays:r,showMaraudes:i,showMerchants:o}=this.currentFilters,s=this.allMaraudes.filter(l=>n&&l.status!==n?!1:this.matchesSelectedDays(l,r));this.filteredMaraudes=i?s:[];let a=this.merchants.filter(l=>t&&l.category!==t?!1:l.isActive);this.filteredMerchants=o?a:[],this.mapComponent&&this.mapComponent.updateMapData(this.filteredMaraudes,this.filteredMerchants,this.currentFilters)}static \u0275fac=function(t){return new(t||e)(C(ft))};static \u0275cmp=fe({type:e,selectors:[["app-map-page"]],viewQuery:function(t,r){if(t&1&&wa(Go,5),t&2){let i;pi(i=hi())&&(r.mapComponent=i.first)}},standalone:!0,features:[pe],decls:34,vars:8,consts:[["noMaraudes",""],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6"],[1,"lg:col-span-1","space-y-4"],[3,"filtersChanged"],[1,"bg-white","shadow","rounded-lg","p-4"],[1,"text-lg","font-semibold","text-gray-800","mb-3"],[1,"space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-600"],[1,"font-medium","text-orange-600"],[1,"font-medium","text-blue-600"],[1,"font-medium","text-green-600"],[1,"text-sm","text-gray-600","space-y-2"],[1,"lg:col-span-3"],[1,"bg-white","rounded-lg","shadow-md","mb-6","h-96","overflow-hidden"],[3,"maraudes","merchants","filters"],["class","text-center py-8",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"text-center","py-8"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"mt-2","text-gray-600"],[1,"mb-6"],[1,"text-xl","font-bold","text-gray-800","mb-4"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[3,"maraude",4,"ngFor","ngForOf"],[3,"maraude"],[1,"text-center","py-8","text-gray-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2"],[1,"text-sm","text-gray-400"]],template:function(t,r){t&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-filter-panel",4),M("filtersChanged",function(o){return r.onFiltersChanged(o)}),c(),u(4,"div",5)(5,"h3",6),f(6,"Statistiques"),c(),u(7,"div",7)(8,"div",8)(9,"span",9),f(10,"Maraudes actives:"),c(),u(11,"span",10),f(12),c()(),u(13,"div",8)(14,"span",9),f(15,"Maraudes totales:"),c(),u(16,"span",11),f(17),c()(),u(18,"div",8)(19,"span",9),f(20,"Commerces solidaires:"),c(),u(21,"span",12),f(22),c()()()(),u(23,"div",5)(24,"h3",6),f(25,"\xC0 propos"),c(),u(26,"div",13)(27,"p"),f(28,"Cette carte affiche en temps r\xE9el les maraudes et commerces solidaires de votre r\xE9gion."),c()()()(),u(29,"div",14)(30,"div",15),_(31,"app-map-view",16),c(),w(32,wS,4,0,"div",17)(33,ES,6,2,"div",18),c()()()),t&2&&(p(12),ie(r.activeMaraudesCount),p(5),ie(r.filteredMaraudes.length),p(5),ie(r.filteredMerchants.length),p(9),g("maraudes",r.filteredMaraudes)("merchants",r.filteredMerchants)("filters",r.currentFilters),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[ge,Xe,Se,Al,Nl,Go],styles:[".animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function MS(e,n){e&1&&(u(0,"div",9),_(1,"div",10),c())}function IS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),Ce(" ",t.title," - ",t.address," ")}}function SS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("maraudeActionId"))}}function TS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("reportDate"))}}function AS(e,n){e&1&&(u(0,"div",48)(1,"div",49)(2,"div",50),_(3,"div",51),c(),u(4,"div",52)(5,"p",53),f(6,"V\xE9rification des rapports existants..."),c()()()())}function NS(e,n){if(e&1&&(u(0,"div",60)(1,"p")(2,"strong"),f(3,"Cr\xE9\xE9 par:"),c(),f(4),c(),u(5,"p")(6,"strong"),f(7,"Date de cr\xE9ation:"),c(),f(8),c(),u(9,"p")(10,"strong"),f(11,"Statut:"),c(),f(12),c()()),e&2){let t=v(3);p(4),T(" ",t.duplicateInfo.createdBy,""),p(4),T(" ",t.duplicateInfo.createdDate,""),p(4),T(" ",t.duplicateInfo.status,"")}}function RS(e,n){if(e&1&&(u(0,"div",54)(1,"div",49)(2,"div",50),N(),u(3,"svg",55),_(4,"path",56),c()(),V(),u(5,"div",52)(6,"h3",57),f(7,"Rapport d\xE9j\xE0 existant"),c(),u(8,"p",58),f(9," Un compte-rendu existe d\xE9j\xE0 pour cette maraude \xE0 cette date. "),c(),w(10,NS,13,3,"div",59),c()()()),e&2){let t=v(2);p(10),g("ngIf",t.duplicateInfo)}}function OS(e,n){e&1&&(u(0,"div",61)(1,"div",49)(2,"div",50),N(),u(3,"svg",62),_(4,"path",63),c()(),V(),u(5,"div",52)(6,"p",64),f(7,"Aucun rapport existant trouv\xE9 - Vous pouvez cr\xE9er ce rapport"),c()()()())}function kS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("startTime"))}}function PS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("endTime"))}}function FS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("beneficiariesCount"))}}function LS(e,n){if(e&1&&(u(0,"p",47),f(1),c()),e&2){let t=v(2);p(),ie(t.getFieldError("volunteersCount"))}}function VS(e,n){e&1&&(u(0,"div",65),f(1," Aucune distribution ajout\xE9e. "),c())}function jS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),T(" ",t.name," ")}}function US(e,n){if(e&1&&(u(0,"optgroup",78),w(1,jS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("meal"))}}function BS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),T(" ",t.name," ")}}function $S(e,n){if(e&1&&(u(0,"optgroup",79),w(1,BS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("hygiene"))}}function HS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),T(" ",t.name," ")}}function zS(e,n){if(e&1&&(u(0,"optgroup",80),w(1,HS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("clothing"))}}function GS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),T(" ",t.name," ")}}function WS(e,n){if(e&1&&(u(0,"optgroup",81),w(1,GS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("medical"))}}function qS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.id),p(),T(" ",t.name," ")}}function ZS(e,n){if(e&1&&(u(0,"optgroup",82),w(1,qS,2,2,"option",19),c()),e&2){let t=v(3);p(),g("ngForOf",t.getDistributionsByCategory("other"))}}function QS(e,n){if(e&1){let t=Z();u(0,"div",66)(1,"div")(2,"label",67),f(3,"Type *"),c(),u(4,"select",68)(5,"option",18),f(6,"S\xE9lectionner"),c(),w(7,US,2,1,"optgroup",69)(8,$S,2,1,"optgroup",70)(9,zS,2,1,"optgroup",71)(10,WS,2,1,"optgroup",72)(11,ZS,2,1,"optgroup",73),c()(),u(12,"div")(13,"label",67),f(14,"Quantit\xE9 *"),c(),_(15,"input",74),c(),u(16,"div")(17,"label",67),f(18,"Notes"),c(),_(19,"input",75),c(),u(20,"div",76)(21,"button",77),M("click",function(){let i=I(t).index,o=v(2);return S(o.removeDistribution(i))}),f(22," Supprimer "),c()()()}if(e&2){let t=n.index,r=v(2);g("formGroupName",t),p(7),g("ngIf",r.getDistributionsByCategory("meal").length>0),p(),g("ngIf",r.getDistributionsByCategory("hygiene").length>0),p(),g("ngIf",r.getDistributionsByCategory("clothing").length>0),p(),g("ngIf",r.getDistributionsByCategory("medical").length>0),p(),g("ngIf",r.getDistributionsByCategory("other").length>0)}}function YS(e,n){e&1&&(u(0,"div",65),f(1," Aucune alerte signal\xE9e. "),c())}function KS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.value),p(),ie(t.label)}}function JS(e,n){if(e&1&&(u(0,"option",46),f(1),c()),e&2){let t=n.$implicit;g("value",t.value),p(),ie(t.label)}}function XS(e,n){e&1&&(u(0,"div",87)(1,"label",67),f(2,"Notes de suivi"),c(),_(3,"textarea",97),c())}function eT(e,n){if(e&1){let t=Z();u(0,"div",83)(1,"div",84)(2,"div")(3,"label",67),f(4,"Type d'alerte *"),c(),u(5,"select",85)(6,"option",18),f(7,"S\xE9lectionner"),c(),w(8,KS,2,2,"option",19),c()(),u(9,"div")(10,"label",67),f(11,"S\xE9v\xE9rit\xE9 *"),c(),u(12,"select",86)(13,"option",18),f(14,"S\xE9lectionner"),c(),w(15,JS,2,2,"option",19),c()()(),u(16,"div",87)(17,"label",67),f(18,"Description situation *"),c(),_(19,"textarea",88),c(),u(20,"div",84)(21,"div")(22,"label",67),f(23,"Localisation"),c(),_(24,"input",89),c(),u(25,"div")(26,"label",67),f(27,"Description personne"),c(),_(28,"input",90),c()(),u(29,"div",87)(30,"label",67),f(31,"Actions prises"),c(),_(32,"textarea",91),c(),u(33,"div",87)(34,"label",92),_(35,"input",93),u(36,"span",94),f(37,"Suivi requis"),c()()(),w(38,XS,4,0,"div",95),u(39,"button",96),M("click",function(){let i=I(t).index,o=v(2);return S(o.removeAlert(i))}),f(40," Supprimer cette alerte "),c()()}if(e&2){let t,r=n.$implicit,i=n.index,o=v(2);g("formGroupName",i),p(8),g("ngForOf",o.alertTypes),p(7),g("ngForOf",o.severityLevels),p(23),g("ngIf",(t=r.get("followUpRequired"))==null?null:t.value)}}function tT(e,n){e&1&&(u(0,"div",98)(1,"label",16),f(2,"D\xE9tails suppl\xE9mentaires situations urgentes"),c(),_(3,"textarea",99),c())}function nT(e,n){if(e&1){let t=Z();u(0,"form",11),M("ngSubmit",function(){I(t);let i=v();return S(i.submitReport())}),u(1,"div",12)(2,"h3",13),f(3,"Informations g\xE9n\xE9rales"),c(),u(4,"div",14)(5,"div",15)(6,"label",16),f(7,"Action de maraude *"),c(),u(8,"select",17)(9,"option",18),f(10,"S\xE9lectionnez une action"),c(),w(11,IS,2,3,"option",19),c(),w(12,SS,2,1,"p",20),c(),u(13,"div")(14,"label",16),f(15,"Date *"),c(),_(16,"input",21),w(17,TS,2,1,"p",20),c(),u(18,"div",15),w(19,AS,7,0,"div",22)(20,RS,11,1,"div",23)(21,OS,8,0,"div",24),c(),u(22,"div")(23,"label",16),f(24,"Heure d\xE9but *"),c(),_(25,"input",25),w(26,kS,2,1,"p",20),c(),u(27,"div")(28,"label",16),f(29,"Heure fin *"),c(),_(30,"input",26),w(31,PS,2,1,"p",20),c(),u(32,"div")(33,"label",16),f(34,"B\xE9n\xE9ficiaires aid\xE9s *"),c(),_(35,"input",27),w(36,FS,2,1,"p",20),c(),u(37,"div")(38,"label",16),f(39,"Nombre de b\xE9n\xE9voles *"),c(),_(40,"input",28),w(41,LS,2,1,"p",20),c()()(),u(42,"div",12)(43,"div",29)(44,"h3",30),f(45,"Distributions"),c(),u(46,"button",31),M("click",function(){I(t);let i=v();return S(i.addDistribution())}),f(47," + Ajouter "),c()(),u(48,"div",32),w(49,VS,2,0,"div",33)(50,QS,23,6,"div",34),c()(),u(51,"div",12)(52,"div",29)(53,"h3",30),f(54,"Alertes et situations urgentes"),c(),u(55,"button",35),M("click",function(){I(t);let i=v();return S(i.addAlert())}),f(56," + Ajouter une alerte "),c()(),u(57,"div",36),w(58,YS,2,0,"div",33)(59,eT,41,4,"div",37),c(),w(60,tT,4,0,"div",38),c(),u(61,"div",12)(62,"h3",13),f(63,"Observations et notes"),c(),u(64,"div",39)(65,"div")(66,"label",16),f(67,"Notes g\xE9n\xE9rales"),c(),_(68,"textarea",40),c(),u(69,"div")(70,"label",16),f(71,"Difficult\xE9s rencontr\xE9es"),c(),_(72,"textarea",41),c(),u(73,"div")(74,"label",16),f(75,"Points positifs"),c(),_(76,"textarea",42),c()()(),u(77,"div",12)(78,"div",43)(79,"button",44),M("click",function(){I(t);let i=v();return S(i.cancel())}),f(80," Annuler "),c(),u(81,"button",45),f(82),c()()()()}if(e&2){let t,r=v();g("formGroup",r.reportForm),p(11),g("ngForOf",r.maraudeActions),p(),g("ngIf",r.getFieldError("maraudeActionId")),p(5),g("ngIf",r.getFieldError("reportDate")),p(2),g("ngIf",r.duplicateCheckInProgress),p(),g("ngIf",!r.duplicateCheckInProgress&&r.duplicateCheckCompleted&&r.duplicateFound),p(),g("ngIf",!r.duplicateCheckInProgress&&r.duplicateCheckCompleted&&!r.duplicateFound&&((t=r.reportForm.get("maraudeActionId"))==null?null:t.value)&&((t=r.reportForm.get("reportDate"))==null?null:t.value)),p(5),g("ngIf",r.getFieldError("startTime")),p(5),g("ngIf",r.getFieldError("endTime")),p(5),g("ngIf",r.getFieldError("beneficiariesCount")),p(5),g("ngIf",r.getFieldError("volunteersCount")),p(8),g("ngIf",r.distributions.length===0),p(),g("ngForOf",r.distributions.controls),p(8),g("ngIf",r.alerts.length===0),p(),g("ngForOf",r.alerts.controls),p(),g("ngIf",r.alerts.length>0),p(21),g("disabled",r.submitting),p(),T(" ",r.submitting?"Cr\xE9ation...":"Cr\xE9er le rapport"," ")}}var Ui=class e{constructor(n,t,r,i,o,s){this.fb=n;this.reportService=t;this.apiService=r;this.authService=i;this.route=o;this.router=s}reportForm;distributionTypes=[];maraudeActions=[];loading=!1;submitting=!1;isEditMode=!1;reportId;originalReport;duplicateCheckInProgress=!1;duplicateFound=!1;duplicateInfo=null;duplicateCheckCompleted=!1;ngOnInit(){return Q(this,null,function*(){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}this.reportId=this.route.snapshot.params.id,this.isEditMode=!!this.reportId,console.log("Form mode:",this.isEditMode?"EDIT":"CREATE"),this.initForm(),yield this.loadData(),this.isEditMode?yield this.loadReport():this.setupDuplicateChecking()})}goBack(){this.router.navigate(["/dashboard"])}initForm(){this.reportForm=this.fb.group({maraudeActionId:["",Ze.required],reportDate:[new Date().toISOString().split("T")[0],Ze.required],startTime:["",Ze.required],endTime:["",Ze.required],beneficiariesCount:[0,[Ze.required,Ze.min(0)]],volunteersCount:[1,[Ze.required,Ze.min(1)]],generalNotes:[""],difficultiesEncountered:[""],positivePoints:[""],urgentSituationsDetails:[""],distributions:this.fb.array([]),alerts:this.fb.array([])}),this.isEditMode&&this.reportForm.get("maraudeActionId")?.disable()}loadData(){return Q(this,null,function*(){this.loading=!0;try{let n=yield we(this.reportService.getDistributionTypes());this.distributionTypes=n?.types||[];let t=yield we(this.apiService.getMaraudes());this.maraudeActions=t?.actions||[]}catch(n){console.error("Erreur chargement donn\xE9es:",n)}finally{this.loading=!1}})}loadReport(){return Q(this,null,function*(){if(this.reportId)try{let n=yield we(this.reportService.getReport(this.reportId));this.originalReport=n.report,console.log("Loaded report for editing:",this.originalReport),this.reportForm.patchValue({maraudeActionId:this.originalReport.maraudeActionId,reportDate:this.originalReport.reportDate,startTime:this.originalReport.startTime,endTime:this.originalReport.endTime,beneficiariesCount:this.originalReport.beneficiariesCount,volunteersCount:this.originalReport.volunteersCount,generalNotes:this.originalReport.generalNotes||"",difficultiesEncountered:this.originalReport.difficultiesEncountered||"",positivePoints:this.originalReport.positivePoints||"",urgentSituationsDetails:this.originalReport.urgentSituationsDetails||""}),this.originalReport.distributions&&this.originalReport.distributions.forEach(t=>{this.addDistribution();let r=this.distributions.length-1;this.distributions.at(r).patchValue({distributionTypeId:t.distributionTypeId,quantity:t.quantity,notes:t.notes||""})}),this.originalReport.alerts&&this.originalReport.alerts.forEach(t=>{this.addAlert();let r=this.alerts.length-1;this.alerts.at(r).patchValue({alertType:t.alertType,severity:t.severity,locationAddress:t.locationAddress||"",personDescription:t.personDescription||"",situationDescription:t.situationDescription,actionTaken:t.actionTaken||"",followUpRequired:t.followUpRequired||!1,followUpNotes:t.followUpNotes||""})})}catch(n){console.error("Error loading report:",n),alert("Erreur lors du chargement du rapport"),this.router.navigate(["/reports"])}})}setupDuplicateChecking(){this.reportForm.get("maraudeActionId")?.valueChanges.subscribe(()=>{this.resetDuplicateState(),setTimeout(()=>this.checkForExistingReport(),300)}),this.reportForm.get("reportDate")?.valueChanges.subscribe(()=>{this.resetDuplicateState(),setTimeout(()=>this.checkForExistingReport(),300)})}checkForExistingReport(){return Q(this,null,function*(){if(this.isEditMode)return!1;let n=this.reportForm.get("maraudeActionId")?.value,t=this.reportForm.get("reportDate")?.value;if(!n||!t)return this.resetDuplicateState(),!1;this.duplicateCheckInProgress=!0,this.duplicateCheckCompleted=!1;try{let r=yield we(this.reportService.checkDuplicateReport(n,t));return this.duplicateFound=r.exists,this.duplicateInfo=r.report||null,this.duplicateCheckCompleted=!0,r.exists}catch(r){return console.error("Error checking for duplicate:",r),this.resetDuplicateState(),!1}finally{this.duplicateCheckInProgress=!1}})}resetDuplicateState(){this.duplicateFound=!1,this.duplicateInfo=null,this.duplicateCheckCompleted=!1,this.duplicateCheckInProgress=!1}submitReport(){return Q(this,null,function*(){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}if(this.reportForm.invalid){this.reportForm.markAllAsTouched();return}if(!this.isEditMode&&(yield this.checkForExistingReport())){let o=this.duplicateInfo?`Un rapport existe d\xE9j\xE0 pour cette maraude le ${this.reportForm.get("reportDate")?.value}.

Cr\xE9\xE9 par: ${this.duplicateInfo.createdBy}
Date: ${this.duplicateInfo.createdDate}

Voulez-vous quand m\xEAme continuer ?`:"Un rapport existe d\xE9j\xE0 pour cette maraude \xE0 cette date. Continuer ?";if(!confirm(o))return}this.submitting=!0;let n=this.reportForm.value,t=z(E(E({},n),this.isEditMode?{}:{maraudeActionId:n.maraudeActionId}),{beneficiariesCount:parseInt(n.beneficiariesCount),volunteersCount:parseInt(n.volunteersCount),distributions:n.distributions.filter(i=>i.distributionTypeId&&i.quantity>0),alerts:n.alerts.filter(i=>i.alertType&&i.severity&&i.situationDescription)});console.log(`${this.isEditMode?"Updating":"Creating"} report:`,t),(this.isEditMode?this.reportService.updateReport(this.reportId,t):this.reportService.createReport(t)).subscribe({next:i=>{console.log(`Report ${this.isEditMode?"updated":"created"}:`,i.message),alert(`Rapport ${this.isEditMode?"mis \xE0 jour":"cr\xE9\xE9"} avec succ\xE8s !`),this.router.navigate(["/reports"])},error:i=>{console.error(`Error ${this.isEditMode?"updating":"creating"} report:`,i),i.status===409?alert(`${i.error.message}

${i.error.details||""}`):alert(`Erreur: ${i.error?.message||i.message}`),this.submitting=!1}})})}cancel(){this.router.navigate(["/reports"])}get distributions(){return this.reportForm.get("distributions")}addDistribution(){this.distributions.push(this.fb.group({distributionTypeId:["",Ze.required],quantity:[1,[Ze.required,Ze.min(1)]],notes:[""]}))}removeDistribution(n){this.distributions.removeAt(n)}get alerts(){return this.reportForm.get("alerts")}addAlert(){this.alerts.push(this.fb.group({alertType:["",Ze.required],severity:["",Ze.required],locationAddress:[""],personDescription:[""],situationDescription:["",Ze.required],actionTaken:[""],followUpRequired:[!1],followUpNotes:[""]}))}removeAlert(n){this.alerts.removeAt(n)}getDistributionsByCategory(n){return this.distributionTypes.filter(t=>t.category===n)}getCategoryLabel(n){return{meal:"Alimentation",hygiene:"Hygi\xE8ne",clothing:"V\xEAtements",medical:"M\xE9dical",other:"Autres"}[n]||n}getFieldError(n){let t=this.reportForm.get(n);if(t&&t.invalid&&t.touched){if(t.errors?.required)return"Ce champ est requis";if(t.errors?.min)return`Valeur minimum: ${t.errors?.min.min}`}return null}calculateDuration(){let n=this.reportForm.get("startTime")?.value,t=this.reportForm.get("endTime")?.value;if(n&&t){let r=new Date(`2000-01-01 ${n}`),o=new Date(`2000-01-01 ${t}`).getTime()-r.getTime(),s=Math.floor(o/(1e3*60*60)),a=Math.floor(o%(1e3*60*60)/(1e3*60));return`${s}h ${a}m`}return""}alertTypes=[{value:"medical",label:"M\xE9dical"},{value:"social",label:"Social"},{value:"security",label:"S\xE9curit\xE9"},{value:"housing",label:"Logement"},{value:"other",label:"Autre"}];severityLevels=[{value:"low",label:"Faible"},{value:"medium",label:"Moyenne"},{value:"high",label:"\xC9lev\xE9e"},{value:"critical",label:"Critique"}];static \u0275fac=function(t){return new(t||e)(C(oy),C(ar),C(ft),C(Me),C(dt),C(de))};static \u0275cmp=fe({type:e,selectors:[["app-report-form"]],standalone:!0,features:[pe],decls:12,vars:4,consts:[[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"inline-flex","items-center","text-sm","text-gray-500","hover:text-gray-700","mb-4",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","space-y-8",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"col-span-1","md:col-span-2","lg:col-span-3"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","maraudeActionId",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["type","date","formControlName","reportDate",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["class","bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4 mb-4",4,"ngIf"],["type","time","formControlName","startTime",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","time","formControlName","endTime",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","number","formControlName","beneficiariesCount","min","0",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","number","formControlName","volunteersCount","min","1",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-green-600","hover:bg-green-700",3,"click"],["formArrayName","distributions",1,"space-y-4"],["class","text-gray-500 text-center py-8",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700",3,"click"],["formArrayName","alerts",1,"space-y-6"],["class","border border-red-200 rounded-lg p-6 bg-red-50",3,"formGroupName",4,"ngFor","ngForOf"],["class","mt-6 pt-6 border-t",4,"ngIf"],[1,"space-y-6"],["formControlName","generalNotes","rows","4","placeholder","Observations g\xE9n\xE9rales...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-purple-500","focus:border-purple-500","sm:text-sm"],["formControlName","difficultiesEncountered","rows","3","placeholder","Probl\xE8mes, obstacles...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-purple-500","focus:border-purple-500","sm:text-sm"],["formControlName","positivePoints","rows","3","placeholder","Moments positifs, succ\xE8s...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-purple-500","focus:border-purple-500","sm:text-sm"],[1,"flex","justify-end","space-x-4"],["type","button",1,"px-6","py-3","border","border-gray-300","text-gray-700","bg-white","rounded-md","hover:bg-gray-50",3,"click"],["type","submit",1,"px-6","py-3","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],[3,"value"],[1,"mt-1","text-sm","text-red-600"],[1,"bg-yellow-50","border","border-yellow-200","rounded-md","p-4","mb-4"],[1,"flex"],[1,"flex-shrink-0"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-yellow-600"],[1,"ml-3"],[1,"text-sm","text-yellow-700"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-4"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-red-800"],[1,"text-sm","text-red-700","mt-1"],["class","text-sm text-red-600 mt-2 bg-red-100 p-2 rounded",4,"ngIf"],[1,"text-sm","text-red-600","mt-2","bg-red-100","p-2","rounded"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4","mb-4"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-green-700"],[1,"text-gray-500","text-center","py-8"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","p-4","border","rounded-lg",3,"formGroupName"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","distributionTypeId",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500","sm:text-sm"],["label","\u{1F37D}\uFE0F Alimentation",4,"ngIf"],["label","\u{1F9FC} Hygi\xE8ne",4,"ngIf"],["label","\u{1F455} V\xEAtements",4,"ngIf"],["label","\u{1F3E5} M\xE9dical",4,"ngIf"],["label","\u{1F527} Autres",4,"ngIf"],["type","number","formControlName","quantity","min","1",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500","sm:text-sm"],["type","text","formControlName","notes",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500","sm:text-sm"],[1,"flex","items-end"],["type","button",1,"w-full","px-3","py-2","border","border-red-300","text-sm","font-medium","rounded-md","text-red-700","bg-white","hover:bg-red-50",3,"click"],["label","\u{1F37D}\uFE0F Alimentation"],["label","\u{1F9FC} Hygi\xE8ne"],["label","\u{1F455} V\xEAtements"],["label","\u{1F3E5} M\xE9dical"],["label","\u{1F527} Autres"],[1,"border","border-red-200","rounded-lg","p-6","bg-red-50",3,"formGroupName"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["formControlName","alertType",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["formControlName","severity",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],[1,"mb-4"],["formControlName","situationDescription","rows","3","placeholder","D\xE9crivez la situation...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["type","text","formControlName","locationAddress","placeholder","Adresse...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["type","text","formControlName","personDescription","placeholder","\xC2ge, caract\xE9ristiques...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],["formControlName","actionTaken","rows","2","placeholder","Actions effectu\xE9es...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],[1,"flex","items-center"],["type","checkbox","formControlName","followUpRequired",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300","rounded"],[1,"ml-2","text-sm","text-gray-900"],["class","mb-4",4,"ngIf"],["type","button",1,"text-red-600","hover:text-red-800","text-sm",3,"click"],["formControlName","followUpNotes","rows","2","placeholder","Type de suivi n\xE9cessaire...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"],[1,"mt-6","pt-6","border-t"],["formControlName","urgentSituationsDetails","rows","3","placeholder","Informations compl\xE9mentaires...",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-red-500","focus:border-red-500","sm:text-sm"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"button",1),M("click",function(){return r.goBack()}),N(),u(2,"svg",2),_(3,"path",3),c(),f(4," Retour au dashboard "),c(),V(),u(5,"div",4)(6,"h2",5),f(7),c(),u(8,"p",6),f(9),c()(),w(10,MS,2,0,"div",7)(11,nT,83,18,"form",8),c()),t&2&&(p(7),T(" ",r.isEditMode?"Modifier le compte-rendu":"Cr\xE9er un compte-rendu"," "),p(2),T(" ",r.isEditMode?"Modifiez les informations du rapport ci-dessous.":"Remplissez les informations ci-dessous pour enregistrer votre rapport de maraude."," "),p(),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[ge,Xe,Se,sy,ir,or,sr,Ot,$o,kr,un,kt,rr,Ho,xl,Rf,El,Ml]})};function rT(e,n){e&1&&(u(0,"div",7),_(1,"div",8),c())}function iT(e,n){e&1&&(u(0,"div",12),f(1," Aucun rapport trouv\xE9. "),u(2,"a",13),f(3,"Cr\xE9er le premier"),c()())}function oT(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),ie(t.maraudeAction.title)}}function sT(e,n){if(e&1&&(u(0,"span"),f(1),c()),e&2){let t=v().$implicit;p(),Ce("par ",t.creator.firstName," ",t.creator.lastName,"")}}function aT(e,n){e&1&&(u(0,"span",29),f(1,"\u26A0 Situations urgentes"),c())}function lT(e,n){if(e&1){let t=Z();u(0,"button",30),M("click",function(){I(t);let i=v().$implicit,o=v(3);return S(o.editReport(i))}),f(1," Modifier "),c()}}function cT(e,n){if(e&1){let t=Z();u(0,"button",31),M("click",function(){I(t);let i=v().$implicit,o=v(3);return S(o.deleteReport(i))}),f(1," Supprimer "),c()}}function uT(e,n){if(e&1&&(u(0,"li",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h3",20),f(5),c(),u(6,"span",21),f(7),c()(),u(8,"div",22)(9,"div",23)(10,"span"),f(11),c(),u(12,"span"),f(13),c(),u(14,"span"),f(15),c()(),u(16,"div",23),w(17,oT,2,1,"span",24)(18,sT,2,2,"span",24)(19,aT,2,0,"span",25),c()()(),u(20,"div",26),w(21,lT,2,0,"button",27)(22,cT,2,0,"button",28),c()()()),e&2){let t=n.$implicit,r=v(3);p(5),T(" Rapport du ",r.formatDate(t.reportDate)," "),p(),Ir(r.getStatusClass(t.status)),p(),T(" ",r.getStatusLabel(t.status)," "),p(4),Ce("",r.formatTime(t.startTime)," - ",r.formatTime(t.endTime),""),p(2),T("",t.beneficiariesCount," b\xE9n\xE9ficiaires"),p(2),T("",t.volunteersCount," b\xE9n\xE9voles"),p(2),g("ngIf",t.maraudeAction),p(),g("ngIf",t.creator),p(),g("ngIf",t.hasUrgentSituations),p(2),g("ngIf",r.canEdit(t)),p(),g("ngIf",r.canDelete(t))}}function dT(e,n){if(e&1&&(u(0,"ul",14),w(1,uT,23,13,"li",15),c()),e&2){let t=v(2);p(),g("ngForOf",t.reports)}}function fT(e,n){if(e&1&&(u(0,"div",9),w(1,iT,4,0,"div",10)(2,dT,2,1,"ul",11),c()),e&2){let t=v();p(),g("ngIf",t.reports.length===0),p(),g("ngIf",t.reports.length>0)}}var Ol=class e{constructor(n,t,r){this.reportService=n;this.authService=t;this.router=r}reports=[];loading=!1;ngOnInit(){this.loadReports()}loadReports(){this.loading=!0,this.reportService.getReports().subscribe({next:n=>{this.reports=n.reports||[],console.log("Reports loaded:",this.reports),this.loading=!1},error:n=>{console.error("Erreur chargement rapports:",n),this.loading=!1}})}viewReport(n){console.log("Voir rapport:",n),this.router.navigate(["/reports",n.id])}editReport(n){console.log("Modifier rapport:",n),this.router.navigate(["/reports",n.id,"edit"])}validateReport(n){confirm("Valider ce rapport d\xE9finitivement ?")&&this.reportService.validateReport(n.id).subscribe({next:()=>{console.log("Rapport valid\xE9"),alert("Rapport valid\xE9 avec succ\xE8s !"),this.loadReports()},error:t=>{console.error("Erreur validation:",t),alert("Erreur lors de la validation du rapport")}})}deleteReport(n){let t=`\xCAtes-vous s\xFBr de vouloir supprimer ce rapport ?

Rapport du ${this.formatDate(n.reportDate)}
Statut: ${this.getStatusLabel(n.status)}

Cette action est irr\xE9versible.`;confirm(t)&&this.reportService.deleteReport(n.id).subscribe({next:()=>{console.log("Rapport supprim\xE9"),alert("Rapport supprim\xE9 avec succ\xE8s"),this.loadReports()},error:r=>{console.error("Erreur suppression:",r),alert("Erreur lors de la suppression du rapport")}})}canEdit(n){let t=this.authService.getCurrentUser();return t?t.role==="admin"||t.role==="coordinator"&&n.creator?.associationId===t.associationId||n.creator?.id===t.id&&(n.status==="submitted"||n.status==="draft"):!1}canDelete(n){let t=this.authService.getCurrentUser();return t?t.role==="admin"||t.role==="coordinator"&&n.status!=="validated"&&n.creator?.associationId===t.associationId||n.creator?.id===t.id&&n.status!=="validated":!1}canValidate(n){let t=this.authService.getCurrentUser();return!t||!["coordinator","admin"].includes(t.role)||n.status!=="submitted"?!1:t.role==="admin"?!0:n.creator?.associationId===t.associationId}formatDate(n){return new Date(n).toLocaleDateString("fr-FR")}getStatusLabel(n){return{draft:"Brouillon",submitted:"Soumis",validated:"Valid\xE9"}[n]||n}getStatusClass(n){return{draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",validated:"bg-green-100 text-green-800"}[n]||"bg-gray-100 text-gray-800"}formatTime(n){return n?n.substring(0,5):""}static \u0275fac=function(t){return new(t||e)(C(ar),C(Me),C(de))};static \u0275cmp=fe({type:e,selectors:[["app-report-list"]],standalone:!0,features:[pe],decls:11,vars:2,consts:[[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],["routerLink","/reports/create",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700"],["class","text-center py-8",4,"ngIf"],["class","bg-white shadow overflow-hidden rounded-md",4,"ngIf"],[1,"text-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600","mx-auto"],[1,"bg-white","shadow","overflow-hidden","rounded-md"],["class","text-center py-12 text-gray-500",4,"ngIf"],["class","divide-y divide-gray-200",4,"ngIf"],[1,"text-center","py-12","text-gray-500"],["routerLink","/reports/create",1,"text-blue-600","hover:underline"],[1,"divide-y","divide-gray-200"],["class","px-6 py-4 hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"px-6","py-4","hover:bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"flex-1"],[1,"flex","items-center","space-x-4","mb-2"],[1,"text-lg","font-medium","text-gray-900"],[1,"px-2","py-1","text-xs","rounded-full"],[1,"text-sm","text-gray-500","space-y-1"],[1,"flex","space-x-4"],[4,"ngIf"],["class","text-red-600 font-medium",4,"ngIf"],[1,"flex","space-x-1","ml-4"],["class","inline-flex items-center px-3 py-1 border border-green-300 text-sm text-green-700 bg-white rounded-md hover:bg-green-50","title","Modifier le rapport",3,"click",4,"ngIf"],["class","inline-flex items-center px-3 py-1 border border-red-300 text-sm text-red-700 bg-white rounded-md hover:bg-red-50","title","Supprimer le rapport",3,"click",4,"ngIf"],[1,"text-red-600","font-medium"],["title","Modifier le rapport",1,"inline-flex","items-center","px-3","py-1","border","border-green-300","text-sm","text-green-700","bg-white","rounded-md","hover:bg-green-50",3,"click"],["title","Supprimer le rapport",1,"inline-flex","items-center","px-3","py-1","border","border-red-300","text-sm","text-red-700","bg-white","rounded-md","hover:bg-red-50",3,"click"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),f(4,"Comptes-rendus"),c(),u(5,"p",3),f(6,"G\xE9rez les rapports de maraude"),c()(),u(7,"a",4),f(8," + Nouveau rapport "),c()(),w(9,rT,2,0,"div",5)(10,fT,3,2,"div",6),c()),t&2&&(p(9),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[ge,Xe,Se,ul,Ti],encapsulation:2})};function pT(e,n){e&1&&(u(0,"div",22),_(1,"div",23),u(2,"p",24),f(3,"Chargement..."),c()())}function hT(e,n){if(e&1&&(u(0,"div",51),f(1),Sr(2,"slice"),c()),e&2){let t=v().$implicit;p(),Ce(" ",Rg(2,2,t.description,0,50),"",t.description.length>50?"...":""," ")}}function mT(e,n){if(e&1&&(u(0,"div",51),f(1),c()),e&2){let t=v().$implicit;p(),T(" ",t.phone," ")}}function gT(e,n){if(e&1&&(u(0,"a",52),f(1," Site web \u2197 "),c()),e&2){let t=v().$implicit;g("href",t.website,Zu)}}function vT(e,n){if(e&1){let t=Z();u(0,"tr",34)(1,"td",35)(2,"div",36)(3,"div")(4,"div",37),f(5),c(),w(6,hT,3,6,"div",38),c()()(),u(7,"td",35)(8,"div",39),f(9),c(),w(10,mT,2,1,"div",38)(11,gT,2,1,"a",40),c(),u(12,"td",35)(13,"div",39),f(14),c()(),u(15,"td",35)(16,"span",41),f(17),c()(),u(18,"td",42)(19,"button",43),M("click",function(){let i=I(t).$implicit,o=v(2);return S(o.viewDetails(i.id))}),N(),u(20,"svg",44),_(21,"path",45)(22,"path",46),c()(),V(),u(23,"button",47),M("click",function(){let i=I(t).$implicit,o=v(2);return S(o.openEditModal(i))}),N(),u(24,"svg",44),_(25,"path",48),c()(),V(),u(26,"button",49),M("click",function(){let i=I(t).$implicit,o=v(2);return S(o.toggleActiveStatus(i))}),N(),u(27,"svg",44),_(28,"path",50),c()()()()}if(e&2){let t=n.$implicit;p(5),T(" ",t.name," "),p(),g("ngIf",t.description),p(3),ie(t.email),p(),g("ngIf",t.phone),p(),g("ngIf",t.website),p(3),T(" ",t.address||"Non renseign\xE9e"," "),p(2),Ir(t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),p(),T(" ",t.isActive?"Active":"Inactive"," "),p(9),Ir(t.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),g("title",t.isActive?"D\xE9sactiver":"Activer")}}function yT(e,n){e&1&&(u(0,"tr")(1,"td",53),N(),u(2,"svg",54),_(3,"path",55),c(),f(4," Aucune association trouv\xE9e "),c()())}function bT(e,n){if(e&1){let t=Z();u(0,"button",61),M("click",function(){let i=I(t).$implicit,o=v(3);return S(o.goToPage(i))}),f(1),c()}if(e&2){let t=n.$implicit,r=v(3);gt("bg-blue-600",t===r.currentPage)("text-white",t===r.currentPage)("hover:bg-gray-50",t!==r.currentPage),p(),T(" ",t," ")}}function _T(e,n){if(e&1){let t=Z();u(0,"div",56)(1,"div",57),f(2),c(),u(3,"div",58)(4,"button",59),M("click",function(){I(t);let i=v(2);return S(i.goToPage(i.currentPage-1))}),f(5," Pr\xE9c\xE9dent "),c(),w(6,bT,2,7,"button",60),u(7,"button",59),M("click",function(){I(t);let i=v(2);return S(i.goToPage(i.currentPage+1))}),f(8," Suivant "),c()()()}if(e&2){let t=v(2);p(2),Ce(" Page ",t.currentPage," sur ",t.totalPages," "),p(2),g("disabled",t.currentPage===1),p(2),g("ngForOf",t.paginationPages),p(),g("disabled",t.currentPage===t.totalPages)}}function wT(e,n){if(e&1&&(u(0,"div")(1,"div",25),f(2),c(),u(3,"div",26)(4,"table",27)(5,"thead",28)(6,"tr")(7,"th",29),f(8," Association "),c(),u(9,"th",29),f(10," Contact "),c(),u(11,"th",29),f(12," Localisation "),c(),u(13,"th",29),f(14," Statut "),c(),u(15,"th",30),f(16," Actions "),c()()(),u(17,"tbody",31),w(18,vT,29,12,"tr",32)(19,yT,5,0,"tr",20),c()()(),w(20,_T,9,5,"div",33),c()),e&2){let t=v();p(2),Ce(" ",t.filteredAssociations.length," association(s) affich\xE9e(s) sur ",t.totalAssociations," au total "),p(16),g("ngForOf",t.filteredAssociations),p(),g("ngIf",t.filteredAssociations.length===0),p(),g("ngIf",t.totalPages>1)}}function CT(e,n){if(e&1&&(u(0,"div",86)(1,"p",87),f(2),c()()),e&2){let t=v(2);p(2),ie(t.submitError)}}function DT(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),T(" ",t.formErrors.name," ")}}function xT(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),T(" ",t.formErrors.email," ")}}function ET(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),T(" ",t.formErrors.phone," ")}}function MT(e,n){if(e&1&&(u(0,"p",88),f(1),c()),e&2){let t=v(2);p(),T(" ",t.formErrors.website," ")}}function IT(e,n){if(e&1){let t=Z();u(0,"div")(1,"label",36)(2,"input",89),J("ngModelChange",function(i){I(t);let o=v(2);return X(o.formData.isActive,i)||(o.formData.isActive=i),S(i)}),c(),u(3,"span",90),f(4,"Association active"),c()()()}if(e&2){let t=v(2);p(2),K("ngModel",t.formData.isActive)}}function ST(e,n){if(e&1){let t=Z();u(0,"div",62)(1,"div",63)(2,"div",64),M("click",function(){I(t);let i=v();return S(i.closeModal())}),c(),u(3,"div",65)(4,"div",66)(5,"div",67)(6,"h3",68),f(7),c(),u(8,"button",69),M("click",function(){I(t);let i=v();return S(i.closeModal())}),N(),u(9,"svg",70),_(10,"path",71),c()()()(),V(),u(11,"form",72),M("ngSubmit",function(){I(t);let i=v();return S(i.onSubmit())}),w(12,CT,3,1,"div",73),u(13,"div",74)(14,"div")(15,"label",75),f(16," Nom de l'association * "),c(),u(17,"input",76),J("ngModelChange",function(i){I(t);let o=v();return X(o.formData.name,i)||(o.formData.name=i),S(i)}),c(),w(18,DT,2,1,"p",77),c(),u(19,"div")(20,"label",75),f(21," Email * "),c(),u(22,"input",78),J("ngModelChange",function(i){I(t);let o=v();return X(o.formData.email,i)||(o.formData.email=i),S(i)}),c(),w(23,xT,2,1,"p",77),c(),u(24,"div")(25,"label",75),f(26," Description "),c(),u(27,"textarea",79),J("ngModelChange",function(i){I(t);let o=v();return X(o.formData.description,i)||(o.formData.description=i),S(i)}),c()(),u(28,"div")(29,"label",75),f(30," T\xE9l\xE9phone "),c(),u(31,"input",80),J("ngModelChange",function(i){I(t);let o=v();return X(o.formData.phone,i)||(o.formData.phone=i),S(i)}),c(),w(32,ET,2,1,"p",77),c(),u(33,"div")(34,"label",75),f(35," Adresse "),c(),u(36,"textarea",81),J("ngModelChange",function(i){I(t);let o=v();return X(o.formData.address,i)||(o.formData.address=i),S(i)}),c()(),u(37,"div")(38,"label",75),f(39," Site web "),c(),u(40,"input",82),J("ngModelChange",function(i){I(t);let o=v();return X(o.formData.website,i)||(o.formData.website=i),S(i)}),c(),w(41,MT,2,1,"p",77),c(),w(42,IT,5,1,"div",20),c(),u(43,"div",83)(44,"button",84),M("click",function(){I(t);let i=v();return S(i.closeModal())}),f(45," Annuler "),c(),u(46,"button",85),f(47),c()()()()()()}if(e&2){let t=v();p(7),T(" ",t.editingAssociation?"Modifier l'association":"Cr\xE9er une association"," "),p(5),g("ngIf",t.submitError),p(5),gt("border-red-500",t.formErrors.name),K("ngModel",t.formData.name),p(),g("ngIf",t.formErrors.name),p(4),gt("border-red-500",t.formErrors.email),K("ngModel",t.formData.email),p(),g("ngIf",t.formErrors.email),p(4),K("ngModel",t.formData.description),p(4),gt("border-red-500",t.formErrors.phone),K("ngModel",t.formData.phone),p(),g("ngIf",t.formErrors.phone),p(4),K("ngModel",t.formData.address),p(4),gt("border-red-500",t.formErrors.website),K("ngModel",t.formData.website),p(),g("ngIf",t.formErrors.website),p(),g("ngIf",t.isAdmin&&t.editingAssociation),p(5),T(" ",t.editingAssociation?"Mettre \xE0 jour":"Cr\xE9er"," ")}}var kl=class e{constructor(n,t,r){this.associationService=n;this.authService=t;this.router=r}associations=[];filteredAssociations=[];loading=!0;isAdmin=!1;filterActive="all";searchQuery="";currentPage=1;pageSize=10;totalPages=0;totalAssociations=0;showModal=!1;editingAssociation=null;formData={name:"",description:"",email:"",phone:"",address:"",website:"",isActive:!0};formErrors={};submitError="";ngOnInit(){let n=this.authService.getCurrentUser();if(this.isAdmin=n?.role==="admin",!this.isAdmin){this.router.navigate(["/dashboard"]);return}this.loadAssociations()}loadAssociations(){return Q(this,null,function*(){this.loading=!0;try{let n=yield we(this.associationService.getAssociations({page:this.currentPage,limit:this.pageSize,active:this.filterActive}));this.associations=n.associations,this.filteredAssociations=[...this.associations],this.totalAssociations=n.pagination.total,this.totalPages=n.pagination.pages,this.applyFilters()}catch(n){console.error("Erreur chargement associations:",n),alert("Erreur lors du chargement des associations")}finally{this.loading=!1}})}applyFilters(){let n=[...this.associations];if(this.searchQuery.trim()){let t=this.searchQuery.toLowerCase();n=n.filter(r=>r.name.toLowerCase().includes(t)||r.email.toLowerCase().includes(t)||r.address?.toLowerCase().includes(t))}this.filteredAssociations=n}onFilterChange(){this.currentPage=1,this.loadAssociations()}onSearchChange(){this.applyFilters()}openCreateModal(){this.editingAssociation=null,this.formData={name:"",description:"",email:"",phone:"",address:"",website:"",isActive:!0},this.formErrors={},this.submitError="",this.showModal=!0}openEditModal(n){this.editingAssociation=n,this.formData={name:n.name,description:n.description,email:n.email,phone:n.phone,address:n.address,website:n.website,isActive:n.isActive},this.formErrors={},this.submitError="",this.showModal=!0}closeModal(){this.showModal=!1,this.editingAssociation=null,this.formData={name:"",description:"",email:"",phone:"",address:"",website:"",isActive:!0},this.formErrors={},this.submitError=""}validateForm(){this.formErrors={};let n=!0;(!this.formData.name||this.formData.name.trim().length<2)&&(this.formErrors.name="Le nom doit contenir au moins 2 caract\xE8res",n=!1);let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!this.formData.email||!t.test(this.formData.email))&&(this.formErrors.email="Email invalide",n=!1),this.formData.phone&&this.formData.phone.trim()!==""&&this.formData.phone.replace(/\s/g,"").length<10&&(this.formErrors.phone="Le t\xE9l\xE9phone doit contenir au moins 10 chiffres",n=!1),this.formData.website&&this.formData.website.trim()!==""&&(/^https?:\/\/.+\..+/i.test(this.formData.website)||(this.formErrors.website="URL invalide (doit commencer par http:// ou https://)",n=!1)),console.log("\u{1F50D} Validation:",{isValid:n,errors:this.formErrors,data:this.formData}),n}goBack(){this.router.navigate(["/dashboard"])}submitForm(){return Q(this,null,function*(){if(this.validateForm()){this.submitError="";try{let n={name:this.formData.name.trim(),description:this.formData.description?.trim()||"",email:this.formData.email.trim().toLowerCase(),phone:this.formData.phone?.trim()||"",address:this.formData.address?.trim()||"",website:this.formData.website?.trim()||""};if(console.log("\u{1F4E4} Envoi formulaire nettoy\xE9:",n),this.editingAssociation)yield we(this.associationService.updateAssociation(this.editingAssociation.id,n)),alert("Association modifi\xE9e avec succ\xE8s");else{let t=yield we(this.associationService.createAssociation(n));console.log("\u2705 Association cr\xE9\xE9e:",t),alert("Association cr\xE9\xE9e avec succ\xE8s")}this.closeModal(),this.loadAssociations()}catch(n){console.error("\u274C Erreur soumission compl\xE8te:",n),console.error("\u274C Error response:",n.error),n.status===400||n.status===409?n.error?.details?(this.formErrors=n.error.details,this.submitError=n.error.message||"Erreur de validation"):this.submitError=n.error?.message||"Donn\xE9es invalides":this.submitError="Une erreur est survenue lors de l'enregistrement"}}})}isValidEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}isValidUrl(n){try{return new URL(n),!0}catch{return!1}}onSubmit(){return Q(this,null,function*(){if(this.validateForm()){this.submitError="";try{if(this.editingAssociation){let n={name:this.formData.name,description:this.formData.description,email:this.formData.email,phone:this.formData.phone,address:this.formData.address,website:this.formData.website,isActive:this.formData.isActive};yield we(this.associationService.updateAssociation(this.editingAssociation.id,n)),alert("Association mise \xE0 jour avec succ\xE8s")}else yield we(this.associationService.createAssociation(this.formData)),alert("Association cr\xE9\xE9e avec succ\xE8s");this.closeModal(),this.loadAssociations()}catch(n){console.error("Erreur:",n),this.submitError=n.error?.error||"Une erreur est survenue"}}})}toggleActiveStatus(n){return Q(this,null,function*(){if(confirm(`Voulez-vous ${n.isActive?"d\xE9sactiver":"activer"} cette association ?`))try{yield we(this.associationService.updateAssociation(n.id,{isActive:!n.isActive})),this.loadAssociations()}catch(t){console.error("Erreur:",t),alert("Erreur lors de la modification du statut")}})}viewDetails(n){this.router.navigate(["/dashboard/associations",n])}goToPage(n){n>=1&&n<=this.totalPages&&(this.currentPage=n,this.loadAssociations())}get paginationPages(){let n=[],r=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(this.totalPages,r+5-1);i-r+1<5&&(r=Math.max(1,i-5+1));for(let o=r;o<=i;o++)n.push(o);return n}formatDate(n){return n?new Date(n).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}formatDateTime(n){return n?new Date(n).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}static \u0275fac=function(t){return new(t||e)(C(ft),C(Me),C(de))};static \u0275cmp=fe({type:e,selectors:[["app-associations"]],standalone:!0,features:[pe],decls:35,vars:5,consts:[[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-8"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"inline-flex","items-center","text-sm","text-gray-500","hover:text-gray-700","mb-4",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"btn","btn-primary","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"bg-white","shadow","rounded-lg","p-6","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Nom, email, adresse...",1,"input-field",3,"ngModelChange","input","ngModel"],[1,"input-field",3,"ngModelChange","change","ngModel"],["value","all"],["value","true"],["value","false"],["class","text-center py-12",4,"ngIf"],[4,"ngIf"],["class","fixed z-10 inset-0 overflow-y-auto",4,"ngIf"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"mt-4","text-gray-600"],[1,"mb-4","text-sm","text-gray-600"],[1,"bg-white","shadow","rounded-lg","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["class","mt-6 flex items-center justify-between",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4"],[1,"flex","items-center"],[1,"text-sm","font-medium","text-gray-900"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-900"],["target","_blank","class","text-sm text-blue-600 hover:text-blue-500",3,"href",4,"ngIf"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],[1,"px-6","py-4","text-right","text-sm","font-medium"],["title","Voir d\xE9tails",1,"text-blue-600","hover:text-blue-900","mr-3",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Modifier",1,"text-indigo-600","hover:text-indigo-900","mr-3",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],[1,"text-sm","text-gray-500"],["target","_blank",1,"text-sm","text-blue-600","hover:text-blue-500",3,"href"],["colspan","5",1,"px-6","py-12","text-center","text-gray-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"mt-6","flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"flex","space-x-2"],[1,"px-3","py-2","border","rounded-md","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-gray-50",3,"click","disabled"],["class","px-3 py-2 border rounded-md",3,"bg-blue-600","text-white","hover:bg-gray-50","click",4,"ngFor","ngForOf"],[1,"px-3","py-2","border","rounded-md",3,"click"],[1,"fixed","z-10","inset-0","overflow-y-auto"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-2xl","sm:w-full"],[1,"bg-white","px-6","pt-5","pb-4"],[1,"flex","items-center","justify-between"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-gray-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-6","pb-6",3,"ngSubmit"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-md",4,"ngIf"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","name","name","required","",1,"input-field",3,"ngModelChange","ngModel"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["type","email","name","email","required","",1,"input-field",3,"ngModelChange","ngModel"],["name","description","rows","3","placeholder","D\xE9crivez l'association...",1,"input-field",3,"ngModelChange","ngModel"],["type","tel","name","phone",1,"input-field",3,"ngModelChange","ngModel"],["name","address","rows","2","placeholder","Adresse compl\xE8te...",1,"input-field",3,"ngModelChange","ngModel"],["type","url","name","website","placeholder","https://...",1,"input-field",3,"ngModelChange","ngModel"],[1,"mt-6","flex","justify-end","space-x-3"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-md"],[1,"text-sm","text-red-800"],[1,"mt-1","text-sm","text-red-600"],["type","checkbox","name","isActive",1,"rounded","border-gray-300","text-blue-600","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"ml-2","text-sm","text-gray-700"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),f(5,"Gestion des Associations"),c(),u(6,"p",4),f(7,"G\xE9rez toutes les associations de la plateforme"),c()(),u(8,"button",5),M("click",function(){return r.goBack()}),N(),u(9,"svg",6),_(10,"path",7),c(),f(11," Retour au dashboard "),c(),V(),u(12,"button",8),M("click",function(){return r.openCreateModal()}),N(),u(13,"svg",9),_(14,"path",10),c(),f(15," Cr\xE9er une association "),c()()(),V(),u(16,"div",11)(17,"div",12)(18,"div")(19,"label",13),f(20,"Rechercher"),c(),u(21,"input",14),J("ngModelChange",function(o){return X(r.searchQuery,o)||(r.searchQuery=o),o}),M("input",function(){return r.onSearchChange()}),c()(),u(22,"div")(23,"label",13),f(24,"Statut"),c(),u(25,"select",15),J("ngModelChange",function(o){return X(r.filterActive,o)||(r.filterActive=o),o}),M("change",function(){return r.onFilterChange()}),u(26,"option",16),f(27,"Toutes"),c(),u(28,"option",17),f(29,"Actives"),c(),u(30,"option",18),f(31,"Inactives"),c()()()()(),w(32,pT,4,0,"div",19)(33,wT,21,5,"div",20),c(),w(34,ST,48,22,"div",21)),t&2&&(p(21),K("ngModel",r.searchQuery),p(4),K("ngModel",r.filterActive),p(7),g("ngIf",r.loading),p(),g("ngIf",!r.loading),p(),g("ngIf",r.showModal))},dependencies:[ge,Xe,Se,i0,Pt,ir,or,sr,Ot,kr,un,kt,rr,Fr,Zt,Pr]})};function TT(e,n){e&1&&(u(0,"span",16),f(1,"(toutes associations)"),c())}function AT(e,n){e&1&&(u(0,"div",17),_(1,"div",18),u(2,"p",19),f(3,"Chargement des maraudes..."),c()())}function NT(e,n){if(e&1){let t=Z();u(0,"div",44),N(),u(1,"svg",45),_(2,"path",46),c(),V(),u(3,"h3",47),f(4,"Aucune maraude trouv\xE9e"),c(),u(5,"p",48),f(6,"Essayez de modifier vos filtres ou cr\xE9ez une nouvelle maraude."),c(),u(7,"button",49),M("click",function(){I(t);let i=v(2);return S(i.navigateToAddMaraude())}),N(),u(8,"svg",12),_(9,"path",13),c(),f(10," Cr\xE9er une maraude "),c()()}}function RT(e,n){if(e&1&&(u(0,"div",64)(1,"span",65),N(),u(2,"svg",66),_(3,"path",67),c(),f(4),c()()),e&2){let t=v().$implicit;p(4),T(" ",t.association.name," ")}}function OT(e,n){if(e&1&&(u(0,"p",68),f(1),c()),e&2){let t=v().$implicit;p(),T(' "',t.description,'" ')}}function kT(e,n){if(e&1){let t=Z();u(0,"div",52),M("click",function(){let i=I(t).$implicit,o=v(3);return S(o.navigateToMaraude(i.id))}),u(1,"div",53)(2,"div",54)(3,"h3",55),f(4),c(),u(5,"span",56),f(6),c()(),w(7,RT,5,1,"div",57),c(),u(8,"div",58)(9,"div",59),N(),u(10,"svg",60),_(11,"path",61),c(),V(),u(12,"span",62),f(13),c()(),w(14,OT,2,1,"p",63),c()()}if(e&2){let t=n.$implicit,r=v(3);p(4),ie(t.title),p(),g("ngClass",r.getStatusClass(t.status)),p(),T(" ",r.getStatusText(t.status)," "),p(),g("ngIf",r.isAdmin&&t.association),p(6),Ce("\u{1F504} Tous les ",t.dayName,"s \xE0 ",t.startTime,""),p(),g("ngIf",t.description)}}function PT(e,n){if(e&1&&(u(0,"div",50),w(1,kT,15,7,"div",51),c()),e&2){let t=v(2);p(),g("ngForOf",t.filteredMaraudes)}}function FT(e,n){if(e&1){let t=Z();u(0,"div",20)(1,"div",21)(2,"h2",22),N(),u(3,"svg",23),_(4,"path",24),c(),f(5," Filtres et recherche "),c(),V(),u(6,"div",25)(7,"div")(8,"label",26),N(),u(9,"svg",27),_(10,"path",28),c(),f(11," Rechercher "),c(),V(),u(12,"input",29),J("ngModelChange",function(i){I(t);let o=v();return X(o.searchTerm,i)||(o.searchTerm=i),S(i)}),M("ngModelChange",function(){I(t);let i=v();return S(i.onSearchChange())}),c()(),u(13,"div")(14,"label",26),N(),u(15,"svg",27),_(16,"path",30),c(),f(17," Statut "),c(),V(),u(18,"select",31),J("ngModelChange",function(i){I(t);let o=v();return X(o.statusFilter,i)||(o.statusFilter=i),S(i)}),M("ngModelChange",function(){I(t);let i=v();return S(i.onStatusFilterChange())}),u(19,"option",32),f(20,"Tous les statuts"),c(),u(21,"option",33),f(22,"Planifi\xE9es"),c(),u(23,"option",34),f(24,"En cours"),c(),u(25,"option",35),f(26,"Termin\xE9es"),c(),u(27,"option",36),f(28,"Annul\xE9es"),c()()(),u(29,"div")(30,"label",26),N(),u(31,"svg",27),_(32,"path",37),c(),f(33," Trier par "),c(),V(),u(34,"select",31),J("ngModelChange",function(i){I(t);let o=v();return X(o.sortBy,i)||(o.sortBy=i),S(i)}),M("ngModelChange",function(){I(t);let i=v();return S(i.onSortChange())}),u(35,"option",38),f(36,"Date (plus r\xE9cent)"),c(),u(37,"option",39),f(38,"Date (plus ancien)"),c(),u(39,"option",40),f(40,"Titre (A-Z)"),c(),u(41,"option",41),f(42,"B\xE9n\xE9ficiaires (plus)"),c()()()()(),w(43,NT,11,0,"div",42)(44,PT,2,1,"div",43),c()}if(e&2){let t=v();p(12),K("ngModel",t.searchTerm),p(6),K("ngModel",t.statusFilter),p(16),K("ngModel",t.sortBy),p(9),g("ngIf",t.filteredMaraudes.length===0),p(),g("ngIf",t.filteredMaraudes.length>0)}}var Pl=class e{constructor(n,t,r){this.apiService=n;this.authService=t;this.router=r}maraudes=[];filteredMaraudes=[];currentUser=null;isAdmin=!1;loading=!0;searchTerm="";statusFilter="all";sortBy="date-desc";ngOnInit(){return Q(this,null,function*(){this.currentUser=this.authService.getCurrentUser(),this.isAdmin=this.currentUser?.role==="admin",yield this.loadMaraudes()})}loadMaraudes(){return Q(this,null,function*(){try{this.loading=!0;let n=yield we(this.apiService.getMaraudes());this.maraudes=n?.actions||[],this.applyFilters(),console.log("\u2705 Maraudes loaded:",this.maraudes.length)}catch(n){console.error("\u274C Error loading maraudes:",n),this.maraudes=[],this.filteredMaraudes=[]}finally{this.loading=!1}})}applyFilters(){let n=[...this.maraudes];if(this.searchTerm){let t=this.searchTerm.toLowerCase();n=n.filter(r=>r.title?.toLowerCase().includes(t)||r.address?.toLowerCase().includes(t)||r.description?.toLowerCase().includes(t))}this.statusFilter!=="all"&&(n=n.filter(t=>t.status===this.statusFilter)),n.sort((t,r)=>{switch(this.sortBy){case"date-desc":let i=t.scheduledDate?new Date(t.scheduledDate).getTime():0;return(r.scheduledDate?new Date(r.scheduledDate).getTime():0)-i;case"date-asc":let s=t.scheduledDate?new Date(t.scheduledDate).getTime():0,a=r.scheduledDate?new Date(r.scheduledDate).getTime():0;return s-a;case"title":return(t.title||"").localeCompare(r.title||"");case"beneficiaries":return(r.beneficiariesHelped||0)-(t.beneficiariesHelped||0);default:return 0}}),this.filteredMaraudes=n}onSearchChange(){this.applyFilters()}onStatusFilterChange(){this.applyFilters()}onSortChange(){this.applyFilters()}navigateToMaraude(n){console.log(n),this.router.navigate(["/dashboard/edit-maraude",n])}navigateToAddMaraude(){this.router.navigate(["/dashboard/add-maraude"])}goBack(){this.router.navigate(["/dashboard"])}getStatusClass(n){return{planned:"bg-blue-100 text-blue-800",in_progress:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800"}getStatusText(n){return{planned:"Planifi\xE9e",in_progress:"En cours",completed:"Termin\xE9e",cancelled:"Annul\xE9e"}[n]||n}formatDate(n){if(!n)return"Date non d\xE9finie";try{return(typeof n=="string"?new Date(n):n).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}}formatTime(n){return n?n.substring(0,5):"--:--"}static \u0275fac=function(t){return new(t||e)(C(ft),C(Me),C(de))};static \u0275cmp=fe({type:e,selectors:[["app-maraude-list"]],standalone:!0,features:[pe],decls:20,vars:6,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],["class","text-indigo-600 font-medium",4,"ngIf"],[1,"flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","shadow-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["class","flex flex-col items-center justify-center py-20",4,"ngIf"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",4,"ngIf"],[1,"text-indigo-600","font-medium"],[1,"flex","flex-col","items-center","justify-center","py-20"],[1,"inline-block","animate-spin","rounded-full","h-12","w-12","border-4","border-blue-600","border-t-transparent"],[1,"mt-4","text-gray-600","font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6","mb-8"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","mr-2","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"inline","h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Titre, adresse, description...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors",3,"ngModelChange","ngModel"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors",3,"ngModelChange","ngModel"],["value","all"],["value","planned"],["value","in_progress"],["value","completed"],["value","cancelled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"],["value","date-desc"],["value","date-asc"],["value","title"],["value","beneficiaries"],["class","text-center py-16 bg-white rounded-lg shadow-sm border border-gray-200",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],[1,"text-center","py-16","bg-white","rounded-lg","shadow-sm","border","border-gray-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-16","w-16","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"mt-4","text-lg","font-medium","text-gray-900"],[1,"mt-2","text-sm","text-gray-500"],[1,"mt-6","inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden border border-gray-200 hover:border-blue-300 transform hover:-translate-y-1",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-xl","transition-all","duration-300","cursor-pointer","overflow-hidden","border","border-gray-200","hover:border-blue-300","transform","hover:-translate-y-1",3,"click"],[1,"p-4","border-b","border-gray-200","bg-gradient-to-r","from-gray-50","to-white"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-lg","font-semibold","text-gray-900","flex-1","line-clamp-1"],[1,"px-3","py-1","text-xs","font-semibold","rounded-full","ml-2","whitespace-nowrap",3,"ngClass"],["class","mt-2",4,"ngIf"],[1,"p-4","space-y-3"],[1,"flex","items-center","text-sm","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","mr-2","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"font-medium"],["class","text-sm text-gray-600 line-clamp-2 italic",4,"ngIf"],[1,"mt-2"],[1,"inline-flex","items-center","px-2.5","py-1","bg-indigo-100","text-indigo-800","text-xs","font-medium","rounded-md"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-3.5","w-3.5","mr-1.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"text-sm","text-gray-600","line-clamp-2","italic"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),M("click",function(){return r.goBack()}),N(),u(6,"svg",6),_(7,"path",7),c()(),V(),u(8,"div")(9,"h1",8),f(10),c(),u(11,"p",9),f(12),w(13,TT,2,0,"span",10),c()()(),u(14,"button",11),M("click",function(){return r.navigateToAddMaraude()}),N(),u(15,"svg",12),_(16,"path",13),c(),f(17," Nouvelle maraude "),c()()()(),w(18,AT,4,0,"div",14)(19,FT,45,5,"div",15),c()),t&2&&(p(10),T(" ",r.isAdmin?"Toutes les maraudes":"Mes maraudes"," "),p(2),Ce(" ",r.filteredMaraudes.length," maraude",r.filteredMaraudes.length>1?"s":""," "),p(),g("ngIf",r.isAdmin),p(5),g("ngIf",r.loading),p(),g("ngIf",!r.loading))},dependencies:[ge,yi,Xe,Se,Pt,or,sr,Ot,un,kt,Zt]})};var ly=[{path:"",redirectTo:"/map",pathMatch:"full"},{path:"map",component:Rl,title:"Carte des Maraudes - Mapraude"},{path:"login",component:Sl,title:"Connexion Association - Mapraude"},{path:"dashboard",component:Tl,title:"Espace Association - Mapraude",canActivate:[dn]},{path:"dashboard/add-maraude",component:zo,title:"Nouvelle Maraude - Mapraude",canActivate:[dn]},{path:"dashboard/associations",component:kl,canActivate:[dn]},{path:"dashboard/maraudes",component:Pl,canActivate:[dn]},{path:"dashboard/edit-maraude/:id",component:zo,title:"Modifier Maraude - Mapraude",canActivate:[dn]},{path:"reports",component:Ol,title:"Comptes-rendus - Mapraude",canActivate:[dn]},{path:"reports/create",component:Ui,title:"Nouveau Rapport - Mapraude",canActivate:[dn]},{path:"reports/:id/edit",component:Ui,title:"Modifier Rapport - Mapraude",canActivate:[dn]},{path:"reports/:id",component:Ui,title:"Voir Rapport - Mapraude",canActivate:[dn]},{path:"**",redirectTo:"/map"}];var Fl=!1,Ff=new Te(null),Lf=(e,n)=>e.clone({setHeaders:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}}),LT=(e,n,t,r)=>Fl?Ff.pipe(We(i=>i!==null),wt(1),$e(i=>{let o=Lf(e,i);return n(o)})):(Fl=!0,Ff.next(null),t.refreshToken().pipe($e(i=>{Fl=!1;let o=i.token;Ff.next(o);let s=Lf(e,o);return n(s)}),xe(i=>(Fl=!1,t.logout(),r.navigate(["/login"]),Ae(()=>i))))),cy=(e,n)=>{let t=D(Me),r=D(de);if(e.url.includes("/auth/refresh"))return n(e);let i=t.getToken(),o=e;return i&&(o=Lf(e,i)),n(o).pipe(xe(s=>s.status===401&&i?LT(o,n,t,r):Ae(()=>s)))};var uy={providers:[jg({eventCoalescing:!0}),vv(ly),g0(v0([cy]),y0())]};M0(fl,uy).catch(e=>console.error(e));
